GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 1


   1              		.file	"str_merge.c"
   4              		.text
   5              	Ltext0:
 368              	.globl _CurrMaxTransStrId
 369              		.bss
 370              		.align 2
 371              	_CurrMaxTransStrId:
 372 0000 0000     		.space 2
 373              	.lcomm _str_merge_err_code,16
 374              		.data
 375              		.align 32
 376              	_str_merge_err_msg:
 377 0000 0000     		.ascii "\0\0"
 378 0002 00000000 		.space 400
 378      00000000 
 378      00000000 
 378      00000000 
 378      00000000 
 379              		.text
 383              	.globl _str_merge_set_err
 385              	_str_merge_set_err:
   1:str_merge.c   **** /*****************************************************************************
   2:str_merge.c   **** *  Copyright Statement:
   3:str_merge.c   **** *  --------------------
   4:str_merge.c   **** *  This software is protected by Copyright and the information contained
   5:str_merge.c   **** *  herein is confidential. The software may not be copied and the information
   6:str_merge.c   **** *  contained herein may not be used or disclosed except with the written
   7:str_merge.c   **** *  permission of MediaTek Inc. (C) 2005
   8:str_merge.c   **** *
   9:str_merge.c   **** *  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
  10:str_merge.c   **** *  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
  11:str_merge.c   **** *  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
  12:str_merge.c   **** *  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
  13:str_merge.c   **** *  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
  14:str_merge.c   **** *  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
  15:str_merge.c   **** *  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
  16:str_merge.c   **** *  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
  17:str_merge.c   **** *  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
  18:str_merge.c   **** *  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
  19:str_merge.c   **** *  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
  20:str_merge.c   **** *  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
  21:str_merge.c   **** *
  22:str_merge.c   **** *  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
  23:str_merge.c   **** *  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
  24:str_merge.c   **** *  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
  25:str_merge.c   **** *  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
  26:str_merge.c   **** *  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
  27:str_merge.c   **** *
  28:str_merge.c   **** *  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
  29:str_merge.c   **** *  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
  30:str_merge.c   **** *  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
  31:str_merge.c   **** *  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
  32:str_merge.c   **** *  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
  33:str_merge.c   **** *
  34:str_merge.c   **** *****************************************************************************/
  35:str_merge.c   **** 
  36:str_merge.c   **** /*******************************************************************************
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 2


  37:str_merge.c   ****  * Filename:
  38:str_merge.c   ****  * ---------
  39:str_merge.c   ****  * str_merge.c
  40:str_merge.c   ****  *
  41:str_merge.c   ****  * Project:
  42:str_merge.c   ****  * --------
  43:str_merge.c   ****  *   MAUI
  44:str_merge.c   ****  *
  45:str_merge.c   ****  * Description:
  46:str_merge.c   ****  * ------------
  47:str_merge.c   ****  *   Merge multi-language string table, and generate string resource files.
  48:str_merge.c   ****  *
  49:str_merge.c   ****  * Author:
  50:str_merge.c   ****  * -------
  51:str_merge.c   ****  *  
  52:str_merge.c   ****  *
  53:str_merge.c   ****  *==============================================================================
  54:str_merge.c   ****  *             HISTORY
  55:str_merge.c   ****  * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!! 
  56:str_merge.c   ****  *------------------------------------------------------------------------------
  57:str_merge.c   ****  * removed!
  58:str_merge.c   ****  *
  59:str_merge.c   ****  * removed!
  60:str_merge.c   ****  * removed!
  61:str_merge.c   ****  * removed!
  62:str_merge.c   ****  *
  63:str_merge.c   ****  * removed!
  64:str_merge.c   ****  * removed!
  65:str_merge.c   ****  * removed!
  66:str_merge.c   ****  *
  67:str_merge.c   ****  * removed!
  68:str_merge.c   ****  * removed!
  69:str_merge.c   ****  * removed!
  70:str_merge.c   ****  *
  71:str_merge.c   ****  * removed!
  72:str_merge.c   ****  * removed!
  73:str_merge.c   ****  *
  74:str_merge.c   ****  * removed!
  75:str_merge.c   ****  * removed!
  76:str_merge.c   ****  *
  77:str_merge.c   ****  * removed!
  78:str_merge.c   ****  * removed!
  79:str_merge.c   ****  * removed!
  80:str_merge.c   ****  *
  81:str_merge.c   ****  * removed!
  82:str_merge.c   ****  * removed!
  83:str_merge.c   ****  * removed!
  84:str_merge.c   ****  *
  85:str_merge.c   ****  * removed!
  86:str_merge.c   ****  * removed!
  87:str_merge.c   ****  * removed!
  88:str_merge.c   ****  *
  89:str_merge.c   ****  * removed!
  90:str_merge.c   ****  * removed!
  91:str_merge.c   ****  * removed!
  92:str_merge.c   ****  *
  93:str_merge.c   ****  * removed!
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 3


  94:str_merge.c   ****  * removed!
  95:str_merge.c   ****  * removed!
  96:str_merge.c   ****  *
  97:str_merge.c   ****  * removed!
  98:str_merge.c   ****  * removed!
  99:str_merge.c   ****  * removed!
 100:str_merge.c   ****  *
 101:str_merge.c   ****  * removed!
 102:str_merge.c   ****  * removed!
 103:str_merge.c   ****  * removed!
 104:str_merge.c   ****  *
 105:str_merge.c   ****  * removed!
 106:str_merge.c   ****  * removed!
 107:str_merge.c   ****  * removed!
 108:str_merge.c   ****  *
 109:str_merge.c   ****  * removed!
 110:str_merge.c   ****  * removed!
 111:str_merge.c   ****  * removed!
 112:str_merge.c   ****  *
 113:str_merge.c   ****  * removed!
 114:str_merge.c   ****  * removed!
 115:str_merge.c   ****  * removed!
 116:str_merge.c   ****  *
 117:str_merge.c   ****  * removed!
 118:str_merge.c   ****  * removed!
 119:str_merge.c   ****  * removed!
 120:str_merge.c   ****  *
 121:str_merge.c   ****  * removed!
 122:str_merge.c   ****  * removed!
 123:str_merge.c   ****  * removed!
 124:str_merge.c   ****  *
 125:str_merge.c   ****  * removed!
 126:str_merge.c   ****  * removed!
 127:str_merge.c   ****  * removed!
 128:str_merge.c   ****  *
 129:str_merge.c   ****  * removed!
 130:str_merge.c   ****  * removed!
 131:str_merge.c   ****  * removed!
 132:str_merge.c   ****  *
 133:str_merge.c   ****  * removed!
 134:str_merge.c   ****  * removed!
 135:str_merge.c   ****  * removed!
 136:str_merge.c   ****  *
 137:str_merge.c   ****  * removed!
 138:str_merge.c   ****  * removed!
 139:str_merge.c   ****  * removed!
 140:str_merge.c   ****  *
 141:str_merge.c   ****  * removed!
 142:str_merge.c   ****  * removed!
 143:str_merge.c   ****  * removed!
 144:str_merge.c   ****  *
 145:str_merge.c   ****  * removed!
 146:str_merge.c   ****  * removed!
 147:str_merge.c   ****  * removed!
 148:str_merge.c   ****  *
 149:str_merge.c   ****  * removed!
 150:str_merge.c   ****  * removed!
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 4


 151:str_merge.c   ****  * removed!
 152:str_merge.c   ****  *
 153:str_merge.c   ****  * removed!
 154:str_merge.c   ****  * removed!
 155:str_merge.c   ****  * removed!
 156:str_merge.c   ****  *
 157:str_merge.c   ****  * removed!
 158:str_merge.c   ****  * removed!
 159:str_merge.c   ****  * removed!
 160:str_merge.c   ****  *
 161:str_merge.c   ****  * removed!
 162:str_merge.c   ****  * removed!
 163:str_merge.c   ****  * removed!
 164:str_merge.c   ****  *
 165:str_merge.c   ****  * removed!
 166:str_merge.c   ****  * removed!
 167:str_merge.c   ****  * removed!
 168:str_merge.c   ****  *
 169:str_merge.c   ****  * removed!
 170:str_merge.c   ****  * removed!
 171:str_merge.c   ****  * removed!
 172:str_merge.c   ****  *
 173:str_merge.c   ****  * removed!
 174:str_merge.c   ****  * removed!
 175:str_merge.c   ****  * removed!
 176:str_merge.c   ****  *
 177:str_merge.c   ****  * removed!
 178:str_merge.c   ****  * removed!
 179:str_merge.c   ****  * removed!
 180:str_merge.c   ****  *
 181:str_merge.c   ****  * removed!
 182:str_merge.c   ****  * removed!
 183:str_merge.c   ****  * removed!
 184:str_merge.c   ****  *
 185:str_merge.c   ****  * removed!
 186:str_merge.c   ****  * removed!
 187:str_merge.c   ****  * removed!
 188:str_merge.c   ****  *
 189:str_merge.c   ****  * removed!
 190:str_merge.c   ****  * removed!
 191:str_merge.c   ****  * removed!
 192:str_merge.c   ****  *
 193:str_merge.c   ****  * removed!
 194:str_merge.c   ****  * removed!
 195:str_merge.c   ****  * removed!
 196:str_merge.c   ****  *
 197:str_merge.c   ****  * removed!
 198:str_merge.c   ****  * removed!
 199:str_merge.c   ****  * removed!
 200:str_merge.c   ****  *
 201:str_merge.c   ****  * removed!
 202:str_merge.c   ****  * removed!
 203:str_merge.c   ****  * removed!
 204:str_merge.c   ****  *
 205:str_merge.c   ****  * removed!
 206:str_merge.c   ****  * removed!
 207:str_merge.c   ****  * removed!
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 5


 208:str_merge.c   ****  *
 209:str_merge.c   ****  * removed!
 210:str_merge.c   ****  * removed!
 211:str_merge.c   ****  * removed!
 212:str_merge.c   ****  *
 213:str_merge.c   ****  * removed!
 214:str_merge.c   ****  * removed!
 215:str_merge.c   ****  * removed!
 216:str_merge.c   ****  *
 217:str_merge.c   ****  * removed!
 218:str_merge.c   ****  * removed!
 219:str_merge.c   ****  * removed!
 220:str_merge.c   ****  *
 221:str_merge.c   ****  * removed!
 222:str_merge.c   ****  * removed!
 223:str_merge.c   ****  * removed!
 224:str_merge.c   ****  *
 225:str_merge.c   ****  * removed!
 226:str_merge.c   ****  * removed!
 227:str_merge.c   ****  * removed!
 228:str_merge.c   ****  *
 229:str_merge.c   ****  * removed!
 230:str_merge.c   ****  * removed!
 231:str_merge.c   ****  * removed!
 232:str_merge.c   ****  *
 233:str_merge.c   ****  * removed!
 234:str_merge.c   ****  * removed!
 235:str_merge.c   ****  * removed!
 236:str_merge.c   ****  *
 237:str_merge.c   ****  * removed!
 238:str_merge.c   ****  * removed!
 239:str_merge.c   ****  * removed!
 240:str_merge.c   ****  *
 241:str_merge.c   ****  * removed!
 242:str_merge.c   ****  * removed!
 243:str_merge.c   ****  * removed!
 244:str_merge.c   ****  *
 245:str_merge.c   ****  * removed!
 246:str_merge.c   ****  * removed!
 247:str_merge.c   ****  * removed!
 248:str_merge.c   ****  *
 249:str_merge.c   ****  * removed!
 250:str_merge.c   ****  * removed!
 251:str_merge.c   ****  * removed!
 252:str_merge.c   ****  *
 253:str_merge.c   ****  * removed!
 254:str_merge.c   ****  * removed!
 255:str_merge.c   ****  * removed!
 256:str_merge.c   ****  *
 257:str_merge.c   ****  * removed!
 258:str_merge.c   ****  * removed!
 259:str_merge.c   ****  * removed!
 260:str_merge.c   ****  *
 261:str_merge.c   ****  * removed!
 262:str_merge.c   ****  * removed!
 263:str_merge.c   ****  * removed!
 264:str_merge.c   ****  *
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 6


 265:str_merge.c   ****  * removed!
 266:str_merge.c   ****  * removed!
 267:str_merge.c   ****  * removed!
 268:str_merge.c   ****  *
 269:str_merge.c   ****  * removed!
 270:str_merge.c   ****  * removed!
 271:str_merge.c   ****  * removed!
 272:str_merge.c   ****  *
 273:str_merge.c   ****  * removed!
 274:str_merge.c   ****  * removed!
 275:str_merge.c   ****  * removed!
 276:str_merge.c   ****  *
 277:str_merge.c   ****  *------------------------------------------------------------------------------
 278:str_merge.c   ****  * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!! 
 279:str_merge.c   ****  *==============================================================================
 280:str_merge.c   ****  *******************************************************************************/
 281:str_merge.c   **** 
 282:str_merge.c   **** #include <stdio.h>
 283:str_merge.c   **** #include <stdlib.h>
 284:str_merge.c   **** #include <string.h>
 285:str_merge.c   **** #include <malloc.h>
 286:str_merge.c   **** #include <tchar.h>
 287:str_merge.c   **** #include <unistd.h>
 288:str_merge.c   **** 
 289:str_merge.c   **** #include "MMI_features.h"
 290:str_merge.c   **** #include "MMIDataType.h"
 291:str_merge.c   **** #include "FontRes.h"
 292:str_merge.c   **** #include "CustDataRes.h"
 293:str_merge.c   **** #include "CustResDef.h"
 294:str_merge.c   **** 
 295:str_merge.c   **** #include "FontDcl.h"
 296:str_merge.c   **** #include "str_merge_public.h"
 297:str_merge.c   **** #include "ResgenLogCAPI.h"
 298:str_merge.c   **** #include "ResgenCatUtilCAPI.h"
 299:str_merge.c   **** // Global Configuration of MMIResource Compression
 300:str_merge.c   **** // You can config the compression in this header file
 301:str_merge.c   **** #include "ResCompressConfig.h"
 302:str_merge.c   **** 
 303:str_merge.c   **** 
 304:str_merge.c   **** /*
 305:str_merge.c   **** To define the following macro variable to enable/disable function as following:
 306:str_merge.c   **** (1) MEM_REF_LIST_OPT: To reduce the REF LIST buffer memory requirement 
 307:str_merge.c   **** (2) STR_MERGE_DEBUG: Show extra debuging infomation
 308:str_merge.c   **** (3) DEBUG_REF_LIST_DUMP: dump ref list processed to the following path :
 309:str_merge.c   ****      debug\ref_all_dump.txt: ref_all loaded in memory
 310:str_merge.c   ****      debug\ref_all_merged_dump.txt : processing result of ref_all in memory
 311:str_merge.c   **** (4) MEM_LIST_INFO_STATS: Show length statistic information of string lines in REF LIST file
 312:str_merge.c   **** */
 313:str_merge.c   **** 
 314:str_merge.c   **** 
 315:str_merge.c   **** /* Memory optimization for loading ref list */
 316:str_merge.c   **** #define MEM_REF_LIST_OPT
 317:str_merge.c   **** 
 318:str_merge.c   **** 
 319:str_merge.c   **** /* Statistic of memory usage of string lines in ref lists */
 320:str_merge.c   **** /* #define MEM_LIST_INFO_STATS */
 321:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 7


 322:str_merge.c   **** /* Show debug message and dump processed ref list to files*/
 323:str_merge.c   **** #define STR_MERGE_DEBUG
 324:str_merge.c   **** 
 325:str_merge.c   **** #define STRMERG_TAG       "STR_MERGE"
 326:str_merge.c   **** #define STRMERG_SUB_TAG_MEM     "[MEM]"
 327:str_merge.c   **** 
 328:str_merge.c   **** #define STRMERG_LOG_D(format, args...) RES_LOG_D((STRMERG_TAG), (format) , ##args)
 329:str_merge.c   **** #define STRMERG_LOG_V(format, args...) RES_LOG_V((STRMERG_TAG), (format) , ##args)
 330:str_merge.c   **** #define STRMERG_LOG_W(format, args...) RES_LOG_W((STRMERG_TAG), (format) , ##args)
 331:str_merge.c   **** #define STRMERG_LOG_E(format, args...) RES_LOG_E((STRMERG_TAG), (format) , ##args)
 332:str_merge.c   **** 
 333:str_merge.c   **** #define STRMERG_WLOG_D(format, args...) RES_WLOG_D((STRMERG_TAG), (format) , ##args)
 334:str_merge.c   **** #define STRMERG_WLOG_V(format, args...) RES_WLOG_V((STRMERG_TAG), (format) , ##args)
 335:str_merge.c   **** #define STRMERG_WLOG_W(format, args...) RES_WLOG_W((STRMERG_TAG), (format) , ##args)
 336:str_merge.c   **** #define STRMERG_WLOG_E(format, args...) RES_WLOG_E((STRMERG_TAG), (format) , ##args)
 337:str_merge.c   **** 
 338:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
 339:str_merge.c   **** #define REF_LIST_SIZE_INCREMENT 500
 340:str_merge.c   **** #define REF_LIST_DEFAULT_SIZE 15000
 341:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 342:str_merge.c   **** 
 343:str_merge.c   **** #ifdef MEM_LIST_INFO_STATS
 344:str_merge.c   **** #define MEM_STATS_ITEM_MAX 5
 345:str_merge.c   **** #define MEM_STATS_ITEM_LENGTH 5000
 346:str_merge.c   **** #endif /*MEM_LIST_INFO_STATS*/
 347:str_merge.c   **** 
 348:str_merge.c   **** #ifdef DEBUG_REF_LIST_DUMP
 349:str_merge.c   **** #define REFLISST_DUMP_FILE_BEFOR_MERGE   "..\\..\\Customer\\ResGenerator\\debug\\ref_all_dump.txt"
 350:str_merge.c   **** #define REFLISST_DUMP_FILE_AFTER_MERGE   "..\\..\\Customer\\ResGenerator\\debug\\ref_all_merged_dum
 351:str_merge.c   **** #endif /* DEBUG_REF_LIST_DUMP */
 352:str_merge.c   **** 
 353:str_merge.c   **** 
 354:str_merge.c   **** #ifdef DEVELOPER_BUILD_FIRST_PASS
 355:str_merge.c   **** #define ASSERT(expr) {if(!(expr)) {while(1);}else {}}
 356:str_merge.c   **** #endif
 357:str_merge.c   **** 
 358:str_merge.c   **** #define STR_RESOURCE_MAX_SYMBOL_LEN 128
 359:str_merge.c   **** 
 360:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
 361:str_merge.c   **** #include "Zlib.h"
 362:str_merge.c   **** #include "StringCompressionBufferCAPI.h"
 363:str_merge.c   **** #endif
 364:str_merge.c   **** 
 365:str_merge.c   **** /* #define __TIME_CONSUME for calculating execution time */
 366:str_merge.c   **** #ifdef __TIME_CONSUME
 367:str_merge.c   **** #include <time.h>
 368:str_merge.c   **** #endif
 369:str_merge.c   **** 
 370:str_merge.c   **** /* max string length for each language */
 371:str_merge.c   **** #define MAX_LENGTH      512
 372:str_merge.c   **** /* string length for temp buffer */
 373:str_merge.c   **** #define TMP_BUF_LENGTH  1024
 374:str_merge.c   **** 
 375:str_merge.c   **** #if defined(__IOT__)||defined(__IOT_LOCK__)
 376:str_merge.c   ****     #define ref_file        "..\\custresource\\ref_list_empty.txt"
 377:str_merge.c   **** #else /*__IOT__*/
 378:str_merge.c   **** #define ref_file        "..\\custresource\\ref_list.txt"
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 8


 379:str_merge.c   **** #endif /*__IOT__*/
 380:str_merge.c   **** 
 381:str_merge.c   **** #ifndef __OPTR_NONE__
 382:str_merge.c   **** /* max SSC length */
 383:str_merge.c   **** #define SSC_LENGTH      16
 384:str_merge.c   **** /* ref_list.txt customized for operator */
 385:str_merge.c   **** #ifdef __OP_TECH_REL__
 386:str_merge.c   **** /* under construction !*/
 387:str_merge.c   **** #else
 388:str_merge.c   **** #define optr_ref_file   "operator_ref_list.txt"
 389:str_merge.c   **** #endif
 390:str_merge.c   **** #endif
 391:str_merge.c   **** 
 392:str_merge.c   **** /* this marker indicates using English as string translation */
 393:str_merge.c   **** #define NO_TRANSLATION_MARKER   19
 394:str_merge.c   **** 
 395:str_merge.c   **** 
 396:str_merge.c   **** /* Retry count of memory allocation */
 397:str_merge.c   **** #define MEM_RETRY_COUNT_MAX 15
 398:str_merge.c   **** 
 399:str_merge.c   **** /* Time interval of memory allocation retry*/
 400:str_merge.c   **** #define MEM_RETRY_TIME_INTERVAL_SEC 60
 401:str_merge.c   **** 
 402:str_merge.c   **** 
 403:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
 404:str_merge.c   **** #define ENFB_STRING_DATA_FILENAME  "..\\..\\Customer\\CustResource\\CustENFBStrData"
 405:str_merge.c   **** #define ENFB_STRING_HEADER_FILENAME  "..\\..\\Customer\\CustResource\\CustENFBStr.h"
 406:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
 407:str_merge.c   **** 
 408:str_merge.c   **** 
 409:str_merge.c   **** 
 410:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
 411:str_merge.c   **** 
 412:str_merge.c   **** typedef struct RefListItem
 413:str_merge.c   **** {
 414:str_merge.c   ****     /* String line */
 415:str_merge.c   ****     wchar_t *ItemData;
 416:str_merge.c   ****     /* Data Length in bytes */
 417:str_merge.c   ****     int ItemSize;
 418:str_merge.c   **** } RefListItem;
 419:str_merge.c   **** 
 420:str_merge.c   **** typedef struct RefList
 421:str_merge.c   **** {
 422:str_merge.c   ****     /* List items */
 423:str_merge.c   ****     RefListItem** ListItems;
 424:str_merge.c   ****     /* Length of List items in elements*/
 425:str_merge.c   ****     int ListLength;
 426:str_merge.c   ****     /* Capacity of List items in elements*/
 427:str_merge.c   ****     int Size;
 428:str_merge.c   ****     /* Allocated memory for the content in bytes*/
 429:str_merge.c   ****     unsigned long AllocatedSize;
 430:str_merge.c   **** } RefList;
 431:str_merge.c   **** 
 432:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 433:str_merge.c   **** 
 434:str_merge.c   **** typedef struct StrRes
 435:str_merge.c   **** {
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 9


 436:str_merge.c   ****     wchar_t **Str;      /* pointer array of lists to store Strings */
 437:str_merge.c   ****     int *StrRef;        /* pointers of Reference id in hash table of each string */
 438:str_merge.c   ****     int MaxID;          /* Maximum number of string ids */
 439:str_merge.c   ****     int MaxNum;         /* Maximum number of strings */
 440:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 441:str_merge.c   ****     char *is_dup;       /* flag to specify whether this string is duplicated */    
 442:str_merge.c   **** #endif
 443:str_merge.c   ****     int TotalLength;
 444:str_merge.c   **** } StrRes;
 445:str_merge.c   **** 
 446:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 447:str_merge.c   **** typedef struct DupStrRes
 448:str_merge.c   **** {
 449:str_merge.c   ****     wchar_t **Str;      /* pointer array of lists to store Strings */
 450:str_merge.c   ****     int MaxNum;         /* Maximum number of duplicated strings in different language */        
 451:str_merge.c   **** } DupStrRes;
 452:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
 453:str_merge.c   **** 
 454:str_merge.c   **** typedef struct StrResSet
 455:str_merge.c   **** {
 456:str_merge.c   ****     struct StrRes *strres;
 457:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 458:str_merge.c   ****     struct DupStrRes *strres_dup;    /* field for duplicated string resource */
 459:str_merge.c   **** #endif
 460:str_merge.c   ****     int iLang;
 461:str_merge.c   **** } StrResSet;
 462:str_merge.c   **** 
 463:str_merge.c   **** typedef struct HashItem
 464:str_merge.c   **** {
 465:str_merge.c   ****     int pointer;        /* index in string array */
 466:str_merge.c   ****     struct HashItem *next;
 467:str_merge.c   **** } HashItem;
 468:str_merge.c   **** 
 469:str_merge.c   **** extern const U8 mmi_res_zip_language[MAX_LANGUAGES+1];
 470:str_merge.c   **** extern U8 StrIsPopulate[MAX_STRING_MAP_SIZE];
 471:str_merge.c   **** extern U8 *StrEnum[MAX_STRING_MAP_SIZE];
 472:str_merge.c   **** extern U8 *Str[MAX_STRING_MAP_SIZE];
 473:str_merge.c   **** extern U16 CurrMaxStringId;
 474:str_merge.c   **** 
 475:str_merge.c   **** typedef struct StrIDNode{
 476:str_merge.c   ****     wchar_t *str; /* we will not malloc for this string */
 477:str_merge.c   ****     U16 id;
 478:str_merge.c   ****     struct StrIDNode *next;
 479:str_merge.c   **** }StrIDNode;
 480:str_merge.c   **** 
 481:str_merge.c   **** typedef struct StrHashTable{
 482:str_merge.c   ****     int table_size;
 483:str_merge.c   ****     StrIDNode **table;
 484:str_merge.c   **** }StrHashTable;
 485:str_merge.c   **** 
 486:str_merge.c   **** 
 487:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 488:str_merge.c   **** #define FIXED_INVALID_FLAG    0
 489:str_merge.c   **** #define NO_TRANSLATE_FLAG     1
 490:str_merge.c   **** #define TRANSLATE_FLAG        2
 491:str_merge.c   **** 
 492:str_merge.c   **** /* fixed string log file */
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 10


 493:str_merge.c   **** #define FIXED_STRING_LOG    "..\\..\\Customer\\ResGenerator\\debug\\no_translate_string.txt"
 494:str_merge.c   **** 
 495:str_merge.c   **** typedef struct FixedID{
 496:str_merge.c   ****     U16 id_count;                          /* fixed id count */
 497:str_merge.c   ****     U8 *fixed_id_flag; /* flag to indicate if id is fixed language or not */
 498:str_merge.c   ****     StrHashTable *enum_id_tb;               /* ID_Enum & ID pair */
 499:str_merge.c   ****     StrHashTable *str_id_tb;                /* str & ID pair */
 500:str_merge.c   **** }FixedID;
 501:str_merge.c   **** 
 502:str_merge.c   **** typedef struct FixedResult{
 503:str_merge.c   ****     U16 nTotalStrRes;
 504:str_merge.c   ****     MMI_BOOL is16bit;
 505:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
 506:str_merge.c   ****     U32 nResSize;
 507:str_merge.c   ****     U32 nResZipSize;
 508:str_merge.c   ****     U32 nMapSize;
 509:str_merge.c   ****     U32 nMapZipSize;
 510:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
 511:str_merge.c   **** }FixedResult; /* result data structure */
 512:str_merge.c   **** 
 513:str_merge.c   **** /* extern U16 CurrMaxStringId */
 514:str_merge.c   **** U16 CurrMaxTransStrId = 0; /* total count of populated string id with translation */
 515:str_merge.c   **** 
 516:str_merge.c   **** /* fixed id data */
 517:str_merge.c   **** FixedID fixed_id;
 518:str_merge.c   **** 
 519:str_merge.c   **** /* fixed id parse result */
 520:str_merge.c   **** FixedResult fixed_result;
 521:str_merge.c   **** 
 522:str_merge.c   **** /* record string merge result */
 523:str_merge.c   **** 
 524:str_merge.c   **** static int str_merge_err_code = STRMERGE_NO_ERR;
 525:str_merge.c   **** static wchar_t str_merge_err_msg[STRMERGE_ERR_MSG_LEN_MAX+1] = L"";
 526:str_merge.c   **** 
 527:str_merge.c   **** void str_merge_set_err(int err_code, wchar_t * msg){
 387              	LM1:
 388 0000 55       		pushl	%ebp
 389 0001 89E5     		movl	%esp, %ebp
 390 0003 83EC18   		subl	$24, %esp
 528:str_merge.c   **** 	str_merge_err_code = err_code;
 392              	LM2:
 393 0006 8B4508   		movl	8(%ebp), %eax
 394 0009 A3080000 		movl	%eax, _str_merge_err_code
 394      00
 529:str_merge.c   **** 	wcsncpy(str_merge_err_msg,msg, STRMERGE_ERR_MSG_LEN_MAX);
 396              	LM3:
 397 000e C7442408 		movl	$200, 8(%esp)
 397      C8000000 
 398 0016 8B450C   		movl	12(%ebp), %eax
 399 0019 89442404 		movl	%eax, 4(%esp)
 400 001d C7042400 		movl	$_str_merge_err_msg, (%esp)
 400      000000
 401 0024 E8000000 		call	_wcsncpy
 401      00
 530:str_merge.c   **** }
 403              	LM4:
 404 0029 C9       		leave
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 11


 405 002a C3       		ret
 406              	Lscope0:
 410              	.globl _str_merge_get_err
 412              	_str_merge_get_err:
 531:str_merge.c   **** 
 532:str_merge.c   **** int str_merge_get_err(wchar_t ** msg){
 414              	LM5:
 415 002b 55       		pushl	%ebp
 416 002c 89E5     		movl	%esp, %ebp
 533:str_merge.c   **** 	if(str_merge_err_code != STRMERGE_NO_ERR){
 418              	LM6:
 419 002e 833D0800 		cmpl	$0, _str_merge_err_code
 419      000000
 420 0035 7409     		je	L31
 534:str_merge.c   **** 		*msg = str_merge_err_msg;
 422              	LM7:
 423 0037 8B4508   		movl	8(%ebp), %eax
 424 003a C7000000 		movl	$_str_merge_err_msg, (%eax)
 424      0000
 425              	L31:
 535:str_merge.c   **** 	}
 536:str_merge.c   **** 	return str_merge_err_code;
 427              	LM8:
 428 0040 A1080000 		movl	_str_merge_err_code, %eax
 428      00
 537:str_merge.c   **** }
 430              	LM9:
 431 0045 5D       		popl	%ebp
 432 0046 C3       		ret
 433              	Lscope1:
 435 0047 90       		.align 2
 436              	LC0:
 437 0048 09000000 		.ascii "\11\0\0\0"
 438              		.data
 439 0192 0000     		.align 4
 440              	_DELIMETER:
 441 0194 48000000 		.long	LC0
 442              		.text
 443              		.align 2
 444              	LC1:
 445 004c 0A000000 		.ascii "\12\0\0\0"
 446              		.data
 447              		.align 4
 448              	_EOS:
 449 0198 4C000000 		.long	LC1
 450              	.lcomm _StrID,16
 451              	.lcomm _g_line_buf_length,16
 452              	.lcomm _g_line_buf_act_length,16
 453              	.lcomm _ref_all_list,16
 454              	.lcomm _ref_ssc,16
 455              	.lcomm _ref_tmp,16
 456              	.lcomm _nLang,16
 457              	.lcomm _filter_ref_ssc,16
 458              	.lcomm _nUsedLang,16
 459              	.lcomm _line_offset,16
 460 019c 00000000 		.text
 464              	_CreateHashTable:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 12


 538:str_merge.c   **** 
 539:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
 540:str_merge.c   **** /*****************************************************************************
 541:str_merge.c   ****  * FUNCTION
 542:str_merge.c   ****  *  CreateRefList
 543:str_merge.c   ****  * DESCRIPTION
 544:str_merge.c   ****  *  Create RefList to save variable size items in a ref list 
 545:str_merge.c   ****  * PARAMETERS
 546:str_merge.c   ****  *  listSize: the list size in elements 
 547:str_merge.c   ****  * RETURNS
 548:str_merge.c   ****  *  return RefList object with size listSize
 549:str_merge.c   ****  *****************************************************************************/
 550:str_merge.c   ****  
 551:str_merge.c   **** static RefList* CreateRefList(int listSize);
 552:str_merge.c   **** 
 553:str_merge.c   **** /*****************************************************************************
 554:str_merge.c   ****  * FUNCTION
 555:str_merge.c   ****  *  DeleteRefList
 556:str_merge.c   ****  * DESCRIPTION
 557:str_merge.c   ****  *  To delete a RefList obecjt. This operator will free all the list items and
 558:str_merge.c   ****  *  their datas automatically, 
 559:str_merge.c   ****  * PARAMETERS
 560:str_merge.c   ****  *  list: the Ref List to be destroyed
 561:str_merge.c   ****  * RETURNS
 562:str_merge.c   ****  *   NA
 563:str_merge.c   ****  *****************************************************************************/
 564:str_merge.c   **** static void DeleteRefList(RefList * list);
 565:str_merge.c   **** 
 566:str_merge.c   **** 
 567:str_merge.c   **** /*****************************************************************************
 568:str_merge.c   ****  * FUNCTION
 569:str_merge.c   ****  *  CreateListItemFromStr
 570:str_merge.c   ****  * DESCRIPTION
 571:str_merge.c   ****  *  Create a ref item object with a string line with cloning approach.
 572:str_merge.c   ****  * PARAMETERS
 573:str_merge.c   ****  *  str: the string content used to create the ref list item object.
 574:str_merge.c   ****  * RETURNS
 575:str_merge.c   ****  *   A created RefListItem object, return NULL if the object creation failed
 576:str_merge.c   ****  *****************************************************************************/
 577:str_merge.c   **** /* Create a ref item object with a string line */
 578:str_merge.c   **** static RefListItem* CreateListItemFromStr(wchar_t * str);
 579:str_merge.c   **** 
 580:str_merge.c   **** /*****************************************************************************
 581:str_merge.c   ****  * FUNCTION
 582:str_merge.c   ****  *  AddRefListItem
 583:str_merge.c   ****  * DESCRIPTION
 584:str_merge.c   ****  *  Add an item form a ref list
 585:str_merge.c   ****  * PARAMETERS
 586:str_merge.c   ****  *  list: ref list object
 587:str_merge.c   ****  *  item: the ref list item to be added to ref list
 588:str_merge.c   ****  * RETURNS
 589:str_merge.c   ****  *   An int value indicated the position of the item in the ref list. Return
 590:str_merge.c   ****  *   -1 indicate that the operation is failed
 591:str_merge.c   ****  *****************************************************************************/
 592:str_merge.c   **** static int AddRefListItem(RefList * list, RefListItem* item);
 593:str_merge.c   **** 
 594:str_merge.c   **** /*****************************************************************************
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 13


 595:str_merge.c   ****  * FUNCTION
 596:str_merge.c   ****  *  GetRefListItem
 597:str_merge.c   ****  * DESCRIPTION
 598:str_merge.c   ****  *  Get an item from a ref list
 599:str_merge.c   ****  * PARAMETERS
 600:str_merge.c   ****  *  list: ref list object
 601:str_merge.c   ****  *  index: the posotion of the item in this ref list
 602:str_merge.c   ****  * RETURNS
 603:str_merge.c   ****  *   Return the item obecjt in the position assigned; return NULL if it is 
 604:str_merge.c   ****  *   not found
 605:str_merge.c   ****  *****************************************************************************/
 606:str_merge.c   **** static RefListItem* GetRefListItem(RefList * list, int index);
 607:str_merge.c   **** 
 608:str_merge.c   **** /*****************************************************************************
 609:str_merge.c   ****  * FUNCTION
 610:str_merge.c   ****  *  SetRefListItem
 611:str_merge.c   ****  * DESCRIPTION
 612:str_merge.c   ****  *  Set a list item, the old item is free by this function automatically
 613:str_merge.c   ****  * PARAMETERS
 614:str_merge.c   ****  *  list: ref list object
 615:str_merge.c   ****  *  index: the specified posotion of the item in this ref list
 616:str_merge.c   ****  *  item: the item to be set to the specified position
 617:str_merge.c   ****  * RETURNS
 618:str_merge.c   ****  *   0 means that the set operation is successful or the operation is 
 619:str_merge.c   ****  *   failed
 620:str_merge.c   ****  *****************************************************************************/
 621:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 622:str_merge.c   **** 
 623:str_merge.c   **** 
 624:str_merge.c   **** #ifdef STR_MERGE_DEBUG
 625:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
 626:str_merge.c   **** /*****************************************************************************
 627:str_merge.c   ****  * FUNCTION
 628:str_merge.c   ****  *  DumpRefList
 629:str_merge.c   ****  * DESCRIPTION
 630:str_merge.c   ****  *  Dump the old style ref list (array style) to a speficied file
 631:str_merge.c   ****  * PARAMETERS
 632:str_merge.c   ****  *  filename: the file name of the ref list dump
 633:str_merge.c   ****  *  list: ref list array
 634:str_merge.c   ****  *  ItemSize: the array element size in bytes
 635:str_merge.c   ****  *  count: the total count of the elements
 636:str_merge.c   ****  * RETURNS
 637:str_merge.c   ****  *   NA
 638:str_merge.c   ****  *****************************************************************************/
 639:str_merge.c   **** 
 640:str_merge.c   **** static void DumpRefList(const char* filename, wchar_t *list,const int ItemSize, int count);
 641:str_merge.c   **** 
 642:str_merge.c   **** #else /*MEM_REF_LIST_OPT*/
 643:str_merge.c   **** 
 644:str_merge.c   **** /*****************************************************************************
 645:str_merge.c   ****  * FUNCTION
 646:str_merge.c   ****  *  DumpRefList
 647:str_merge.c   ****  * DESCRIPTION
 648:str_merge.c   ****  *  Dump the ref list to a speficied file
 649:str_merge.c   ****  * PARAMETERS
 650:str_merge.c   ****  *  filename: the file name of the ref list dump
 651:str_merge.c   ****  *  list: ref list object
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 14


 652:str_merge.c   ****  * RETURNS
 653:str_merge.c   ****  *   NA
 654:str_merge.c   ****  *****************************************************************************/
 655:str_merge.c   **** static void DumpRefList(const char* filename, RefList *list);
 656:str_merge.c   **** 
 657:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 658:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
 659:str_merge.c   **** 
 660:str_merge.c   **** 
 661:str_merge.c   **** 
 662:str_merge.c   **** /* fixed string main function */
 663:str_merge.c   **** static int generate_fixed_str(FILE *res, FILE *map, FILE * resMeta, FILE * mapMeta,FixedID *fixed);
 664:str_merge.c   **** 
 665:str_merge.c   **** static int init_fixed_id(FixedID *fixed, int table_size);
 666:str_merge.c   **** static int generate_enum_hash(StrHashTable *table, U8 *isPop, wchar_t *str[]);
 667:str_merge.c   **** static int write_fixed_str(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta,U8 *s, int pos, int *
 668:str_merge.c   **** static int write_fixed_str_offset(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta, U8 *s, int po
 669:str_merge.c   **** static int write_fixed_offset(FILE *res, FILE *map, FILE* resMeta, FILE *mapMeta, int pos, int *off
 670:str_merge.c   **** static MMI_BOOL write_fixed_string_log(FILE *log, U16 id, U16 dup_id);
 671:str_merge.c   **** static int set_fixed_str_flag(FixedID *fixed, wchar_t* id);
 672:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
 673:str_merge.c   **** 
 674:str_merge.c   **** static int generate_strmap_search(FILE *res, FILE *resMeta);
 675:str_merge.c   **** 
 676:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
 677:str_merge.c   **** static MMI_BOOL generate_language_list_array(FILE *res, StrRes *strres, DupStrRes *strres_dup, int 
 678:str_merge.c   **** #else
 679:str_merge.c   **** static MMI_BOOL generate_language_list_array(FILE *res, StrRes *strres, int num_map_search,U32 *res
 680:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
 681:str_merge.c   **** /* get fontres data */
 682:str_merge.c   **** extern const U16 mtk_gMaxDeployedLangs;
 683:str_merge.c   **** extern const sLanguageDetails mtk_gLanguageArray[];
 684:str_merge.c   **** 
 685:str_merge.c   **** static const wchar_t *DELIMETER = L"\t";
 686:str_merge.c   **** static const wchar_t *EOS = L"\n";
 687:str_merge.c   **** 
 688:str_merge.c   **** static int *mtk_gLanguageFlag;
 689:str_merge.c   **** 
 690:str_merge.c   **** static MMI_BOOL *is16bit;
 691:str_merge.c   **** static U16 StrLine[MAX_STRING_MAP_SIZE];
 692:str_merge.c   **** static U16 StrSize[MAX_STRING_MAP_SIZE];
 693:str_merge.c   **** static U16 *StrID = NULL;
 694:str_merge.c   **** static U32 g_line_buf_length = 0;
 695:str_merge.c   **** /*only include populate languages length*/
 696:str_merge.c   **** static U32 g_line_buf_act_length = 0;
 697:str_merge.c   **** 
 698:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
 699:str_merge.c   **** static wchar_t *ref_all = NULL;
 700:str_merge.c   **** #else  /*MEM_REF_LIST_OPT*/
 701:str_merge.c   **** /* Use vector to reduce the memory size of ref list buffer*/
 702:str_merge.c   **** static RefList *ref_all_list = NULL;
 703:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
 704:str_merge.c   **** 
 705:str_merge.c   **** static wchar_t *ref_ssc = NULL;
 706:str_merge.c   **** static wchar_t *ref_tmp = NULL;
 707:str_merge.c   **** static int nLang = 0;
 708:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 15


 709:str_merge.c   **** /*filtered ref ssc*/
 710:str_merge.c   **** static wchar_t *filter_ref_ssc = NULL; 
 711:str_merge.c   **** #ifndef __OPTR_NONE__
 712:str_merge.c   **** static wchar_t *optr_filter_ref_ssc = NULL;
 713:str_merge.c   **** #endif /*__OPTR_NONE__*/
 714:str_merge.c   **** 
 715:str_merge.c   **** 
 716:str_merge.c   **** /*deployed language*/
 717:str_merge.c   **** static U16 nUsedLang = 0;
 718:str_merge.c   **** static U16 *line_offset = NULL;
 719:str_merge.c   **** 
 720:str_merge.c   **** 
 721:str_merge.c   **** 
 722:str_merge.c   **** static int ifLanguageUsed(wchar_t *ssc_ref);
 723:str_merge.c   **** 
 724:str_merge.c   **** 
 725:str_merge.c   **** 
 726:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
 727:str_merge.c   **** 
 728:str_merge.c   **** static void launchStrDeCompressionBufferCreator(StrRes *strres, DupStrRes *strres_dup,U32 *res_size
 729:str_merge.c   ****     int i = 0;
 730:str_merge.c   ****     for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 731:str_merge.c   ****     {
 732:str_merge.c   ****         int old_i = i;
 733:str_merge.c   ****         if (mtk_gLanguageFlag[i] == 0)
 734:str_merge.c   ****         {
 735:str_merge.c   ****             i = 0;
 736:str_merge.c   ****         }
 737:str_merge.c   ****         if(mmi_res_zip_language[i] == 1){
 738:str_merge.c   ****             StrDeCompressBufAddStrBuf(res_size[i], map_size[i], is16bit[i]);
 739:str_merge.c   ****         }
 740:str_merge.c   ****         i = old_i;
 741:str_merge.c   ****     }
 742:str_merge.c   **** 
 743:str_merge.c   ****     if (mmi_res_zip_language[MAX_LANGUAGES] == 1){
 744:str_merge.c   ****         // StrDeCompressionSetDupBuffer(int resSize);
 745:str_merge.c   ****         if (strres_dup->MaxNum > 0)
 746:str_merge.c   ****         {
 747:str_merge.c   **** 
 748:str_merge.c   ****             StrDeCompressBufSetDupStrBuf(res_size[511]);
 749:str_merge.c   ****         }
 750:str_merge.c   ****         else
 751:str_merge.c   ****         {
 752:str_merge.c   ****             StrDeCompressBufSetDupStrBuf(0);
 753:str_merge.c   ****         }
 754:str_merge.c   ****     }
 755:str_merge.c   ****     /* fixed string information */
 756:str_merge.c   ****     if(fixed_id.id_count > 0)
 757:str_merge.c   ****     {
 758:str_merge.c   ****         StrDeCompressBufSetFixedStrBuf(fixed_result.nResSize,
 759:str_merge.c   ****             fixed_result.nMapSize,
 760:str_merge.c   ****             fixed_result.is16bit);
 761:str_merge.c   ****     }else{
 762:str_merge.c   **** 
 763:str_merge.c   ****         StrDeCompressBufSetFixedStrBuf(0, 0, 0);
 764:str_merge.c   ****     }
 765:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 16


 766:str_merge.c   **** 
 767:str_merge.c   **** 
 768:str_merge.c   **** }
 769:str_merge.c   **** #endif
 770:str_merge.c   **** 
 771:str_merge.c   **** /* This is simple hash operation for string merge application, in order to reduce memory and improv
 772:str_merge.c   **** /*****************************************************************************
 773:str_merge.c   ****  * FUNCTION
 774:str_merge.c   ****  *  CreateHashTable
 775:str_merge.c   ****  * DESCRIPTION
 776:str_merge.c   ****  *  create a size hash table
 777:str_merge.c   ****  * PARAMETERS
 778:str_merge.c   ****  *  size    [IN] table size
 779:str_merge.c   ****  * RETURNS
 780:str_merge.c   ****  *  hash table pointer
 781:str_merge.c   ****  *****************************************************************************/
 782:str_merge.c   **** static StrHashTable* CreateHashTable(int size)
 783:str_merge.c   **** {
 466              	LM10:
 467 0050 55       		pushl	%ebp
 468 0051 89E5     		movl	%esp, %ebp
 469 0053 53       		pushl	%ebx
 470 0054 83EC14   		subl	$20, %esp
 784:str_merge.c   ****     if(size <= 0)
 472              	LM11:
 473              	LBB2:
 474 0057 837D0800 		cmpl	$0, 8(%ebp)
 475 005b 7F09     		jg	L33
 785:str_merge.c   ****     {
 786:str_merge.c   ****         return 0;
 477              	LM12:
 478 005d C745F400 		movl	$0, -12(%ebp)
 478      000000
 479 0064 EB72     		jmp	L32
 480              	L33:
 787:str_merge.c   ****     }
 788:str_merge.c   **** 
 789:str_merge.c   ****     StrHashTable *table = (StrHashTable *)malloc(sizeof(StrHashTable));
 482              	LM13:
 483 0066 C7042408 		movl	$8, (%esp)
 483      000000
 484 006d E8000000 		call	_malloc
 484      00
 485 0072 8945F8   		movl	%eax, -8(%ebp)
 790:str_merge.c   ****     if(table == 0)
 487              	LM14:
 488 0075 837DF800 		cmpl	$0, -8(%ebp)
 489 0079 7509     		jne	L34
 791:str_merge.c   ****     {
 792:str_merge.c   ****         return 0;
 491              	LM15:
 492 007b C745F400 		movl	$0, -12(%ebp)
 492      000000
 493 0082 EB54     		jmp	L32
 494              	L34:
 793:str_merge.c   ****     }
 794:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 17


 795:str_merge.c   ****     table->table_size = size;
 496              	LM16:
 497 0084 8B55F8   		movl	-8(%ebp), %edx
 498 0087 8B4508   		movl	8(%ebp), %eax
 499 008a 8902     		movl	%eax, (%edx)
 796:str_merge.c   ****     table->table = (StrIDNode **)malloc(sizeof(StrIDNode *) * size);
 501              	LM17:
 502 008c 8B5DF8   		movl	-8(%ebp), %ebx
 503 008f 8B4508   		movl	8(%ebp), %eax
 504 0092 C1E002   		sall	$2, %eax
 505 0095 890424   		movl	%eax, (%esp)
 506 0098 E8000000 		call	_malloc
 506      00
 507 009d 894304   		movl	%eax, 4(%ebx)
 797:str_merge.c   ****     if(table->table == 0)
 509              	LM18:
 510 00a0 8B45F8   		movl	-8(%ebp), %eax
 511 00a3 83780400 		cmpl	$0, 4(%eax)
 512 00a7 7509     		jne	L35
 798:str_merge.c   ****     {
 799:str_merge.c   ****         return 0;
 514              	LM19:
 515 00a9 C745F400 		movl	$0, -12(%ebp)
 515      000000
 516 00b0 EB26     		jmp	L32
 517              	L35:
 800:str_merge.c   ****     }
 801:str_merge.c   **** 
 802:str_merge.c   ****     memset(table->table, 0, sizeof(StrIDNode *)*size);
 519              	LM20:
 520 00b2 8B4508   		movl	8(%ebp), %eax
 521 00b5 C1E002   		sall	$2, %eax
 522 00b8 89442408 		movl	%eax, 8(%esp)
 523 00bc C7442404 		movl	$0, 4(%esp)
 523      00000000 
 524 00c4 8B45F8   		movl	-8(%ebp), %eax
 525 00c7 8B4004   		movl	4(%eax), %eax
 526 00ca 890424   		movl	%eax, (%esp)
 527 00cd E8000000 		call	_memset
 527      00
 803:str_merge.c   **** 
 804:str_merge.c   ****     return table;
 529              	LM21:
 530 00d2 8B45F8   		movl	-8(%ebp), %eax
 531 00d5 8945F4   		movl	%eax, -12(%ebp)
 805:str_merge.c   **** }
 533              	LM22:
 534              	L32:
 535              	LBE2:
 536 00d8 8B45F4   		movl	-12(%ebp), %eax
 537 00db 83C414   		addl	$20, %esp
 538 00de 5B       		popl	%ebx
 539 00df 5D       		popl	%ebp
 540 00e0 C3       		ret
 544              	Lscope2:
 549              	_DJBHash:
 806:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 18


 807:str_merge.c   **** 
 808:str_merge.c   **** /*****************************************************************************
 809:str_merge.c   ****  * FUNCTION
 810:str_merge.c   ****  *  DJBHash
 811:str_merge.c   ****  *
 812:str_merge.c   ****  * DESCRIPTION
 813:str_merge.c   ****  *  DJB hash algrithom
 814:str_merge.c   ****  *
 815:str_merge.c   ****  * PARAMETERS
 816:str_merge.c   ****  *  key    [IN] key of hash algrithm input, here is special for wchar_t type
 817:str_merge.c   ****  *
 818:str_merge.c   ****  * RETURNS
 819:str_merge.c   ****  *  hash table pointer
 820:str_merge.c   ****  *****************************************************************************/
 821:str_merge.c   **** static int DJBHash(wchar_t* key) /* DJB hash */
 822:str_merge.c   **** {
 551              	LM23:
 552 00e1 55       		pushl	%ebp
 553 00e2 89E5     		movl	%esp, %ebp
 554 00e4 83EC18   		subl	$24, %esp
 823:str_merge.c   ****     unsigned int hash = 5381;
 556              	LM24:
 557              	LBB3:
 558 00e7 C745FC05 		movl	$5381, -4(%ebp)
 558      150000
 824:str_merge.c   ****     int i = 0;
 560              	LM25:
 561 00ee C745F800 		movl	$0, -8(%ebp)
 561      000000
 825:str_merge.c   **** 
 826:str_merge.c   ****     int len = wcslen(key);
 563              	LM26:
 564 00f5 8B4508   		movl	8(%ebp), %eax
 565 00f8 890424   		movl	%eax, (%esp)
 566 00fb E8000000 		call	_wcslen
 566      00
 567 0100 8945F4   		movl	%eax, -12(%ebp)
 827:str_merge.c   **** 
 828:str_merge.c   ****     for(i = 0; i < len; ++i)
 569              	LM27:
 570 0103 C745F800 		movl	$0, -8(%ebp)
 570      000000
 571              	L37:
 572 010a 8B45F8   		movl	-8(%ebp), %eax
 573 010d 3B45F4   		cmpl	-12(%ebp), %eax
 574 0110 7C02     		jl	L40
 575 0112 EB25     		jmp	L38
 576              	L40:
 829:str_merge.c   ****     {
 830:str_merge.c   ****         hash = ((hash << 5) + hash) + key[i];
 578              	LM28:
 579 0114 8B45FC   		movl	-4(%ebp), %eax
 580 0117 C1E005   		sall	$5, %eax
 581 011a 89C1     		movl	%eax, %ecx
 582 011c 034DFC   		addl	-4(%ebp), %ecx
 583 011f 8B45F8   		movl	-8(%ebp), %eax
 584 0122 8D1400   		leal	(%eax,%eax), %edx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 19


 585 0125 8B4508   		movl	8(%ebp), %eax
 586 0128 0FB70410 		movzwl	(%eax,%edx), %eax
 587 012c 8D0408   		leal	(%eax,%ecx), %eax
 588 012f 8945FC   		movl	%eax, -4(%ebp)
 590              	LM29:
 591 0132 8D45F8   		leal	-8(%ebp), %eax
 592 0135 FF00     		incl	(%eax)
 593 0137 EBD1     		jmp	L37
 594              	L38:
 831:str_merge.c   ****     }
 832:str_merge.c   **** 
 833:str_merge.c   ****     return 0x7fffffff & hash;
 596              	LM30:
 597 0139 8B45FC   		movl	-4(%ebp), %eax
 598 013c 25FFFFFF 		andl	$2147483647, %eax
 598      7F
 834:str_merge.c   **** }
 600              	LM31:
 601 0141 C9       		leave
 602 0142 C3       		ret
 603              	LBE3:
 609              	Lscope3:
 615              	_hash_add:
 835:str_merge.c   **** 
 836:str_merge.c   **** 
 837:str_merge.c   **** /*****************************************************************************
 838:str_merge.c   ****  * FUNCTION
 839:str_merge.c   ****  *  hash_add
 840:str_merge.c   ****  * DESCRIPTION
 841:str_merge.c   ****  *  add node to hash table
 842:str_merge.c   ****  * PARAMETERS
 843:str_merge.c   ****  *  hash    [IN/OUT] : hash table
 844:str_merge.c   ****  *  node    [IN] : node to be added into hash table
 845:str_merge.c   ****  * RETURNS
 846:str_merge.c   ****  *  int       0 means duplicate node, 1 means add success, 
 847:str_merge.c   ****  *           -1 means allocate memory fail, -2 means invalid input
 848:str_merge.c   ****  *****************************************************************************/
 849:str_merge.c   **** static int hash_add(StrHashTable* hash, StrIDNode *node)
 850:str_merge.c   **** {
 617              	LM32:
 618 0143 55       		pushl	%ebp
 619 0144 89E5     		movl	%esp, %ebp
 620 0146 83EC28   		subl	$40, %esp
 851:str_merge.c   ****     int hv = -1;
 622              	LM33:
 623              	LBB4:
 624 0149 C745FCFF 		movl	$-1, -4(%ebp)
 624      FFFFFF
 852:str_merge.c   ****     if(hash == NULL || node == NULL || node->str == NULL)
 626              	LM34:
 627 0150 837D0800 		cmpl	$0, 8(%ebp)
 628 0154 740E     		je	L43
 629 0156 837D0C00 		cmpl	$0, 12(%ebp)
 630 015a 7408     		je	L43
 631 015c 8B450C   		movl	12(%ebp), %eax
 632 015f 833800   		cmpl	$0, (%eax)
 633 0162 750C     		jne	L42
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 20


 634              	L43:
 853:str_merge.c   ****     {
 854:str_merge.c   ****         return -2; /* invalid input */
 636              	LM35:
 637 0164 C745ECFE 		movl	$-2, -20(%ebp)
 637      FFFFFF
 638 016b E9470100 		jmp	L41
 638      00
 639              	L42:
 855:str_merge.c   ****     }
 856:str_merge.c   **** 
 857:str_merge.c   ****     hv = DJBHash(node->str) % hash->table_size;
 641              	LM36:
 642 0170 8B450C   		movl	12(%ebp), %eax
 643 0173 8B00     		movl	(%eax), %eax
 644 0175 890424   		movl	%eax, (%esp)
 645 0178 E864FFFF 		call	_DJBHash
 645      FF
 646 017d 89C2     		movl	%eax, %edx
 647 017f 8B4508   		movl	8(%ebp), %eax
 648 0182 8945E8   		movl	%eax, -24(%ebp)
 649 0185 89D0     		movl	%edx, %eax
 650 0187 8B4DE8   		movl	-24(%ebp), %ecx
 651 018a 99       		cltd
 652 018b F739     		idivl	(%ecx)
 653 018d 8955FC   		movl	%edx, -4(%ebp)
 858:str_merge.c   **** 
 859:str_merge.c   ****     if(hash->table[hv] == 0) /* hash node not exist */
 655              	LM37:
 656 0190 8B4D08   		movl	8(%ebp), %ecx
 657 0193 8B45FC   		movl	-4(%ebp), %eax
 658 0196 8D148500 		leal	0(,%eax,4), %edx
 658      000000
 659 019d 8B4104   		movl	4(%ecx), %eax
 660 01a0 833C1000 		cmpl	$0, (%eax,%edx)
 661 01a4 755E     		jne	L44
 860:str_merge.c   ****     {
 861:str_merge.c   ****         StrIDNode *new_node = (StrIDNode *)malloc(sizeof(StrIDNode));
 663              	LM38:
 664              	LBB5:
 665 01a6 C704240C 		movl	$12, (%esp)
 665      000000
 666 01ad E8000000 		call	_malloc
 666      00
 667 01b2 8945F8   		movl	%eax, -8(%ebp)
 862:str_merge.c   ****         if(new_node == 0)
 669              	LM39:
 670 01b5 837DF800 		cmpl	$0, -8(%ebp)
 671 01b9 750C     		jne	L45
 863:str_merge.c   ****         {
 864:str_merge.c   ****             return -1; /* invalid memory malloc */
 673              	LM40:
 674 01bb C745ECFF 		movl	$-1, -20(%ebp)
 674      FFFFFF
 675 01c2 E9F00000 		jmp	L41
 675      00
 676              	L45:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 21


 865:str_merge.c   ****         }
 866:str_merge.c   ****         /* initialize new node */
 867:str_merge.c   ****         new_node->next = NULL;
 678              	LM41:
 679 01c7 8B45F8   		movl	-8(%ebp), %eax
 680 01ca C7400800 		movl	$0, 8(%eax)
 680      000000
 868:str_merge.c   ****         new_node->id = node->id;
 682              	LM42:
 683 01d1 8B55F8   		movl	-8(%ebp), %edx
 684 01d4 8B450C   		movl	12(%ebp), %eax
 685 01d7 0FB74004 		movzwl	4(%eax), %eax
 686 01db 66894204 		movw	%ax, 4(%edx)
 869:str_merge.c   ****         new_node->str = node->str;
 688              	LM43:
 689 01df 8B55F8   		movl	-8(%ebp), %edx
 690 01e2 8B450C   		movl	12(%ebp), %eax
 691 01e5 8B00     		movl	(%eax), %eax
 692 01e7 8902     		movl	%eax, (%edx)
 870:str_merge.c   **** 
 871:str_merge.c   ****         /* add new node to hash table */
 872:str_merge.c   ****         hash->table[hv] = new_node;
 694              	LM44:
 695 01e9 8B5508   		movl	8(%ebp), %edx
 696 01ec 8B45FC   		movl	-4(%ebp), %eax
 697 01ef 8D0C8500 		leal	0(,%eax,4), %ecx
 697      000000
 698 01f6 8B5204   		movl	4(%edx), %edx
 699 01f9 8B45F8   		movl	-8(%ebp), %eax
 700 01fc 89040A   		movl	%eax, (%edx,%ecx)
 701              	LBE5:
 702 01ff E9AC0000 		jmp	L46
 702      00
 703              	L44:
 873:str_merge.c   ****     }
 874:str_merge.c   ****     else /* hash node exist */
 875:str_merge.c   ****     {
 876:str_merge.c   ****         StrIDNode *tmp = hash->table[hv];
 705              	LM45:
 706              	LBB6:
 707 0204 8B4D08   		movl	8(%ebp), %ecx
 708 0207 8B45FC   		movl	-4(%ebp), %eax
 709 020a 8D148500 		leal	0(,%eax,4), %edx
 709      000000
 710 0211 8B4104   		movl	4(%ecx), %eax
 711 0214 8B0410   		movl	(%eax,%edx), %eax
 712 0217 8945F8   		movl	%eax, -8(%ebp)
 877:str_merge.c   ****         StrIDNode *prev = 0;
 714              	LM46:
 715 021a C745F400 		movl	$0, -12(%ebp)
 715      000000
 878:str_merge.c   ****         while(tmp != NULL) /* here is hash search function */
 717              	LM47:
 718              	L47:
 719 0221 837DF800 		cmpl	$0, -8(%ebp)
 720 0225 7502     		jne	L49
 721 0227 EB2D     		jmp	L48
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 22


 722              	L49:
 879:str_merge.c   ****         {
 880:str_merge.c   ****             prev = tmp;
 724              	LM48:
 725 0229 8B45F8   		movl	-8(%ebp), %eax
 726 022c 8945F4   		movl	%eax, -12(%ebp)
 881:str_merge.c   ****             if(!wcscmp(node->str, prev->str))
 728              	LM49:
 729 022f 8B45F4   		movl	-12(%ebp), %eax
 730 0232 8B00     		movl	(%eax), %eax
 731 0234 89442404 		movl	%eax, 4(%esp)
 732 0238 8B450C   		movl	12(%ebp), %eax
 733 023b 8B00     		movl	(%eax), %eax
 734 023d 890424   		movl	%eax, (%esp)
 735 0240 E8000000 		call	_wcscmp
 735      00
 736 0245 85C0     		testl	%eax, %eax
 737 0247 7502     		jne	L50
 882:str_merge.c   ****             {
 883:str_merge.c   ****                 break;
 739              	LM50:
 740 0249 EB0B     		jmp	L48
 741              	L50:
 884:str_merge.c   ****             }
 885:str_merge.c   ****             tmp = tmp->next;
 743              	LM51:
 744 024b 8B45F8   		movl	-8(%ebp), %eax
 745 024e 8B4008   		movl	8(%eax), %eax
 746 0251 8945F8   		movl	%eax, -8(%ebp)
 747 0254 EBCB     		jmp	L47
 748              	L48:
 886:str_merge.c   ****         }
 887:str_merge.c   ****         /* does not found the same string node */
 888:str_merge.c   ****         if(tmp == NULL)
 750              	LM52:
 751 0256 837DF800 		cmpl	$0, -8(%ebp)
 752 025a 754B     		jne	L51
 889:str_merge.c   ****         {
 890:str_merge.c   ****             StrIDNode *new_node = (StrIDNode *)malloc(sizeof(StrIDNode));
 754              	LM53:
 755              	LBB7:
 756 025c C704240C 		movl	$12, (%esp)
 756      000000
 757 0263 E8000000 		call	_malloc
 757      00
 758 0268 8945F0   		movl	%eax, -16(%ebp)
 891:str_merge.c   ****             if(new_node == 0)
 760              	LM54:
 761 026b 837DF000 		cmpl	$0, -16(%ebp)
 762 026f 7509     		jne	L52
 892:str_merge.c   ****             {
 893:str_merge.c   ****                 return -1; /* invalid malloc */
 764              	LM55:
 765 0271 C745ECFF 		movl	$-1, -20(%ebp)
 765      FFFFFF
 766 0278 EB3D     		jmp	L41
 767              	L52:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 23


 894:str_merge.c   ****             }
 895:str_merge.c   ****             new_node->next = NULL;
 769              	LM56:
 770 027a 8B45F0   		movl	-16(%ebp), %eax
 771 027d C7400800 		movl	$0, 8(%eax)
 771      000000
 896:str_merge.c   ****             new_node->id = node->id;
 773              	LM57:
 774 0284 8B55F0   		movl	-16(%ebp), %edx
 775 0287 8B450C   		movl	12(%ebp), %eax
 776 028a 0FB74004 		movzwl	4(%eax), %eax
 777 028e 66894204 		movw	%ax, 4(%edx)
 897:str_merge.c   ****             new_node->str = node->str;
 779              	LM58:
 780 0292 8B55F0   		movl	-16(%ebp), %edx
 781 0295 8B450C   		movl	12(%ebp), %eax
 782 0298 8B00     		movl	(%eax), %eax
 783 029a 8902     		movl	%eax, (%edx)
 898:str_merge.c   ****             /* add new node to the chain list */
 899:str_merge.c   ****             prev->next = new_node;
 785              	LM59:
 786 029c 8B55F4   		movl	-12(%ebp), %edx
 787 029f 8B45F0   		movl	-16(%ebp), %eax
 788 02a2 894208   		movl	%eax, 8(%edx)
 789              	LBE7:
 790 02a5 EB09     		jmp	L46
 791              	L51:
 900:str_merge.c   ****         }
 901:str_merge.c   ****         else
 902:str_merge.c   ****         {
 903:str_merge.c   ****             return 0; /* duplicate string */
 793              	LM60:
 794 02a7 C745EC00 		movl	$0, -20(%ebp)
 794      000000
 795 02ae EB07     		jmp	L41
 796              	L46:
 904:str_merge.c   ****         }
 905:str_merge.c   ****     }
 906:str_merge.c   ****     return 1; /* add successfully */
 798              	LM61:
 799              	LBE6:
 800 02b0 C745EC01 		movl	$1, -20(%ebp)
 800      000000
 907:str_merge.c   **** }
 802              	LM62:
 803              	L41:
 804              	LBE4:
 805 02b7 8B45EC   		movl	-20(%ebp), %eax
 806 02ba C9       		leave
 807 02bb C3       		ret
 821              	Lscope4:
 827              	_hash_search:
 908:str_merge.c   **** 
 909:str_merge.c   **** 
 910:str_merge.c   **** /*****************************************************************************
 911:str_merge.c   ****  * FUNCTION
 912:str_merge.c   ****  *  hash_search
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 24


 913:str_merge.c   ****  * DESCRIPTION
 914:str_merge.c   ****  *  search if key exist in hash table
 915:str_merge.c   ****  * PARAMETERS
 916:str_merge.c   ****  *  hash    [IN] : hash table
 917:str_merge.c   ****  *  key      [IN] : key will be search
 918:str_merge.c   ****  * RETURNS
 919:str_merge.c   ****  *  int       true: find key in hash table, false:not found key in hash table
 920:str_merge.c   ****  *****************************************************************************/
 921:str_merge.c   **** static StrIDNode* hash_search(const StrHashTable* hash, const wchar_t *key)
 922:str_merge.c   **** {
 829              	LM63:
 830 02bc 55       		pushl	%ebp
 831 02bd 89E5     		movl	%esp, %ebp
 832 02bf 83EC28   		subl	$40, %esp
 923:str_merge.c   ****     int hv = -1;
 834              	LM64:
 835              	LBB8:
 836 02c2 C745FCFF 		movl	$-1, -4(%ebp)
 836      FFFFFF
 924:str_merge.c   ****     int i = 0;
 838              	LM65:
 839 02c9 C745F800 		movl	$0, -8(%ebp)
 839      000000
 925:str_merge.c   ****     StrIDNode *tmp = 0;
 841              	LM66:
 842 02d0 C745F400 		movl	$0, -12(%ebp)
 842      000000
 926:str_merge.c   **** 
 927:str_merge.c   ****     if(key == 0 || hash == 0)
 844              	LM67:
 845 02d7 837D0C00 		cmpl	$0, 12(%ebp)
 846 02db 7406     		je	L56
 847 02dd 837D0800 		cmpl	$0, 8(%ebp)
 848 02e1 7509     		jne	L55
 849              	L56:
 928:str_merge.c   ****     {
 929:str_merge.c   ****         return 0;
 851              	LM68:
 852 02e3 C745F000 		movl	$0, -16(%ebp)
 852      000000
 853 02ea EB6E     		jmp	L54
 854              	L55:
 930:str_merge.c   ****     }
 931:str_merge.c   **** 
 932:str_merge.c   ****     hv = DJBHash(key) % hash->table_size; /* caculate hash value */
 856              	LM69:
 857 02ec 8B450C   		movl	12(%ebp), %eax
 858 02ef 890424   		movl	%eax, (%esp)
 859 02f2 E8EAFDFF 		call	_DJBHash
 859      FF
 860 02f7 89C2     		movl	%eax, %edx
 861 02f9 8B4508   		movl	8(%ebp), %eax
 862 02fc 8945EC   		movl	%eax, -20(%ebp)
 863 02ff 89D0     		movl	%edx, %eax
 864 0301 8B4DEC   		movl	-20(%ebp), %ecx
 865 0304 99       		cltd
 866 0305 F739     		idivl	(%ecx)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 25


 867 0307 8955FC   		movl	%edx, -4(%ebp)
 933:str_merge.c   **** 
 934:str_merge.c   ****     tmp = hash->table[hv];
 869              	LM70:
 870 030a 8B4D08   		movl	8(%ebp), %ecx
 871 030d 8B45FC   		movl	-4(%ebp), %eax
 872 0310 8D148500 		leal	0(,%eax,4), %edx
 872      000000
 873 0317 8B4104   		movl	4(%ecx), %eax
 874 031a 8B0410   		movl	(%eax,%edx), %eax
 875 031d 8945F4   		movl	%eax, -12(%ebp)
 935:str_merge.c   ****     while(tmp)
 877              	LM71:
 878              	L57:
 879 0320 837DF400 		cmpl	$0, -12(%ebp)
 880 0324 7502     		jne	L59
 881 0326 EB2B     		jmp	L58
 882              	L59:
 936:str_merge.c   ****     {
 937:str_merge.c   ****         if(!wcscmp(key, tmp->str))
 884              	LM72:
 885 0328 8B45F4   		movl	-12(%ebp), %eax
 886 032b 8B00     		movl	(%eax), %eax
 887 032d 89442404 		movl	%eax, 4(%esp)
 888 0331 8B450C   		movl	12(%ebp), %eax
 889 0334 890424   		movl	%eax, (%esp)
 890 0337 E8000000 		call	_wcscmp
 890      00
 891 033c 85C0     		testl	%eax, %eax
 892 033e 7508     		jne	L60
 938:str_merge.c   ****             return tmp;
 894              	LM73:
 895 0340 8B45F4   		movl	-12(%ebp), %eax
 896 0343 8945F0   		movl	%eax, -16(%ebp)
 897 0346 EB12     		jmp	L54
 898              	L60:
 939:str_merge.c   ****         tmp = tmp->next;
 900              	LM74:
 901 0348 8B45F4   		movl	-12(%ebp), %eax
 902 034b 8B4008   		movl	8(%eax), %eax
 903 034e 8945F4   		movl	%eax, -12(%ebp)
 904 0351 EBCD     		jmp	L57
 905              	L58:
 940:str_merge.c   ****     }
 941:str_merge.c   **** 
 942:str_merge.c   ****     return 0;    
 907              	LM75:
 908 0353 C745F000 		movl	$0, -16(%ebp)
 908      000000
 943:str_merge.c   **** }
 910              	LM76:
 911              	L54:
 912              	LBE8:
 913 035a 8B45F0   		movl	-16(%ebp), %eax
 914 035d C9       		leave
 915 035e C3       		ret
 921              	Lscope5:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 26


 926              	_hash_free:
 944:str_merge.c   **** 
 945:str_merge.c   **** 
 946:str_merge.c   **** /*****************************************************************************
 947:str_merge.c   ****  * FUNCTION
 948:str_merge.c   ****  *  hash_free
 949:str_merge.c   ****  * DESCRIPTION
 950:str_merge.c   ****  *  free hash table
 951:str_merge.c   ****  * PARAMETERS
 952:str_merge.c   ****  *  hash    [IN] : hash table
 953:str_merge.c   ****  * RETURNS
 954:str_merge.c   ****  *  void
 955:str_merge.c   ****  *****************************************************************************/
 956:str_merge.c   **** static void hash_free(StrHashTable* hash)
 957:str_merge.c   **** {
 928              	LM77:
 929 035f 55       		pushl	%ebp
 930 0360 89E5     		movl	%esp, %ebp
 931 0362 83EC18   		subl	$24, %esp
 958:str_merge.c   ****     int i = 0;
 933              	LM78:
 934              	LBB9:
 935 0365 C745FC00 		movl	$0, -4(%ebp)
 935      000000
 959:str_merge.c   ****     StrIDNode *node = 0, *next = 0;;
 937              	LM79:
 938 036c C745F800 		movl	$0, -8(%ebp)
 938      000000
 939 0373 C745F400 		movl	$0, -12(%ebp)
 939      000000
 960:str_merge.c   ****     
 961:str_merge.c   ****     if(hash == NULL)
 941              	LM80:
 942 037a 837D0800 		cmpl	$0, 8(%ebp)
 943 037e 7502     		jne	L62
 962:str_merge.c   ****         return;
 945              	LM81:
 946 0380 EB5F     		jmp	L61
 947              	L62:
 963:str_merge.c   **** 
 964:str_merge.c   ****     /* free each node in hash table */
 965:str_merge.c   ****     for(i = 0; i < hash->table_size; ++i)
 949              	LM82:
 950 0382 C745FC00 		movl	$0, -4(%ebp)
 950      000000
 951              	L63:
 952 0389 8B5508   		movl	8(%ebp), %edx
 953 038c 8B45FC   		movl	-4(%ebp), %eax
 954 038f 3B02     		cmpl	(%edx), %eax
 955 0391 7C02     		jl	L66
 956 0393 EB41     		jmp	L64
 957              	L66:
 966:str_merge.c   ****     {
 967:str_merge.c   ****         node = hash->table[i];
 959              	LM83:
 960 0395 8B4D08   		movl	8(%ebp), %ecx
 961 0398 8B45FC   		movl	-4(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 27


 962 039b 8D148500 		leal	0(,%eax,4), %edx
 962      000000
 963 03a2 8B4104   		movl	4(%ecx), %eax
 964 03a5 8B0410   		movl	(%eax,%edx), %eax
 965 03a8 8945F8   		movl	%eax, -8(%ebp)
 968:str_merge.c   ****         while(node)
 967              	LM84:
 968              	L67:
 969 03ab 837DF800 		cmpl	$0, -8(%ebp)
 970 03af 7502     		jne	L69
 971 03b1 EB1C     		jmp	L65
 972              	L69:
 969:str_merge.c   ****         {
 970:str_merge.c   ****             next = node->next;
 974              	LM85:
 975 03b3 8B45F8   		movl	-8(%ebp), %eax
 976 03b6 8B4008   		movl	8(%eax), %eax
 977 03b9 8945F4   		movl	%eax, -12(%ebp)
 971:str_merge.c   ****             free(node);
 979              	LM86:
 980 03bc 8B45F8   		movl	-8(%ebp), %eax
 981 03bf 890424   		movl	%eax, (%esp)
 982 03c2 E8000000 		call	_free
 982      00
 972:str_merge.c   ****             node = next;
 984              	LM87:
 985 03c7 8B45F4   		movl	-12(%ebp), %eax
 986 03ca 8945F8   		movl	%eax, -8(%ebp)
 987 03cd EBDC     		jmp	L67
 989              	LM88:
 990              	L65:
 991 03cf 8D45FC   		leal	-4(%ebp), %eax
 992 03d2 FF00     		incl	(%eax)
 993 03d4 EBB3     		jmp	L63
 994              	L64:
 973:str_merge.c   ****         }
 974:str_merge.c   ****     }
 975:str_merge.c   **** 
 976:str_merge.c   ****     /* free hash table itself */
 977:str_merge.c   ****     free(hash);
 996              	LM89:
 997 03d6 8B4508   		movl	8(%ebp), %eax
 998 03d9 890424   		movl	%eax, (%esp)
 999 03dc E8000000 		call	_free
 999      00
 978:str_merge.c   **** }
 1001              	LM90:
 1002              	L61:
 1003 03e1 C9       		leave
 1004 03e2 C3       		ret
 1005              	LBE9:
 1011              	Lscope6:
 1017              	_UCS2ASCII:
 979:str_merge.c   **** 
 980:str_merge.c   **** 
 981:str_merge.c   **** /*****************************************************************************
 982:str_merge.c   ****  * FUNCTION
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 28


 983:str_merge.c   ****  *  UCS2ASCII
 984:str_merge.c   ****  * DESCRIPTION
 985:str_merge.c   ****  *  Convert wide character to ASCII character
 986:str_merge.c   ****  * PARAMETERS
 987:str_merge.c   ****  *  w_in    [IN]
 988:str_merge.c   ****  *  a_out   [OUT]
 989:str_merge.c   ****  * RETURNS
 990:str_merge.c   ****  *  void
 991:str_merge.c   ****  *****************************************************************************/
 992:str_merge.c   **** static void UCS2ASCII(char *w_in, char *a_out)
 993:str_merge.c   **** {
 1019              	LM91:
 1020 03e3 55       		pushl	%ebp
 1021 03e4 89E5     		movl	%esp, %ebp
 1022 03e6 83EC04   		subl	$4, %esp
 994:str_merge.c   ****     /*----------------------------------------------------------------*/
 995:str_merge.c   ****     /* Local Variables                                                */
 996:str_merge.c   ****     /*----------------------------------------------------------------*/
 997:str_merge.c   ****     int i = 0;
 1024              	LM92:
 1025              	LBB10:
 1026 03e9 C745FC00 		movl	$0, -4(%ebp)
 1026      000000
 998:str_merge.c   **** 
 999:str_merge.c   ****     /*----------------------------------------------------------------*/
1000:str_merge.c   ****     /* Code Body                                                      */
1001:str_merge.c   ****     /*----------------------------------------------------------------*/
1002:str_merge.c   ****     while (w_in[i * 2] != '\0' || w_in[i * 2 + 1] != '\0')
 1028              	LM93:
 1029              	L71:
 1030 03f0 8B45FC   		movl	-4(%ebp), %eax
 1031 03f3 8D1400   		leal	(%eax,%eax), %edx
 1032 03f6 8B4508   		movl	8(%ebp), %eax
 1033 03f9 803C1000 		cmpb	$0, (%eax,%edx)
 1034 03fd 7510     		jne	L73
 1035 03ff 8B45FC   		movl	-4(%ebp), %eax
 1036 0402 01C0     		addl	%eax, %eax
 1037 0404 034508   		addl	8(%ebp), %eax
 1038 0407 40       		incl	%eax
 1039 0408 803800   		cmpb	$0, (%eax)
 1040 040b 7502     		jne	L73
 1041 040d EB1E     		jmp	L72
 1042              	L73:
1003:str_merge.c   ****     {
1004:str_merge.c   ****         a_out[i] = w_in[i * 2];
 1044              	LM94:
 1045 040f 8B45FC   		movl	-4(%ebp), %eax
 1046 0412 8B4D0C   		movl	12(%ebp), %ecx
 1047 0415 01C1     		addl	%eax, %ecx
 1048 0417 8B45FC   		movl	-4(%ebp), %eax
 1049 041a 8D1400   		leal	(%eax,%eax), %edx
 1050 041d 8B4508   		movl	8(%ebp), %eax
 1051 0420 0FB60410 		movzbl	(%eax,%edx), %eax
 1052 0424 8801     		movb	%al, (%ecx)
1005:str_merge.c   ****         i += 1;
 1054              	LM95:
 1055 0426 8D45FC   		leal	-4(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 29


 1056 0429 FF00     		incl	(%eax)
 1057 042b EBC3     		jmp	L71
 1058              	L72:
1006:str_merge.c   ****     }
1007:str_merge.c   ****     a_out[i] = '\0';
 1060              	LM96:
 1061 042d 8B45FC   		movl	-4(%ebp), %eax
 1062 0430 03450C   		addl	12(%ebp), %eax
 1063 0433 C60000   		movb	$0, (%eax)
1008:str_merge.c   **** }
 1065              	LM97:
 1066 0436 C9       		leave
 1067 0437 C3       		ret
 1068              	LBE10:
 1072              	Lscope7:
 1074              	LC2:
 1075 0438 47657449 		.ascii "GetItem p1 == NULL\0"
 1075      74656D20 
 1075      7031203D 
 1075      3D204E55 
 1075      4C4C00
 1076              	LC3:
 1077 044b 5354525F 		.ascii "STR_MERGE\0"
 1077      4D455247 
 1077      4500
 1083              	_GetItem:
1009:str_merge.c   **** 
1010:str_merge.c   **** 
1011:str_merge.c   **** /*****************************************************************************
1012:str_merge.c   ****  * FUNCTION
1013:str_merge.c   ****  *  GetItem
1014:str_merge.c   ****  * DESCRIPTION
1015:str_merge.c   ****  *  Get token between index and index+1 DELIMETER
1016:str_merge.c   ****  * PARAMETERS
1017:str_merge.c   ****  *  string  [IN]
1018:str_merge.c   ****  *  index   [IN]
1019:str_merge.c   ****  *  buf     [OUT]
1020:str_merge.c   ****  * RETURNS
1021:str_merge.c   ****  *  void
1022:str_merge.c   ****  *****************************************************************************/
1023:str_merge.c   **** static void GetItem(wchar_t *string, int index, wchar_t *buf)
1024:str_merge.c   **** {
 1085              	LM98:
 1086 0455 55       		pushl	%ebp
 1087 0456 89E5     		movl	%esp, %ebp
 1088 0458 83EC18   		subl	$24, %esp
1025:str_merge.c   ****     /*----------------------------------------------------------------*/
1026:str_merge.c   ****     /* Local Variables                                                */
1027:str_merge.c   ****     /*----------------------------------------------------------------*/
1028:str_merge.c   ****     wchar_t *p1 = string;
 1090              	LM99:
 1091              	LBB11:
 1092 045b 8B4508   		movl	8(%ebp), %eax
 1093 045e 8945FC   		movl	%eax, -4(%ebp)
1029:str_merge.c   ****     wchar_t *p2 = wcsstr(string, DELIMETER);
 1095              	LM100:
 1096 0461 A1940100 		movl	_DELIMETER, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 30


 1096      00
 1097 0466 89442404 		movl	%eax, 4(%esp)
 1098 046a 8B4508   		movl	8(%ebp), %eax
 1099 046d 890424   		movl	%eax, (%esp)
 1100 0470 E8000000 		call	_wcsstr
 1100      00
 1101 0475 8945F8   		movl	%eax, -8(%ebp)
1030:str_merge.c   ****     int n = p2 - p1;
 1103              	LM101:
 1104 0478 8B55FC   		movl	-4(%ebp), %edx
 1105 047b 8B45F8   		movl	-8(%ebp), %eax
 1106 047e 29D0     		subl	%edx, %eax
 1107 0480 D1F8     		sarl	%eax
 1108 0482 8945F4   		movl	%eax, -12(%ebp)
1031:str_merge.c   **** 
1032:str_merge.c   ****     /*----------------------------------------------------------------*/
1033:str_merge.c   ****     /* Code Body                                                      */
1034:str_merge.c   ****     /*----------------------------------------------------------------*/
1035:str_merge.c   ****     ASSERT(p2 != NULL);
 1110              	LM102:
 1111 0485 837DF800 		cmpl	$0, -8(%ebp)
 1112 0489 7502     		jne	L79
 1113              	L76:
 1114 048b EBFE     		jmp	L76
 1115              	L79:
 1116 048d 90       		nop
1036:str_merge.c   ****     
1037:str_merge.c   ****     while (index > 0)
 1118              	LM103:
 1119              	L80:
 1120 048e 837D0C00 		cmpl	$0, 12(%ebp)
 1121 0492 7F02     		jg	L82
 1122 0494 EB3C     		jmp	L81
 1123              	L82:
1038:str_merge.c   ****     {
1039:str_merge.c   ****         p1 = p2 + 1;
 1125              	LM104:
 1126 0496 8B45F8   		movl	-8(%ebp), %eax
 1127 0499 83C002   		addl	$2, %eax
 1128 049c 8945FC   		movl	%eax, -4(%ebp)
1040:str_merge.c   ****         p2 = wcsstr(p1, DELIMETER);
 1130              	LM105:
 1131 049f A1940100 		movl	_DELIMETER, %eax
 1131      00
 1132 04a4 89442404 		movl	%eax, 4(%esp)
 1133 04a8 8B45FC   		movl	-4(%ebp), %eax
 1134 04ab 890424   		movl	%eax, (%esp)
 1135 04ae E8000000 		call	_wcsstr
 1135      00
 1136 04b3 8945F8   		movl	%eax, -8(%ebp)
1041:str_merge.c   ****         index--;
 1138              	LM106:
 1139 04b6 8D450C   		leal	12(%ebp), %eax
 1140 04b9 FF08     		decl	(%eax)
1042:str_merge.c   ****         if (p2 == NULL)
 1142              	LM107:
 1143 04bb 837DF800 		cmpl	$0, -8(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 31


 1144 04bf 7502     		jne	L83
1043:str_merge.c   ****             break;
 1146              	LM108:
 1147 04c1 EB0F     		jmp	L81
 1148              	L83:
1044:str_merge.c   ****         n = p2 - p1;
 1150              	LM109:
 1151 04c3 8B55FC   		movl	-4(%ebp), %edx
 1152 04c6 8B45F8   		movl	-8(%ebp), %eax
 1153 04c9 29D0     		subl	%edx, %eax
 1154 04cb D1F8     		sarl	%eax
 1155 04cd 8945F4   		movl	%eax, -12(%ebp)
 1156 04d0 EBBC     		jmp	L80
 1157              	L81:
1045:str_merge.c   ****     }
1046:str_merge.c   **** 
1047:str_merge.c   ****     if (index > 0)
 1159              	LM110:
 1160 04d2 837D0C00 		cmpl	$0, 12(%ebp)
 1161 04d6 7E0D     		jle	L84
1048:str_merge.c   ****     {
1049:str_merge.c   ****         buf[0] = L'\0';
 1163              	LM111:
 1164 04d8 8B4510   		movl	16(%ebp), %eax
 1165 04db 66C70000 		movw	$0, (%eax)
 1165      00
 1166 04e0 E9B30000 		jmp	L74
 1166      00
 1167              	L84:
1050:str_merge.c   ****     }
1051:str_merge.c   ****     else if (p2 == NULL)
 1169              	LM112:
 1170 04e5 837DF800 		cmpl	$0, -8(%ebp)
 1171 04e9 757D     		jne	L86
1052:str_merge.c   ****     {
1053:str_merge.c   ****         if (p1 == NULL)
 1173              	LM113:
 1174 04eb 837DFC00 		cmpl	$0, -4(%ebp)
 1175 04ef 7528     		jne	L87
1054:str_merge.c   ****         {
1055:str_merge.c   ****             STRMERG_LOG_E("GetItem p1 == NULL");
 1177              	LM114:
 1178 04f1 C7442408 		movl	$LC2, 8(%esp)
 1178      38040000 
 1179 04f9 C7442404 		movl	$LC3, 4(%esp)
 1179      4B040000 
 1180 0501 C7042403 		movl	$3, (%esp)
 1180      000000
 1181 0508 E8000000 		call	_reslog_adaptor_log
 1181      00
1056:str_merge.c   ****             exit(2);
 1183              	LM115:
 1184 050d C7042402 		movl	$2, (%esp)
 1184      000000
 1185 0514 E8000000 		call	_exit
 1185      00
 1186              	L87:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 32


1057:str_merge.c   ****         }
1058:str_merge.c   ****         wcscpy(buf, p1);
 1188              	LM116:
 1189 0519 8B45FC   		movl	-4(%ebp), %eax
 1190 051c 89442404 		movl	%eax, 4(%esp)
 1191 0520 8B4510   		movl	16(%ebp), %eax
 1192 0523 890424   		movl	%eax, (%esp)
 1193 0526 E8000000 		call	_wcscpy
 1193      00
1059:str_merge.c   ****         n = wcsstr(p1, EOS) - p1;
 1195              	LM117:
 1196 052b A1980100 		movl	_EOS, %eax
 1196      00
 1197 0530 89442404 		movl	%eax, 4(%esp)
 1198 0534 8B45FC   		movl	-4(%ebp), %eax
 1199 0537 890424   		movl	%eax, (%esp)
 1200 053a E8000000 		call	_wcsstr
 1200      00
 1201 053f 2B45FC   		subl	-4(%ebp), %eax
 1202 0542 D1F8     		sarl	%eax
 1203 0544 8945F4   		movl	%eax, -12(%ebp)
1060:str_merge.c   ****         buf[n] = L'\0';
 1205              	LM118:
 1206 0547 8B45F4   		movl	-12(%ebp), %eax
 1207 054a 8D1400   		leal	(%eax,%eax), %edx
 1208 054d 8B4510   		movl	16(%ebp), %eax
 1209 0550 66C70410 		movw	$0, (%eax,%edx)
 1209      0000
1061:str_merge.c   ****         buf[n - 1] = L'\0';
 1211              	LM119:
 1212 0556 8B45F4   		movl	-12(%ebp), %eax
 1213 0559 01C0     		addl	%eax, %eax
 1214 055b 034510   		addl	16(%ebp), %eax
 1215 055e 83E802   		subl	$2, %eax
 1216 0561 66C70000 		movw	$0, (%eax)
 1216      00
 1217 0566 EB30     		jmp	L74
 1218              	L86:
1062:str_merge.c   ****     }
1063:str_merge.c   ****     else
1064:str_merge.c   ****     {
1065:str_merge.c   ****         ASSERT(p1 != NULL);
 1220              	LM120:
 1221 0568 837DFC00 		cmpl	$0, -4(%ebp)
 1222 056c 7502     		jne	L93
 1223              	L90:
 1224 056e EBFE     		jmp	L90
 1225              	L93:
1066:str_merge.c   ****         wcsncpy(buf, p1, n);
 1227              	LM121:
 1228 0570 8B45F4   		movl	-12(%ebp), %eax
 1229 0573 89442408 		movl	%eax, 8(%esp)
 1230 0577 8B45FC   		movl	-4(%ebp), %eax
 1231 057a 89442404 		movl	%eax, 4(%esp)
 1232 057e 8B4510   		movl	16(%ebp), %eax
 1233 0581 890424   		movl	%eax, (%esp)
 1234 0584 E8000000 		call	_wcsncpy
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 33


 1234      00
1067:str_merge.c   ****         buf[n] = L'\0';
 1236              	LM122:
 1237 0589 8B45F4   		movl	-12(%ebp), %eax
 1238 058c 8D1400   		leal	(%eax,%eax), %edx
 1239 058f 8B4510   		movl	16(%ebp), %eax
 1240 0592 66C70410 		movw	$0, (%eax,%edx)
 1240      0000
1068:str_merge.c   ****     }
1069:str_merge.c   **** }
 1242              	LM123:
 1243              	L74:
 1244 0598 C9       		leave
 1245 0599 C3       		ret
 1246              	LBE11:
 1252              	Lscope8:
 1254              		.align 2
 1255              	LC4:
 1256 059a 4E006F00 		.ascii "N\0o\0 \0T\0r\0a\0n\0s\0l\0a\0t\0i\0o\0n\0\0\0"
 1256      20005400 
 1256      72006100 
 1256      6E007300 
 1256      6C006100 
 1264              	_OutputFixColumns:
1070:str_merge.c   **** 
1071:str_merge.c   **** 
1072:str_merge.c   **** /*****************************************************************************
1073:str_merge.c   ****  * FUNCTION
1074:str_merge.c   ****  *  OutputFixColumns
1075:str_merge.c   ****  * DESCRIPTION
1076:str_merge.c   ****  *  Output content of fix columns to temp buffer
1077:str_merge.c   ****  * PARAMETERS
1078:str_merge.c   ****  *  linebuf     [IN]
1079:str_merge.c   ****  *  token_id    [IN OUT]
1080:str_merge.c   ****  *  itembuf     [IN]
1081:str_merge.c   ****  *  log_output  [OUT]
1082:str_merge.c   ****  *  ref_output  [OUT]
1083:str_merge.c   ****  * RETURNS
1084:str_merge.c   ****  *  void
1085:str_merge.c   ****  *****************************************************************************/
1086:str_merge.c   **** static void OutputFixColumns(wchar_t *linebuf, int *token_id, wchar_t *itembuf, 
1087:str_merge.c   ****                              wchar_t *log_output, wchar_t *ref_output)
1088:str_merge.c   **** {
 1266              	LM124:
 1267 05b8 55       		pushl	%ebp
 1268 05b9 89E5     		movl	%esp, %ebp
 1269 05bb 83EC18   		subl	$24, %esp
1089:str_merge.c   ****     GetItem(linebuf, (*token_id)++, itembuf);
 1271              	LM125:
 1272 05be 8B4510   		movl	16(%ebp), %eax
 1273 05c1 89442408 		movl	%eax, 8(%esp)
 1274 05c5 8B450C   		movl	12(%ebp), %eax
 1275 05c8 8B10     		movl	(%eax), %edx
 1276 05ca 89542404 		movl	%edx, 4(%esp)
 1277 05ce FF00     		incl	(%eax)
 1278 05d0 8B4508   		movl	8(%ebp), %eax
 1279 05d3 890424   		movl	%eax, (%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 34


 1280 05d6 E87AFEFF 		call	_GetItem
 1280      FF
1090:str_merge.c   ****     wcscat(log_output, L"\t");
 1282              	LM126:
 1283 05db C7442404 		movl	$LC0, 4(%esp)
 1283      48000000 
 1284 05e3 8B4514   		movl	20(%ebp), %eax
 1285 05e6 890424   		movl	%eax, (%esp)
 1286 05e9 E8000000 		call	_wcscat
 1286      00
1091:str_merge.c   ****     wcscat(log_output, itembuf);            /* print out Module Name */
 1288              	LM127:
 1289 05ee 8B4510   		movl	16(%ebp), %eax
 1290 05f1 89442404 		movl	%eax, 4(%esp)
 1291 05f5 8B4514   		movl	20(%ebp), %eax
 1292 05f8 890424   		movl	%eax, (%esp)
 1293 05fb E8000000 		call	_wcscat
 1293      00
1092:str_merge.c   **** 
1093:str_merge.c   ****     GetItem(linebuf, (*token_id)++, itembuf);
 1295              	LM128:
 1296 0600 8B4510   		movl	16(%ebp), %eax
 1297 0603 89442408 		movl	%eax, 8(%esp)
 1298 0607 8B450C   		movl	12(%ebp), %eax
 1299 060a 8B10     		movl	(%eax), %edx
 1300 060c 89542404 		movl	%edx, 4(%esp)
 1301 0610 FF00     		incl	(%eax)
 1302 0612 8B4508   		movl	8(%ebp), %eax
 1303 0615 890424   		movl	%eax, (%esp)
 1304 0618 E838FEFF 		call	_GetItem
 1304      FF
1094:str_merge.c   ****     wcscat(log_output, L"\t");
 1306              	LM129:
 1307 061d C7442404 		movl	$LC0, 4(%esp)
 1307      48000000 
 1308 0625 8B4514   		movl	20(%ebp), %eax
 1309 0628 890424   		movl	%eax, (%esp)
 1310 062b E8000000 		call	_wcscat
 1310      00
1095:str_merge.c   ****     wcscat(log_output, itembuf);            /* print out Max String Length */
 1312              	LM130:
 1313 0630 8B4510   		movl	16(%ebp), %eax
 1314 0633 89442404 		movl	%eax, 4(%esp)
 1315 0637 8B4514   		movl	20(%ebp), %eax
 1316 063a 890424   		movl	%eax, (%esp)
 1317 063d E8000000 		call	_wcscat
 1317      00
1096:str_merge.c   **** 
1097:str_merge.c   ****     /* will copy back to reference string table */
1098:str_merge.c   ****     wcscpy(ref_output, log_output);
 1319              	LM131:
 1320 0642 8B4514   		movl	20(%ebp), %eax
 1321 0645 89442404 		movl	%eax, 4(%esp)
 1322 0649 8B4518   		movl	24(%ebp), %eax
 1323 064c 890424   		movl	%eax, (%esp)
 1324 064f E8000000 		call	_wcscpy
 1324      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 35


1099:str_merge.c   **** 
1100:str_merge.c   ****     GetItem(linebuf, (*token_id)++, itembuf);
 1326              	LM132:
 1327 0654 8B4510   		movl	16(%ebp), %eax
 1328 0657 89442408 		movl	%eax, 8(%esp)
 1329 065b 8B450C   		movl	12(%ebp), %eax
 1330 065e 8B10     		movl	(%eax), %edx
 1331 0660 89542404 		movl	%edx, 4(%esp)
 1332 0664 FF00     		incl	(%eax)
 1333 0666 8B4508   		movl	8(%ebp), %eax
 1334 0669 890424   		movl	%eax, (%esp)
 1335 066c E8E4FDFF 		call	_GetItem
 1335      FF
1101:str_merge.c   ****     wcscat(log_output, L"\t");
 1337              	LM133:
 1338 0671 C7442404 		movl	$LC0, 4(%esp)
 1338      48000000 
 1339 0679 8B4514   		movl	20(%ebp), %eax
 1340 067c 890424   		movl	%eax, (%esp)
 1341 067f E8000000 		call	_wcscat
 1341      00
1102:str_merge.c   ****     wcscat(log_output, L"No Translation");  /* print out description */
 1343              	LM134:
 1344 0684 C7442404 		movl	$LC4, 4(%esp)
 1344      9A050000 
 1345 068c 8B4514   		movl	20(%ebp), %eax
 1346 068f 890424   		movl	%eax, (%esp)
 1347 0692 E8000000 		call	_wcscat
 1347      00
1103:str_merge.c   **** 
1104:str_merge.c   ****     /* will copy back to reference string table */
1105:str_merge.c   ****     wcscat(ref_output, L"\t");
 1349              	LM135:
 1350 0697 C7442404 		movl	$LC0, 4(%esp)
 1350      48000000 
 1351 069f 8B4518   		movl	24(%ebp), %eax
 1352 06a2 890424   		movl	%eax, (%esp)
 1353 06a5 E8000000 		call	_wcscat
 1353      00
1106:str_merge.c   ****     wcscat(ref_output, itembuf);
 1355              	LM136:
 1356 06aa 8B4510   		movl	16(%ebp), %eax
 1357 06ad 89442404 		movl	%eax, 4(%esp)
 1358 06b1 8B4518   		movl	24(%ebp), %eax
 1359 06b4 890424   		movl	%eax, (%esp)
 1360 06b7 E8000000 		call	_wcscat
 1360      00
1107:str_merge.c   **** }
 1362              	LM137:
 1363 06bc C9       		leave
 1364 06bd C3       		ret
 1365              	Lscope9:
 1367 06be 89F6     		.align 32
 1368              	LC5:
 1369 06c0 6D656D6F 		.ascii "memory not available!! GetLineBufLength\0"
 1369      7279206E 
 1369      6F742061 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 36


 1369      7661696C 
 1369      61626C65 
 1374              	_GetLineBufLength:
1108:str_merge.c   **** 
1109:str_merge.c   **** 
1110:str_merge.c   **** /*****************************************************************************
1111:str_merge.c   ****  * FUNCTION
1112:str_merge.c   ****  *  GetLineBufLength
1113:str_merge.c   ****  * DESCRIPTION
1114:str_merge.c   ****  *  Find the max chars(including NULL char) of each line in ref_list, in order to reduce memory con
1115:str_merge.c   ****  * PARAMETERS
1116:str_merge.c   ****  *  void
1117:str_merge.c   ****  * RETURNS
1118:str_merge.c   ****  *  Max chars of each line in ref_list
1119:str_merge.c   ****  *****************************************************************************/
1120:str_merge.c   **** static int GetLineBufLength(FILE *ref_list_file, int lang_count)
1121:str_merge.c   **** {
 1376              	LM138:
 1377 06e8 55       		pushl	%ebp
 1378 06e9 89E5     		movl	%esp, %ebp
 1379 06eb 83EC28   		subl	$40, %esp
1122:str_merge.c   ****     wchar_t *temp_buf = NULL; /* line buffer */
 1381              	LM139:
 1382              	LBB12:
 1383 06ee C745FC00 		movl	$0, -4(%ebp)
 1383      000000
1123:str_merge.c   ****     int max_line_char_count; /* including NULL char */
1124:str_merge.c   ****     int max_line_buf_length = 0;
 1385              	LM140:
 1386 06f5 C745F400 		movl	$0, -12(%ebp)
 1386      000000
1125:str_merge.c   ****     int tmp;
1126:str_merge.c   ****     
1127:str_merge.c   **** #ifdef MEM_LIST_INFO_STATS
1128:str_merge.c   ****     int length_stats[MEM_STATS_ITEM_LENGTH] = {0};
1129:str_merge.c   ****     int length_index = 0;
1130:str_merge.c   **** #endif /*MEM_LIST_INFO_STATS*/
1131:str_merge.c   **** 
1132:str_merge.c   ****     /* 
1133:str_merge.c   ****      * calculate line buffer size 
1134:str_merge.c   ****      * here +2 for Description, and (Max String Length, MODULE, ENUM)
1135:str_merge.c   ****      */    
1136:str_merge.c   ****     max_line_char_count = (lang_count + 2) * MAX_LENGTH;
 1388              	LM141:
 1389 06fc 8B450C   		movl	12(%ebp), %eax
 1390 06ff C1E009   		sall	$9, %eax
 1391 0702 05000400 		addl	$1024, %eax
 1391      00
 1392 0707 8945F8   		movl	%eax, -8(%ebp)
1137:str_merge.c   ****     temp_buf = (wchar_t *)malloc(max_line_char_count * sizeof(wchar_t));
 1394              	LM142:
 1395 070a 8B45F8   		movl	-8(%ebp), %eax
 1396 070d 01C0     		addl	%eax, %eax
 1397 070f 890424   		movl	%eax, (%esp)
 1398 0712 E8000000 		call	_malloc
 1398      00
 1399 0717 8945FC   		movl	%eax, -4(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 37


1138:str_merge.c   ****     if (temp_buf == NULL)
 1401              	LM143:
 1402 071a 837DFC00 		cmpl	$0, -4(%ebp)
 1403 071e 7528     		jne	L96
1139:str_merge.c   ****     {
1140:str_merge.c   ****         STRMERG_LOG_E("memory not available!! GetLineBufLength");
 1405              	LM144:
 1406 0720 C7442408 		movl	$LC5, 8(%esp)
 1406      C0060000 
 1407 0728 C7442404 		movl	$LC3, 4(%esp)
 1407      4B040000 
 1408 0730 C7042403 		movl	$3, (%esp)
 1408      000000
 1409 0737 E8000000 		call	_reslog_adaptor_log
 1409      00
1141:str_merge.c   ****         exit(2);
 1411              	LM145:
 1412 073c C7042402 		movl	$2, (%esp)
 1412      000000
 1413 0743 E8000000 		call	_exit
 1413      00
 1414              	L96:
 1415 0748 90       		nop
1142:str_merge.c   ****     }
1143:str_merge.c   ****     while (!feof(ref_list_file))
 1417              	LM146:
 1418              	L97:
 1419 0749 8B4508   		movl	8(%ebp), %eax
 1420 074c 890424   		movl	%eax, (%esp)
 1421 074f E8000000 		call	_feof
 1421      00
 1422 0754 85C0     		testl	%eax, %eax
 1423 0756 7402     		je	L99
 1424 0758 EB38     		jmp	L98
 1425              	L99:
1144:str_merge.c   ****     {
1145:str_merge.c   ****         /* get a line of string */
1146:str_merge.c   ****         fgetws(temp_buf, max_line_char_count, ref_list_file);  
 1427              	LM147:
 1428 075a 8B4508   		movl	8(%ebp), %eax
 1429 075d 89442408 		movl	%eax, 8(%esp)
 1430 0761 8B45F8   		movl	-8(%ebp), %eax
 1431 0764 89442404 		movl	%eax, 4(%esp)
 1432 0768 8B45FC   		movl	-4(%ebp), %eax
 1433 076b 890424   		movl	%eax, (%esp)
 1434 076e E8000000 		call	_fgetws
 1434      00
1147:str_merge.c   ****         tmp = wcslen(temp_buf) + 1;
 1436              	LM148:
 1437 0773 8B45FC   		movl	-4(%ebp), %eax
 1438 0776 890424   		movl	%eax, (%esp)
 1439 0779 E8000000 		call	_wcslen
 1439      00
 1440 077e 40       		incl	%eax
 1441 077f 8945F0   		movl	%eax, -16(%ebp)
1148:str_merge.c   ****         if (max_line_buf_length < tmp)
 1443              	LM149:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 38


 1444 0782 8B45F4   		movl	-12(%ebp), %eax
 1445 0785 3B45F0   		cmpl	-16(%ebp), %eax
 1446 0788 7DBF     		jge	L97
1149:str_merge.c   ****         {
1150:str_merge.c   ****             max_line_buf_length = tmp;    
 1448              	LM150:
 1449 078a 8B45F0   		movl	-16(%ebp), %eax
 1450 078d 8945F4   		movl	%eax, -12(%ebp)
 1451 0790 EBB7     		jmp	L97
 1452              	L98:
1151:str_merge.c   ****         }
1152:str_merge.c   **** 
1153:str_merge.c   **** #ifdef MEM_LIST_INFO_STATS
1154:str_merge.c   ****     	/* Memory usage statistics of each language string line 
1155:str_merge.c   ****             in ref_list loaded
1156:str_merge.c   ****         */
1157:str_merge.c   **** 	length_index = (int)(tmp/MEM_STATS_ITEM_LENGTH);
1158:str_merge.c   **** 	if(length_index >= MEM_STATS_ITEM_MAX)
1159:str_merge.c   ****         {
1160:str_merge.c   **** 	    length_index = MEM_STATS_ITEM_MAX-1;
1161:str_merge.c   ****         }
1162:str_merge.c   **** 	length_stats[length_index]++;
1163:str_merge.c   **** 
1164:str_merge.c   ****         if(tmp > MEM_STATS_ITEM_LENGTH)
1165:str_merge.c   ****         {
1166:str_merge.c   ****             STRMERG_LOG_V("\n[%d]: %d\t", length_index * MEM_STATS_ITEM_LENGTH, tmp);
1167:str_merge.c   ****             STRMERG_WLOG_V(L"%ls",temp_buf);
1168:str_merge.c   ****         }
1169:str_merge.c   **** #endif /*MEM_LIST_INFO_STATS*/
1170:str_merge.c   ****     } 
1171:str_merge.c   **** 	
1172:str_merge.c   **** #ifdef MEM_LIST_INFO_STATS
1173:str_merge.c   ****     /* Show the memory usage statistics of string lines in ref_list */
1174:str_merge.c   ****     STRMERG_LOG_V("\nSummary of String line length:");
1175:str_merge.c   ****   
1176:str_merge.c   ****     for(length_index = 0; length_index < MEM_STATS_ITEM_MAX; length_index++)
1177:str_merge.c   ****     {
1178:str_merge.c   ****         STRMERG_LOG_V("[%d]: %d", length_index * MEM_STATS_ITEM_LENGTH, length_stats[length_index])
1179:str_merge.c   ****       
1180:str_merge.c   ****      }
1181:str_merge.c   **** #endif /*MEM_LIST_INFO_STATS*/
1182:str_merge.c   ****   
1183:str_merge.c   ****     free(temp_buf);
 1454              	LM151:
 1455 0792 8B45FC   		movl	-4(%ebp), %eax
 1456 0795 890424   		movl	%eax, (%esp)
 1457 0798 E8000000 		call	_free
 1457      00
1184:str_merge.c   ****     return max_line_buf_length;
 1459              	LM152:
 1460 079d 8B45F4   		movl	-12(%ebp), %eax
1185:str_merge.c   **** }
 1462              	LM153:
 1463 07a0 C9       		leave
 1464 07a1 C3       		ret
 1465              	LBE12:
 1472              	Lscope10:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 39


 1474              	LC6:
 1475 07a2 2A233030 		.ascii "*#0044#\0"
 1475      34342300 
 1478              	_en_language_is_open:
1186:str_merge.c   **** 
1187:str_merge.c   **** 
1188:str_merge.c   **** /*****************************************************************************
1189:str_merge.c   ****  * FUNCTION
1190:str_merge.c   ****  *  en_language_is_open
1191:str_merge.c   ****  * DESCRIPTION
1192:str_merge.c   ****  *  check if english language is open or not 
1193:str_merge.c   ****  * PARAMETERS
1194:str_merge.c   ****  *  svoid
1195:str_merge.c   ****  * RETURNS
1196:str_merge.c   ****  *  Return TRUE if english is open, otherwise, return FALSE
1197:str_merge.c   ****  *****************************************************************************/
1198:str_merge.c   **** static BOOL en_language_is_open(void)
1199:str_merge.c   **** {
 1480              	LM154:
 1481 07aa 55       		pushl	%ebp
 1482 07ab 89E5     		movl	%esp, %ebp
 1483 07ad 83EC18   		subl	$24, %esp
1200:str_merge.c   ****     int i = 0;
 1485              	LM155:
 1486              	LBB13:
 1487 07b0 C745FC00 		movl	$0, -4(%ebp)
 1487      000000
1201:str_merge.c   ****     char *en = "*#0044#";
 1489              	LM156:
 1490 07b7 C745F8A2 		movl	$LC6, -8(%ebp)
 1490      070000
1202:str_merge.c   **** 
1203:str_merge.c   ****     for(i = 0; i < mtk_gMaxDeployedLangs; ++i)
 1492              	LM157:
 1493 07be C745FC00 		movl	$0, -4(%ebp)
 1493      000000
 1494              	L102:
 1495 07c5 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 1495      000000
 1496 07cc 3945FC   		cmpl	%eax, -4(%ebp)
 1497 07cf 7C02     		jl	L105
 1498 07d1 EB34     		jmp	L103
 1499              	L105:
1204:str_merge.c   ****     {
1205:str_merge.c   ****         if(strcmp(mtk_gLanguageArray[i].aLangSSC, en) == 0)
 1501              	LM158:
 1502 07d3 8B45F8   		movl	-8(%ebp), %eax
 1503 07d6 89442404 		movl	%eax, 4(%esp)
 1504 07da 8B55FC   		movl	-4(%ebp), %edx
 1505 07dd 89D0     		movl	%edx, %eax
 1506 07df C1E005   		sall	$5, %eax
 1507 07e2 29D0     		subl	%edx, %eax
 1508 07e4 01C0     		addl	%eax, %eax
 1509 07e6 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 1509      00
 1510 07eb 890424   		movl	%eax, (%esp)
 1511 07ee E8000000 		call	_strcmp
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 40


 1511      00
 1512 07f3 85C0     		testl	%eax, %eax
 1513 07f5 7509     		jne	L104
1206:str_merge.c   ****         {
1207:str_merge.c   ****             return TRUE;
 1515              	LM159:
 1516 07f7 C745F401 		movl	$1, -12(%ebp)
 1516      000000
 1517 07fe EB0E     		jmp	L101
 1519              	LM160:
 1520              	L104:
 1521 0800 8D45FC   		leal	-4(%ebp), %eax
 1522 0803 FF00     		incl	(%eax)
 1523 0805 EBBE     		jmp	L102
 1524              	L103:
1208:str_merge.c   ****         }
1209:str_merge.c   ****     }
1210:str_merge.c   **** 
1211:str_merge.c   ****     return FALSE;
 1526              	LM161:
 1527 0807 C745F400 		movl	$0, -12(%ebp)
 1527      000000
1212:str_merge.c   **** }
 1529              	LM162:
 1530              	L101:
 1531              	LBE13:
 1532 080e 8B45F4   		movl	-12(%ebp), %eax
 1533 0811 C9       		leave
 1534 0812 C3       		ret
 1539              	Lscope11:
 1541 0813 90       		.align 2
 1542              	LC7:
 1543 0814 2A002300 		.ascii "*\0#\0"
 1544 0818 3000     		.ascii "0\0"
 1545 081a 3000     		.ascii "0\0"
 1546 081c 3400     		.ascii "4\0"
 1547 081e 34002300 		.ascii "4\0#\0\0\0"
 1547      0000
 1553              	_get_language_in_ssc_index:
1213:str_merge.c   **** 
1214:str_merge.c   **** 
1215:str_merge.c   **** /*****************************************************************************
1216:str_merge.c   ****  * FUNCTION
1217:str_merge.c   ****  *  get_language_in_ssc_index
1218:str_merge.c   ****  * DESCRIPTION
1219:str_merge.c   ****  *  get the column index that deployed language in ref list 
1220:str_merge.c   ****  * PARAMETERS
1221:str_merge.c   ****  *  ssc         :[IN]  ssc string of ref list
1222:str_merge.c   ****  *  index       :[OUT] column index that deployed language in ref list
1223:str_merge.c   ****  *  lang_count  :[IN] language total count
1224:str_merge.c   ****  * RETURNS
1225:str_merge.c   ****  *  Return 0 on success, otherwise, return -1
1226:str_merge.c   ****  *****************************************************************************/
1227:str_merge.c   **** static void get_language_in_ssc_index(const wchar_t* ssc, int **index, int lang_count)
1228:str_merge.c   **** {
 1555              	LM163:
 1556 0824 55       		pushl	%ebp
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 41


 1557 0825 89E5     		movl	%esp, %ebp
 1558 0827 83EC28   		subl	$40, %esp
1229:str_merge.c   ****     int j = 0, k = 0;
 1560              	LM164:
 1561              	LBB14:
 1562 082a C745FC00 		movl	$0, -4(%ebp)
 1562      000000
 1563 0831 C745F800 		movl	$0, -8(%ebp)
 1563      000000
1230:str_merge.c   ****     wchar_t *tok = NULL;
 1565              	LM165:
 1566 0838 C745F400 		movl	$0, -12(%ebp)
 1566      000000
1231:str_merge.c   ****     wchar_t *en = L"*#0044#";
 1568              	LM166:
 1569 083f C745F014 		movl	$LC7, -16(%ebp)
 1569      080000
1232:str_merge.c   ****     int LangIndex = 0;
 1571              	LM167:
 1572 0846 C745EC00 		movl	$0, -20(%ebp)
 1572      000000
1233:str_merge.c   ****     int en_index = -1;
 1574              	LM168:
 1575 084d C745E8FF 		movl	$-1, -24(%ebp)
 1575      FFFFFF
1234:str_merge.c   ****     int count = 0;
 1577              	LM169:
 1578 0854 C745E400 		movl	$0, -28(%ebp)
 1578      000000
1235:str_merge.c   ****     /*g_line_buf_length has been initialized here*/
1236:str_merge.c   ****     wchar_t *rssc = NULL;
 1580              	LM170:
 1581 085b C745E000 		movl	$0, -32(%ebp)
 1581      000000
1237:str_merge.c   **** 
1238:str_merge.c   ****     rssc = (wchar_t*)malloc(g_line_buf_length * sizeof(wchar_t));
 1583              	LM171:
 1584 0862 A1280000 		movl	_g_line_buf_length, %eax
 1584      00
 1585 0867 01C0     		addl	%eax, %eax
 1586 0869 890424   		movl	%eax, (%esp)
 1587 086c E8000000 		call	_malloc
 1587      00
 1588 0871 8945E0   		movl	%eax, -32(%ebp)
1239:str_merge.c   **** 
1240:str_merge.c   ****     if(ssc == NULL || index == NULL || rssc == NULL)
 1590              	LM172:
 1591 0874 837D0800 		cmpl	$0, 8(%ebp)
 1592 0878 0F843C02 		je	L107
 1592      0000
 1593 087e 837D0C00 		cmpl	$0, 12(%ebp)
 1594 0882 0F843202 		je	L107
 1594      0000
 1595 0888 837DE000 		cmpl	$0, -32(%ebp)
 1596 088c 7505     		jne	L108
1241:str_merge.c   ****     {
1242:str_merge.c   ****         return;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 42


 1598              	LM173:
 1599 088e E9270200 		jmp	L107
 1599      00
 1600              	L108:
1243:str_merge.c   ****     }
1244:str_merge.c   **** 
1245:str_merge.c   ****     /*skip the fist 4 column header*/
1246:str_merge.c   ****     wcscpy(rssc, ssc);
 1602              	LM174:
 1603 0893 8B4508   		movl	8(%ebp), %eax
 1604 0896 89442404 		movl	%eax, 4(%esp)
 1605 089a 8B45E0   		movl	-32(%ebp), %eax
 1606 089d 890424   		movl	%eax, (%esp)
 1607 08a0 E8000000 		call	_wcscpy
 1607      00
1247:str_merge.c   ****     tok = wcstok(rssc, DELIMETER);	 /* ENUM */
 1609              	LM175:
 1610 08a5 A1940100 		movl	_DELIMETER, %eax
 1610      00
 1611 08aa 89442404 		movl	%eax, 4(%esp)
 1612 08ae 8B45E0   		movl	-32(%ebp), %eax
 1613 08b1 890424   		movl	%eax, (%esp)
 1614 08b4 E8000000 		call	_wcstok
 1614      00
 1615 08b9 8945F4   		movl	%eax, -12(%ebp)
1248:str_merge.c   ****     tok = wcstok(NULL, DELIMETER);		/* MODULE NAME */
 1617              	LM176:
 1618 08bc A1940100 		movl	_DELIMETER, %eax
 1618      00
 1619 08c1 89442404 		movl	%eax, 4(%esp)
 1620 08c5 C7042400 		movl	$0, (%esp)
 1620      000000
 1621 08cc E8000000 		call	_wcstok
 1621      00
 1622 08d1 8945F4   		movl	%eax, -12(%ebp)
1249:str_merge.c   ****     tok = wcstok(NULL, DELIMETER);		/* MAX LENGTH */
 1624              	LM177:
 1625 08d4 A1940100 		movl	_DELIMETER, %eax
 1625      00
 1626 08d9 89442404 		movl	%eax, 4(%esp)
 1627 08dd C7042400 		movl	$0, (%esp)
 1627      000000
 1628 08e4 E8000000 		call	_wcstok
 1628      00
 1629 08e9 8945F4   		movl	%eax, -12(%ebp)
1250:str_merge.c   ****     tok = wcstok(NULL, DELIMETER);		/* DESCRIPTION */
 1631              	LM178:
 1632 08ec A1940100 		movl	_DELIMETER, %eax
 1632      00
 1633 08f1 89442404 		movl	%eax, 4(%esp)
 1634 08f5 C7042400 		movl	$0, (%esp)
 1634      000000
 1635 08fc E8000000 		call	_wcstok
 1635      00
 1636 0901 8945F4   		movl	%eax, -12(%ebp)
1251:str_merge.c   **** 
1252:str_merge.c   ****     for (j = 4; j < lang_count + 4; j++) /*a little tricky*/
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 43


 1638              	LM179:
 1639 0904 C745FC04 		movl	$4, -4(%ebp)
 1639      000000
 1640              	L110:
 1641 090b 8B4510   		movl	16(%ebp), %eax
 1642 090e 83C004   		addl	$4, %eax
 1643 0911 3945FC   		cmpl	%eax, -4(%ebp)
 1644 0914 7C02     		jl	L113
 1645 0916 EB63     		jmp	L111
 1646              	L113:
1253:str_merge.c   ****     {
1254:str_merge.c   ****         /* change to corresponding language column according to j */
1255:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);
 1648              	LM180:
 1649 0918 A1940100 		movl	_DELIMETER, %eax
 1649      00
 1650 091d 89442404 		movl	%eax, 4(%esp)
 1651 0921 C7042400 		movl	$0, (%esp)
 1651      000000
 1652 0928 E8000000 		call	_wcstok
 1652      00
 1653 092d 8945F4   		movl	%eax, -12(%ebp)
1256:str_merge.c   **** 
1257:str_merge.c   ****         ASSERT(tok != NULL);
 1655              	LM181:
 1656 0930 837DF400 		cmpl	$0, -12(%ebp)
 1657 0934 7502     		jne	L118
 1658              	L115:
 1659 0936 EBFE     		jmp	L115
 1660              	L118:
1258:str_merge.c   ****         LangIndex = ifLanguageUsed(tok);
 1662              	LM182:
 1663 0938 8B45F4   		movl	-12(%ebp), %eax
 1664 093b 890424   		movl	%eax, (%esp)
 1665 093e E8FA2000 		call	_ifLanguageUsed
 1665      00
 1666 0943 8945EC   		movl	%eax, -20(%ebp)
1259:str_merge.c   **** 
1260:str_merge.c   ****         if (LangIndex < 0) /* the language is not used in font resource */
 1668              	LM183:
 1669 0946 837DEC00 		cmpl	$0, -20(%ebp)
 1670 094a 7902     		jns	L119
1261:str_merge.c   ****             continue;
 1672              	LM184:
 1673 094c EB26     		jmp	L112
 1674              	L119:
1262:str_merge.c   **** 
1263:str_merge.c   ****         index[count++] = j;
 1676              	LM185:
 1677 094e 8B45E4   		movl	-28(%ebp), %eax
 1678 0951 8D0C8500 		leal	0(,%eax,4), %ecx
 1678      000000
 1679 0958 8B550C   		movl	12(%ebp), %edx
 1680 095b 8B45FC   		movl	-4(%ebp), %eax
 1681 095e 89040A   		movl	%eax, (%edx,%ecx)
 1682 0961 8D45E4   		leal	-28(%ebp), %eax
 1683 0964 FF00     		incl	(%eax)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 44


1264:str_merge.c   **** 
1265:str_merge.c   ****         /*if all language has been searched, we will return*/
1266:str_merge.c   ****         if(count == mtk_gMaxDeployedLangs)
 1685              	LM186:
 1686 0966 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 1686      000000
 1687 096d 3945E4   		cmpl	%eax, -28(%ebp)
 1688 0970 7502     		jne	L112
1267:str_merge.c   ****             break;
 1690              	LM187:
 1691 0972 EB07     		jmp	L111
 1693              	LM188:
 1694              	L112:
 1695 0974 8D45FC   		leal	-4(%ebp), %eax
 1696 0977 FF00     		incl	(%eax)
 1697 0979 EB90     		jmp	L110
 1698              	L111:
1268:str_merge.c   ****     }
1269:str_merge.c   **** 
1270:str_merge.c   ****     /*if english is not opened, insert english order into index*/
1271:str_merge.c   ****     if(!en_language_is_open())
 1700              	LM189:
 1701 097b E82AFEFF 		call	_en_language_is_open
 1701      FF
 1702 0980 85C0     		testl	%eax, %eax
 1703 0982 0F852701 		jne	L121
 1703      0000
1272:str_merge.c   ****     {
1273:str_merge.c   ****         /*find english index in ssc*/
1274:str_merge.c   ****         wcscpy(rssc, ssc);
 1705              	LM190:
 1706 0988 8B4508   		movl	8(%ebp), %eax
 1707 098b 89442404 		movl	%eax, 4(%esp)
 1708 098f 8B45E0   		movl	-32(%ebp), %eax
 1709 0992 890424   		movl	%eax, (%esp)
 1710 0995 E8000000 		call	_wcscpy
 1710      00
1275:str_merge.c   ****         tok = wcstok(rssc, DELIMETER);	 /* ENUM */
 1712              	LM191:
 1713 099a A1940100 		movl	_DELIMETER, %eax
 1713      00
 1714 099f 89442404 		movl	%eax, 4(%esp)
 1715 09a3 8B45E0   		movl	-32(%ebp), %eax
 1716 09a6 890424   		movl	%eax, (%esp)
 1717 09a9 E8000000 		call	_wcstok
 1717      00
 1718 09ae 8945F4   		movl	%eax, -12(%ebp)
1276:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);		/* MODULE NAME */
 1720              	LM192:
 1721 09b1 A1940100 		movl	_DELIMETER, %eax
 1721      00
 1722 09b6 89442404 		movl	%eax, 4(%esp)
 1723 09ba C7042400 		movl	$0, (%esp)
 1723      000000
 1724 09c1 E8000000 		call	_wcstok
 1724      00
 1725 09c6 8945F4   		movl	%eax, -12(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 45


1277:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);		/* MAX LENGTH */
 1727              	LM193:
 1728 09c9 A1940100 		movl	_DELIMETER, %eax
 1728      00
 1729 09ce 89442404 		movl	%eax, 4(%esp)
 1730 09d2 C7042400 		movl	$0, (%esp)
 1730      000000
 1731 09d9 E8000000 		call	_wcstok
 1731      00
 1732 09de 8945F4   		movl	%eax, -12(%ebp)
1278:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);		/* DESCRIPTION */
 1734              	LM194:
 1735 09e1 A1940100 		movl	_DELIMETER, %eax
 1735      00
 1736 09e6 89442404 		movl	%eax, 4(%esp)
 1737 09ea C7042400 		movl	$0, (%esp)
 1737      000000
 1738 09f1 E8000000 		call	_wcstok
 1738      00
 1739 09f6 8945F4   		movl	%eax, -12(%ebp)
1279:str_merge.c   **** 
1280:str_merge.c   ****         /*get the index of english in ssc*/
1281:str_merge.c   ****         for(j = 4; j < lang_count + 4; j++)
 1741              	LM195:
 1742 09f9 C745FC04 		movl	$4, -4(%ebp)
 1742      000000
 1743              	L122:
 1744 0a00 8B4510   		movl	16(%ebp), %eax
 1745 0a03 83C004   		addl	$4, %eax
 1746 0a06 3945FC   		cmpl	%eax, -4(%ebp)
 1747 0a09 7C02     		jl	L125
 1748 0a0b EB45     		jmp	L123
 1749              	L125:
1282:str_merge.c   ****         {
1283:str_merge.c   ****             tok = wcstok(NULL, DELIMETER);
 1751              	LM196:
 1752 0a0d A1940100 		movl	_DELIMETER, %eax
 1752      00
 1753 0a12 89442404 		movl	%eax, 4(%esp)
 1754 0a16 C7042400 		movl	$0, (%esp)
 1754      000000
 1755 0a1d E8000000 		call	_wcstok
 1755      00
 1756 0a22 8945F4   		movl	%eax, -12(%ebp)
1284:str_merge.c   **** 
1285:str_merge.c   ****             ASSERT(tok != NULL);
 1758              	LM197:
 1759 0a25 837DF400 		cmpl	$0, -12(%ebp)
 1760 0a29 7502     		jne	L130
 1761              	L127:
 1762 0a2b EBFE     		jmp	L127
 1763              	L130:
1286:str_merge.c   ****             if(wcscmp(tok, en) == 0)
 1765              	LM198:
 1766 0a2d 8B45F0   		movl	-16(%ebp), %eax
 1767 0a30 89442404 		movl	%eax, 4(%esp)
 1768 0a34 8B45F4   		movl	-12(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 46


 1769 0a37 890424   		movl	%eax, (%esp)
 1770 0a3a E8000000 		call	_wcscmp
 1770      00
 1771 0a3f 85C0     		testl	%eax, %eax
 1772 0a41 7508     		jne	L124
1287:str_merge.c   ****             {
1288:str_merge.c   ****                 en_index = j;
 1774              	LM199:
 1775 0a43 8B45FC   		movl	-4(%ebp), %eax
 1776 0a46 8945E8   		movl	%eax, -24(%ebp)
1289:str_merge.c   ****                 break;
 1778              	LM200:
 1779 0a49 EB07     		jmp	L123
 1781              	LM201:
 1782              	L124:
 1783 0a4b 8D45FC   		leal	-4(%ebp), %eax
 1784 0a4e FF00     		incl	(%eax)
 1785 0a50 EBAE     		jmp	L122
 1786              	L123:
1290:str_merge.c   ****             }
1291:str_merge.c   ****         }
1292:str_merge.c   **** 
1293:str_merge.c   ****         /*insert en_index into index and keep increase order*/
1294:str_merge.c   ****         for(j = mtk_gMaxDeployedLangs; j > 0; --j)
 1788              	LM202:
 1789 0a52 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 1789      000000
 1790 0a59 8945FC   		movl	%eax, -4(%ebp)
 1791              	L132:
 1792 0a5c 837DFC00 		cmpl	$0, -4(%ebp)
 1793 0a60 7F02     		jg	L135
 1794 0a62 EB38     		jmp	L133
 1795              	L135:
1295:str_merge.c   ****         {
1296:str_merge.c   ****             if(en_index < index[j - 1])
 1797              	LM203:
 1798 0a64 8B45FC   		movl	-4(%ebp), %eax
 1799 0a67 C1E002   		sall	$2, %eax
 1800 0a6a 03450C   		addl	12(%ebp), %eax
 1801 0a6d 8D50FC   		leal	-4(%eax), %edx
 1802 0a70 8B45E8   		movl	-24(%ebp), %eax
 1803 0a73 3B02     		cmpl	(%edx), %eax
 1804 0a75 7325     		jae	L133
1297:str_merge.c   ****                 index[j] = index[j - 1];
 1806              	LM204:
 1807 0a77 8B45FC   		movl	-4(%ebp), %eax
 1808 0a7a 8D148500 		leal	0(,%eax,4), %edx
 1808      000000
 1809 0a81 8B4D0C   		movl	12(%ebp), %ecx
 1810 0a84 8B45FC   		movl	-4(%ebp), %eax
 1811 0a87 C1E002   		sall	$2, %eax
 1812 0a8a 03450C   		addl	12(%ebp), %eax
 1813 0a8d 83E804   		subl	$4, %eax
 1814 0a90 8B00     		movl	(%eax), %eax
 1815 0a92 890411   		movl	%eax, (%ecx,%edx)
 1817              	LM205:
 1818 0a95 8D45FC   		leal	-4(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 47


 1819 0a98 FF08     		decl	(%eax)
 1820 0a9a EBC0     		jmp	L132
 1821              	L133:
1298:str_merge.c   ****             else
1299:str_merge.c   ****                 break;
1300:str_merge.c   ****         }
1301:str_merge.c   ****         index[j] = en_index;
 1823              	LM206:
 1824 0a9c 8B45FC   		movl	-4(%ebp), %eax
 1825 0a9f 8D0C8500 		leal	0(,%eax,4), %ecx
 1825      000000
 1826 0aa6 8B550C   		movl	12(%ebp), %edx
 1827 0aa9 8B45E8   		movl	-24(%ebp), %eax
 1828 0aac 89040A   		movl	%eax, (%edx,%ecx)
 1829              	L121:
1302:str_merge.c   ****     }
1303:str_merge.c   **** 
1304:str_merge.c   ****     free(rssc);
 1831              	LM207:
 1832 0aaf 8B45E0   		movl	-32(%ebp), %eax
 1833 0ab2 890424   		movl	%eax, (%esp)
 1834 0ab5 E8000000 		call	_free
 1834      00
1305:str_merge.c   **** }
 1836              	LM208:
 1837              	L107:
 1838 0aba C9       		leave
 1839 0abb C3       		ret
 1840              	LBE14:
 1851              	Lscope12:
 1853              		.align 2
 1854              	LC8:
 1855 0abc 0D000A00 		.ascii "\15\0\12\0\0\0\0\0"
 1855      00000000 
 1862              	_filter_raw_string:
1306:str_merge.c   **** 
1307:str_merge.c   **** 
1308:str_merge.c   **** /*****************************************************************************
1309:str_merge.c   ****  * FUNCTION
1310:str_merge.c   ****  *  filter_raw_string
1311:str_merge.c   ****  * DESCRIPTION
1312:str_merge.c   ****  *  filter not used fieled, only reserve the first 5 column and opened language
1313:str_merge.c   ****  *
1314:str_merge.c   ****  * PARAMETERS
1315:str_merge.c   ****  *  in_data      :[IN]  one line of ref_list.txt
1316:str_merge.c   ****  *  out_data    :[OUT] column index that deployed language in ref list
1317:str_merge.c   ****  *  index         :[IN] index array that open language in ssc
1318:str_merge.c   ****  *  total_lang   :[IN] total language count
1319:str_merge.c   ****  * RETURNS
1320:str_merge.c   ****  *  void
1321:str_merge.c   ****  *****************************************************************************/
1322:str_merge.c   **** static void filter_raw_string(const wchar_t* in_data, wchar_t* out_data, const int *index, int tota
1323:str_merge.c   **** {
 1864              	LM209:
 1865 0ac4 55       		pushl	%ebp
 1866 0ac5 89E5     		movl	%esp, %ebp
 1867 0ac7 81EC3808 		subl	$2104, %esp
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 48


 1867      0000
 1868              	LBB15:
 1869 0acd 89A5E0F7 		movl	%esp, -2080(%ebp)
 1869      FFFF
1324:str_merge.c   ****     int i = 0;
 1871              	LM210:
 1872 0ad3 C745F400 		movl	$0, -12(%ebp)
 1872      000000
1325:str_merge.c   ****     int token = 0;
 1874              	LM211:
 1875 0ada C745F000 		movl	$0, -16(%ebp)
 1875      000000
1326:str_merge.c   ****     wchar_t itembuf[TMP_BUF_LENGTH];
1327:str_merge.c   ****     wchar_t tmp[g_line_buf_length * sizeof(wchar_t)];
 1877              	LM212:
 1878 0ae1 A1280000 		movl	_g_line_buf_length, %eax
 1878      00
 1879 0ae6 01C0     		addl	%eax, %eax
 1880 0ae8 48       		decl	%eax
 1881 0ae9 01C0     		addl	%eax, %eax
 1882 0aeb 83C002   		addl	$2, %eax
 1883 0aee 83C00F   		addl	$15, %eax
 1884 0af1 C1E804   		shrl	$4, %eax
 1885 0af4 C1E004   		sall	$4, %eax
 1886 0af7 8985D8F7 		movl	%eax, -2088(%ebp)
 1886      FFFF
 1887 0afd 8B85D8F7 		movl	-2088(%ebp), %eax
 1887      FFFF
 1888 0b03 E8000000 		call	__alloca
 1888      00
 1889 0b08 8D44240C 		leal	12(%esp), %eax
 1890 0b0c 8985DCF7 		movl	%eax, -2084(%ebp)
 1890      FFFF
1328:str_merge.c   ****     wchar_t marker[2] = {NO_TRANSLATION_MARKER, 0};
 1892              	LM213:
 1893 0b12 66C785E4 		movw	$19, -2076(%ebp)
 1893      F7FFFF13 
 1893      00
 1894 0b1b 66C785E6 		movw	$0, -2074(%ebp)
 1894      F7FFFF00 
 1894      00
1329:str_merge.c   **** 
1330:str_merge.c   ****     if(in_data == NULL || out_data == NULL || index == NULL)
 1896              	LM214:
 1897 0b24 837D0800 		cmpl	$0, 8(%ebp)
 1898 0b28 740C     		je	L140
 1899 0b2a 837D0C00 		cmpl	$0, 12(%ebp)
 1900 0b2e 7406     		je	L140
 1901 0b30 837D1000 		cmpl	$0, 16(%ebp)
 1902 0b34 750B     		jne	L139
 1903              	L140:
1331:str_merge.c   ****     {
1332:str_merge.c   ****         return;
 1905              	LM215:
 1906              	LBB16:
 1907 0b36 8BA5E0F7 		movl	-2080(%ebp), %esp
 1907      FFFF
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 49


 1908              	LBE16:
 1909 0b3c E9B40100 		jmp	L138
 1909      00
 1910              	L139:
1333:str_merge.c   ****     }
1334:str_merge.c   **** 
1335:str_merge.c   ****     /*put it in the tmp buffer*/
1336:str_merge.c   ****     wcscpy(tmp, in_data);
 1912              	LM216:
 1913 0b41 8B4508   		movl	8(%ebp), %eax
 1914 0b44 89442404 		movl	%eax, 4(%esp)
 1915 0b48 8B85DCF7 		movl	-2084(%ebp), %eax
 1915      FFFF
 1916 0b4e 890424   		movl	%eax, (%esp)
 1917 0b51 E8000000 		call	_wcscpy
 1917      00
1337:str_merge.c   **** 
1338:str_merge.c   ****     /*copy the first 4 column*/	
1339:str_merge.c   ****     GetItem(tmp, token++, itembuf);
 1919              	LM217:
 1920 0b56 8D85E8F7 		leal	-2072(%ebp), %eax
 1920      FFFF
 1921 0b5c 89442408 		movl	%eax, 8(%esp)
 1922 0b60 8B45F0   		movl	-16(%ebp), %eax
 1923 0b63 89442404 		movl	%eax, 4(%esp)
 1924 0b67 8D45F0   		leal	-16(%ebp), %eax
 1925 0b6a FF00     		incl	(%eax)
 1926 0b6c 8B85DCF7 		movl	-2084(%ebp), %eax
 1926      FFFF
 1927 0b72 890424   		movl	%eax, (%esp)
 1928 0b75 E8DBF8FF 		call	_GetItem
 1928      FF
1340:str_merge.c   ****     wcscpy(out_data, itembuf);
 1930              	LM218:
 1931 0b7a 8D85E8F7 		leal	-2072(%ebp), %eax
 1931      FFFF
 1932 0b80 89442404 		movl	%eax, 4(%esp)
 1933 0b84 8B450C   		movl	12(%ebp), %eax
 1934 0b87 890424   		movl	%eax, (%esp)
 1935 0b8a E8000000 		call	_wcscpy
 1935      00
1341:str_merge.c   ****     wcscat(out_data, L"\t");
 1937              	LM219:
 1938 0b8f C7442404 		movl	$LC0, 4(%esp)
 1938      48000000 
 1939 0b97 8B450C   		movl	12(%ebp), %eax
 1940 0b9a 890424   		movl	%eax, (%esp)
 1941 0b9d E8000000 		call	_wcscat
 1941      00
1342:str_merge.c   **** 
1343:str_merge.c   ****     for(i = 1; i < 4; ++i)
 1943              	LM220:
 1944 0ba2 C745F401 		movl	$1, -12(%ebp)
 1944      000000
 1945              	L141:
 1946 0ba9 837DF403 		cmpl	$3, -12(%ebp)
 1947 0bad 7E02     		jle	L144
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 50


 1948 0baf EB71     		jmp	L142
 1949              	L144:
1344:str_merge.c   ****     {
1345:str_merge.c   ****         GetItem(in_data, token++, itembuf);
 1951              	LM221:
 1952 0bb1 8D85E8F7 		leal	-2072(%ebp), %eax
 1952      FFFF
 1953 0bb7 89442408 		movl	%eax, 8(%esp)
 1954 0bbb 8B45F0   		movl	-16(%ebp), %eax
 1955 0bbe 89442404 		movl	%eax, 4(%esp)
 1956 0bc2 8D45F0   		leal	-16(%ebp), %eax
 1957 0bc5 FF00     		incl	(%eax)
 1958 0bc7 8B4508   		movl	8(%ebp), %eax
 1959 0bca 890424   		movl	%eax, (%esp)
 1960 0bcd E883F8FF 		call	_GetItem
 1960      FF
1346:str_merge.c   ****         /* wcscat(out_data, itembuf); */    
1347:str_merge.c   ****         if(itembuf[0] == '\0'){
 1962              	LM222:
 1963 0bd2 6683BDE8 		cmpw	$0, -2072(%ebp)
 1963      F7FFFF00 
 1964 0bda 7517     		jne	L145
1348:str_merge.c   ****             wcscat(out_data, marker);
 1966              	LM223:
 1967 0bdc 8D85E4F7 		leal	-2076(%ebp), %eax
 1967      FFFF
 1968 0be2 89442404 		movl	%eax, 4(%esp)
 1969 0be6 8B450C   		movl	12(%ebp), %eax
 1970 0be9 890424   		movl	%eax, (%esp)
 1971 0bec E8000000 		call	_wcscat
 1971      00
 1972 0bf1 EB15     		jmp	L146
 1973              	L145:
1349:str_merge.c   ****         }
1350:str_merge.c   ****         else{
1351:str_merge.c   ****             wcscat(out_data, itembuf);
 1975              	LM224:
 1976 0bf3 8D85E8F7 		leal	-2072(%ebp), %eax
 1976      FFFF
 1977 0bf9 89442404 		movl	%eax, 4(%esp)
 1978 0bfd 8B450C   		movl	12(%ebp), %eax
 1979 0c00 890424   		movl	%eax, (%esp)
 1980 0c03 E8000000 		call	_wcscat
 1980      00
 1981              	L146:
1352:str_merge.c   ****         }
1353:str_merge.c   **** 
1354:str_merge.c   ****         wcscat(out_data, L"\t");
 1983              	LM225:
 1984 0c08 C7442404 		movl	$LC0, 4(%esp)
 1984      48000000 
 1985 0c10 8B450C   		movl	12(%ebp), %eax
 1986 0c13 890424   		movl	%eax, (%esp)
 1987 0c16 E8000000 		call	_wcscat
 1987      00
 1989              	LM226:
 1990 0c1b 8D45F4   		leal	-12(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 51


 1991 0c1e FF00     		incl	(%eax)
 1992 0c20 EB87     		jmp	L141
 1993              	L142:
1355:str_merge.c   ****     }
1356:str_merge.c   **** 
1357:str_merge.c   ****     /*copy the needed column*/
1358:str_merge.c   ****     for(i = 0; i < total_lang; ++i)
 1995              	LM227:
 1996 0c22 C745F400 		movl	$0, -12(%ebp)
 1996      000000
 1997              	L147:
 1998 0c29 8B45F4   		movl	-12(%ebp), %eax
 1999 0c2c 3B4514   		cmpl	20(%ebp), %eax
 2000 0c2f 7C05     		jl	L150
 2001 0c31 E9A60000 		jmp	L148
 2001      00
 2002              	L150:
1359:str_merge.c   ****     {
1360:str_merge.c   ****         if(index[i] != -1) /*we have this language in ref_list*/
 2004              	LM228:
 2005 0c36 8B45F4   		movl	-12(%ebp), %eax
 2006 0c39 8D148500 		leal	0(,%eax,4), %edx
 2006      000000
 2007 0c40 8B4510   		movl	16(%ebp), %eax
 2008 0c43 833C10FF 		cmpl	$-1, (%eax,%edx)
 2009 0c47 7461     		je	L151
1361:str_merge.c   ****         {
1362:str_merge.c   ****             GetItem(in_data, index[i], itembuf);
 2011              	LM229:
 2012 0c49 8D85E8F7 		leal	-2072(%ebp), %eax
 2012      FFFF
 2013 0c4f 89442408 		movl	%eax, 8(%esp)
 2014 0c53 8B45F4   		movl	-12(%ebp), %eax
 2015 0c56 8D148500 		leal	0(,%eax,4), %edx
 2015      000000
 2016 0c5d 8B4510   		movl	16(%ebp), %eax
 2017 0c60 8B0410   		movl	(%eax,%edx), %eax
 2018 0c63 89442404 		movl	%eax, 4(%esp)
 2019 0c67 8B4508   		movl	8(%ebp), %eax
 2020 0c6a 890424   		movl	%eax, (%esp)
 2021 0c6d E8E3F7FF 		call	_GetItem
 2021      FF
1363:str_merge.c   **** 		
1364:str_merge.c   ****             if(itembuf[0] == '\0'){
 2023              	LM230:
 2024 0c72 6683BDE8 		cmpw	$0, -2072(%ebp)
 2024      F7FFFF00 
 2025 0c7a 7517     		jne	L152
1365:str_merge.c   ****                 wcscat(out_data, marker);
 2027              	LM231:
 2028 0c7c 8D85E4F7 		leal	-2076(%ebp), %eax
 2028      FFFF
 2029 0c82 89442404 		movl	%eax, 4(%esp)
 2030 0c86 8B450C   		movl	12(%ebp), %eax
 2031 0c89 890424   		movl	%eax, (%esp)
 2032 0c8c E8000000 		call	_wcscat
 2032      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 52


 2033 0c91 EB2C     		jmp	L154
 2034              	L152:
1366:str_merge.c   ****             }
1367:str_merge.c   ****             else{
1368:str_merge.c   ****                 wcscat(out_data, itembuf);
 2036              	LM232:
 2037 0c93 8D85E8F7 		leal	-2072(%ebp), %eax
 2037      FFFF
 2038 0c99 89442404 		movl	%eax, 4(%esp)
 2039 0c9d 8B450C   		movl	12(%ebp), %eax
 2040 0ca0 890424   		movl	%eax, (%esp)
 2041 0ca3 E8000000 		call	_wcscat
 2041      00
 2042 0ca8 EB15     		jmp	L154
 2043              	L151:
1369:str_merge.c   ****             }
1370:str_merge.c   ****         }
1371:str_merge.c   ****         else{ /*in ref_list, we do not have this language*/
1372:str_merge.c   ****             wcscat(out_data, marker);
 2045              	LM233:
 2046 0caa 8D85E4F7 		leal	-2076(%ebp), %eax
 2046      FFFF
 2047 0cb0 89442404 		movl	%eax, 4(%esp)
 2048 0cb4 8B450C   		movl	12(%ebp), %eax
 2049 0cb7 890424   		movl	%eax, (%esp)
 2050 0cba E8000000 		call	_wcscat
 2050      00
 2051              	L154:
1373:str_merge.c   ****         }
1374:str_merge.c   ****         wcscat(out_data, L"\t");
 2053              	LM234:
 2054 0cbf C7442404 		movl	$LC0, 4(%esp)
 2054      48000000 
 2055 0cc7 8B450C   		movl	12(%ebp), %eax
 2056 0cca 890424   		movl	%eax, (%esp)
 2057 0ccd E8000000 		call	_wcscat
 2057      00
 2059              	LM235:
 2060 0cd2 8D45F4   		leal	-12(%ebp), %eax
 2061 0cd5 FF00     		incl	(%eax)
 2062 0cd7 E94DFFFF 		jmp	L147
 2062      FF
 2063              	L148:
1375:str_merge.c   ****     }
1376:str_merge.c   ****     /*in order to reduce memory but will increase process time*/
1377:str_merge.c   ****     wcscat(out_data, L"\r\n\0");
 2065              	LM236:
 2066 0cdc C7442404 		movl	$LC8, 4(%esp)
 2066      BC0A0000 
 2067 0ce4 8B450C   		movl	12(%ebp), %eax
 2068 0ce7 890424   		movl	%eax, (%esp)
 2069 0cea E8000000 		call	_wcscat
 2069      00
 2070 0cef 8BA5E0F7 		movl	-2080(%ebp), %esp
 2070      FFFF
1378:str_merge.c   **** }
 2072              	LM237:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 53


 2073              	L138:
 2074 0cf5 C9       		leave
 2075 0cf6 C3       		ret
 2076              	LBE15:
 2084              	Lscope13:
 2086              	LC9:
 2087 0cf7 52454620 		.ascii "REF LIST ITEM is NULL\0"
 2087      4C495354 
 2087      20495445 
 2087      4D206973 
 2087      204E554C 
 2088 0d0d 90909090 		.align 32
 2088      90909090 
 2088      90909090 
 2088      90909090 
 2088      909090
 2089              	LC10:
 2090 0d20 52454620 		.ascii "REF LIST ITEM format error!! It can be an empty line. \0"
 2090      4C495354 
 2090      20495445 
 2090      4D20666F 
 2090      726D6174 
 2091 0d57 89F68DBC 		.align 32
 2091      27000000 
 2091      00
 2092              	LC11:
 2093 0d60 52454620 		.ascii "REF LIST item overflow: %d, buffer size = %d\0"
 2093      4C495354 
 2093      20697465 
 2093      6D206F76 
 2093      6572666C 
 2097              	.globl _check_ref_list_item
 2099              	_check_ref_list_item:
1379:str_merge.c   **** 
1380:str_merge.c   **** /*****************************************************************************
1381:str_merge.c   ****  * FUNCTION
1382:str_merge.c   ****  *  check_ref_list_item
1383:str_merge.c   ****  * DESCRIPTION
1384:str_merge.c   ****  *  Check if the format of the ref list line is invalid or not
1385:str_merge.c   ****  *
1386:str_merge.c   ****  * PARAMETERS
1387:str_merge.c   ****  *  ref_line      :[IN] one line of ref list to be check
1388:str_merge.c   ****  * RETURNS
1389:str_merge.c   ****  *  0              : Valid format
1390:str_merge.c   ****  * -1            : Invalid format
1391:str_merge.c   ****  *****************************************************************************/
1392:str_merge.c   **** int check_ref_list_item(wchar_t * ref_line, int buf_size)
1393:str_merge.c   **** { 
 2101              	LM238:
 2102 0d8d 55       		pushl	%ebp
 2103 0d8e 89E5     		movl	%esp, %ebp
 2104 0d90 83EC28   		subl	$40, %esp
1394:str_merge.c   ****     int str_length = 0;
 2106              	LM239:
 2107              	LBB17:
 2108 0d93 C745FC00 		movl	$0, -4(%ebp)
 2108      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 54


1395:str_merge.c   ****     // NULL pointer check
1396:str_merge.c   ****     if(ref_line == NULL)
 2110              	LM240:
 2111 0d9a 837D0800 		cmpl	$0, 8(%ebp)
 2112 0d9e 7525     		jne	L156
1397:str_merge.c   ****     {
1398:str_merge.c   ****                 STRMERG_LOG_E("REF LIST ITEM is NULL");
 2114              	LM241:
 2115 0da0 C7442408 		movl	$LC9, 8(%esp)
 2115      F70C0000 
 2116 0da8 C7442404 		movl	$LC3, 4(%esp)
 2116      4B040000 
 2117 0db0 C7042403 		movl	$3, (%esp)
 2117      000000
 2118 0db7 E8000000 		call	_reslog_adaptor_log
 2118      00
1399:str_merge.c   ****                 return -1;
 2120              	LM242:
 2121 0dbc C745F8FF 		movl	$-1, -8(%ebp)
 2121      FFFFFF
 2122 0dc3 EB7B     		jmp	L155
 2123              	L156:
1400:str_merge.c   ****     }
1401:str_merge.c   ****     // Empty check
1402:str_merge.c   ****     str_length= wcslen(ref_line);
 2125              	LM243:
 2126 0dc5 8B4508   		movl	8(%ebp), %eax
 2127 0dc8 890424   		movl	%eax, (%esp)
 2128 0dcb E8000000 		call	_wcslen
 2128      00
 2129 0dd0 8945FC   		movl	%eax, -4(%ebp)
1403:str_merge.c   **** 
1404:str_merge.c   ****     if(str_length <= 2){
 2131              	LM244:
 2132 0dd3 837DFC02 		cmpl	$2, -4(%ebp)
 2133 0dd7 7F25     		jg	L157
1405:str_merge.c   ****         STRMERG_LOG_E("REF LIST ITEM format error!! It can be an empty line. ");
 2135              	LM245:
 2136 0dd9 C7442408 		movl	$LC10, 8(%esp)
 2136      200D0000 
 2137 0de1 C7442404 		movl	$LC3, 4(%esp)
 2137      4B040000 
 2138 0de9 C7042403 		movl	$3, (%esp)
 2138      000000
 2139 0df0 E8000000 		call	_reslog_adaptor_log
 2139      00
1406:str_merge.c   ****         return -1;
 2141              	LM246:
 2142 0df5 C745F8FF 		movl	$-1, -8(%ebp)
 2142      FFFFFF
 2143 0dfc EB42     		jmp	L155
 2144              	L157:
1407:str_merge.c   ****     }
1408:str_merge.c   **** 
1409:str_merge.c   ****     // Check for overflow
1410:str_merge.c   ****     if(str_length >= buf_size){
 2146              	LM247:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 55


 2147 0dfe 8B45FC   		movl	-4(%ebp), %eax
 2148 0e01 3B450C   		cmpl	12(%ebp), %eax
 2149 0e04 7C33     		jl	L158
1411:str_merge.c   ****         STRMERG_LOG_E("REF LIST item overflow: %d, buffer size = %d", str_length, buf_size);
 2151              	LM248:
 2152 0e06 8B450C   		movl	12(%ebp), %eax
 2153 0e09 89442410 		movl	%eax, 16(%esp)
 2154 0e0d 8B45FC   		movl	-4(%ebp), %eax
 2155 0e10 8944240C 		movl	%eax, 12(%esp)
 2156 0e14 C7442408 		movl	$LC11, 8(%esp)
 2156      600D0000 
 2157 0e1c C7442404 		movl	$LC3, 4(%esp)
 2157      4B040000 
 2158 0e24 C7042403 		movl	$3, (%esp)
 2158      000000
 2159 0e2b E8000000 		call	_reslog_adaptor_log
 2159      00
1412:str_merge.c   ****         return -1;
 2161              	LM249:
 2162 0e30 C745F8FF 		movl	$-1, -8(%ebp)
 2162      FFFFFF
 2163 0e37 EB07     		jmp	L155
 2164              	L158:
1413:str_merge.c   ****     }
1414:str_merge.c   **** 
1415:str_merge.c   ****     return 0;
 2166              	LM250:
 2167 0e39 C745F800 		movl	$0, -8(%ebp)
 2167      000000
1416:str_merge.c   **** }
 2169              	LM251:
 2170              	L155:
 2171              	LBE17:
 2172 0e40 8B45F8   		movl	-8(%ebp), %eax
 2173 0e43 C9       		leave
 2174 0e44 C3       		ret
 2178              	Lscope14:
 2180 0e45 90       		.align 2
 2181              	LC12:
 2182 0e46 0000     		.ascii "\0\0"
 2183              		.align 2
 2184              	LC13:
 2185 0e48 50006100 		.ascii "P\0a\0r\0s\0i\0n\0g\0:\0 \0%\0l\0s\0\0\0"
 2185      72007300 
 2185      69006E00 
 2185      67003A00 
 2185      20002500 
 2186 0e62 90909090 		.align 32
 2186      90909090 
 2186      90909090 
 2186      90909090 
 2186      90909090 
 2187              	LC14:
 2188 0e80 49006E00 		.ascii "I\0n\0v\0a\0l\0i\0d\0 \0R\0E\0F\0 \0i\0t\0e\0m\0 \0a\0f\0t\0e\0r\0:\0 \0%\0l\0s\0\0\0"
 2188      76006100 
 2188      6C006900 
 2188      64002000 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 56


 2188      52004500 
 2189 0eb8 908DB426 		.align 32
 2189      00000000 
 2190              	LC15:
 2191 0ec0 50006C00 		.ascii "P\0l\0e\0a\0e\0 \0c\0h\0e\0c\0k\0 \0t\0h\0e\0 \0R\0E\0F\0 \0i\0t\0e\0m\0 \0i\0n\0 \0p\0l\0
 2191      65006100 
 2191      65002000 
 2191      63006800 
 2191      65006300 
 2192 0fa6 90909090 		.align 32
 2192      90909090 
 2192      90909090 
 2192      90909090 
 2192      90909090 
 2193              	LC16:
 2194 0fc0 46006100 		.ascii "F\0a\0t\0a\0l\0 \0e\0r\0r\0o\0r\0 \0i\0n\0 \0l\0o\0a\0d\0_\0r\0e\0f\0_\0l\0i\0s\0t\0_\0t\0
 2194      74006100 
 2194      6C002000 
 2194      65007200 
 2194      72006F00 
 2195 100c 90909090 		.align 32
 2195      90909090 
 2195      90909090 
 2195      90909090 
 2195      90909090 
 2196              	LC17:
 2197 1020 50006C00 		.ascii "P\0l\0e\0a\0s\0e\0 \0c\0h\0e\0c\0k\0 \0p\0l\0u\0t\0o\0m\0m\0i\0\\\0C\0u\0s\0t\0o\0m\0e\0r\
 2197      65006100 
 2197      73006500 
 2197      20006300 
 2197      68006500 
 2205              	_load_ref_list_to_mem:
1417:str_merge.c   **** 
1418:str_merge.c   **** #ifndef MEM_REF_LIST_OPT /* MEM_REF_LIST_OPT */
1419:str_merge.c   **** 
1420:str_merge.c   **** /*****************************************************************************
1421:str_merge.c   ****  * FUNCTION
1422:str_merge.c   ****  *  load_ref_list_to_mem
1423:str_merge.c   ****  * DESCRIPTION
1424:str_merge.c   ****  *  load the ref list's information to memory
1425:str_merge.c   ****  *
1426:str_merge.c   ****  * PARAMETERS
1427:str_merge.c   ****  *  out_buff     :[OUT]  the buffer used to store the content of ref list
1428:str_merge.c   ****  *  end_line     :[OUT] the end line of ref list
1429:str_merge.c   ****  *  ref          :[IN] file handle point to ref list
1430:str_merge.c   ****  *  index        :[IN] the column index that populated language in ref list
1431:str_merge.c   ****  *  ref_cnt      :[IN] the item count in ref list
1432:str_merge.c   ****  * RETURNS
1433:str_merge.c   ****  *  void
1434:str_merge.c   ****  *****************************************************************************/
1435:str_merge.c   **** static void load_ref_list_to_mem(wchar_t *out_buff, wchar_t **end_line, FILE* ref, const int* index
1436:str_merge.c   **** {
1437:str_merge.c   ****     int j = 0;
1438:str_merge.c   ****     wchar_t *tmp = out_buff;
1439:str_merge.c   ****     wchar_t *ref_line = NULL;
1440:str_merge.c   ****     wchar_t *last_valid_ref_line = NULL;	
1441:str_merge.c   ****     wchar_t *ref_result = NULL;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 57


1442:str_merge.c   ****     wchar_t itembuf[MAX_LENGTH];
1443:str_merge.c   **** 
1444:str_merge.c   ****     if(out_buff == NULL)
1445:str_merge.c   ****         return;
1446:str_merge.c   **** 
1447:str_merge.c   ****     /*mallco memory for tmp buffer*/
1448:str_merge.c   ****     ref_line = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
1449:str_merge.c   ****     last_valid_ref_line = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
1450:str_merge.c   ****     if(ref_line == NULL || last_valid_ref_line == NULL)
1451:str_merge.c   ****     {
1452:str_merge.c   ****         ASSERT(0);
1453:str_merge.c   ****     }
1454:str_merge.c   **** 
1455:str_merge.c   ****     /*malloc  memory for return result*/
1456:str_merge.c   ****     ref_result = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
1457:str_merge.c   **** 
1458:str_merge.c   ****     if(ref_result == NULL)
1459:str_merge.c   ****     {
1460:str_merge.c   ****         free(ref_line);
1461:str_merge.c   ****         ASSERT(0);
1462:str_merge.c   ****     }
1463:str_merge.c   **** 
1464:str_merge.c   ****     // Init last_valid_ref_line
1465:str_merge.c   ****     wcscpy(last_valid_ref_line,L"");
1466:str_merge.c   **** 
1467:str_merge.c   ****     rewind(ref);
1468:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
1469:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
1470:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
1471:str_merge.c   **** 
1472:str_merge.c   ****     for(j = 0; j < ref_cnt; j++)
1473:str_merge.c   ****     {
1474:str_merge.c   ****         fgetws(ref_line, g_line_buf_length, ref);
1475:str_merge.c   **** 
1476:str_merge.c   ****         if(check_ref_list_item(ref_line, g_line_buf_length)< 0)
1477:str_merge.c   ****         {
1478:str_merge.c   ****             // The format is invalid!!
1479:str_merge.c   ****             STRMERG_WLOG_E(L"Invalid REF item after: %ls", last_valid_ref_line);
1480:str_merge.c   ****             fflush(stdout);
1481:str_merge.c   ****          }
1482:str_merge.c   ****          else
1483:str_merge.c   ****          {
1484:str_merge.c   **** 
1485:str_merge.c   **** 
1486:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
1487:str_merge.c   ****         /* set fixed string id flag */
1488:str_merge.c   ****         GetItem(ref_line, 0, itembuf);
1489:str_merge.c   ****         set_fixed_str_flag(&fixed_id, itembuf);
1490:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1491:str_merge.c   ****         
1492:str_merge.c   ****         filter_raw_string(ref_line, ref_result, index, deployed_lang);
1493:str_merge.c   **** 
1494:str_merge.c   ****         wcscpy(tmp, ref_result);
1495:str_merge.c   ****         wcscpy(last_valid_ref_line, ref_line);		
1496:str_merge.c   ****         tmp += g_line_buf_act_length;
1497:str_merge.c   **** 
1498:str_merge.c   ****         }
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 58


1499:str_merge.c   ****     }
1500:str_merge.c   **** 
1501:str_merge.c   ****     *end_line = tmp - g_line_buf_act_length;
1502:str_merge.c   **** 
1503:str_merge.c   ****     free(ref_line);
1504:str_merge.c   ****     free(ref_result);
1505:str_merge.c   **** }
1506:str_merge.c   **** #else /* MEM_REF_LIST_OPT */
1507:str_merge.c   **** /*****************************************************************************
1508:str_merge.c   ****  * FUNCTION
1509:str_merge.c   ****  *  load_ref_list_to_mem
1510:str_merge.c   ****  * DESCRIPTION
1511:str_merge.c   ****  *  Load the ref list's information to memory; storing the ref list data with 
1512:str_merge.c   ****  *   a vector (dynamic array) instead of a large continuous array
1513:str_merge.c   ****  *
1514:str_merge.c   ****  * PARAMETERS
1515:str_merge.c   ****  *  out_buff     :[OUT]  the buffer used to store the content of ref list
1516:str_merge.c   ****  *  ref          :[IN] file handle point to ref list
1517:str_merge.c   ****  *  index        :[IN] the column index that populated language in ref list
1518:str_merge.c   ****  *  ref_cnt      :[IN] the item count in ref list
1519:str_merge.c   ****  * RETURNS
1520:str_merge.c   ****  *  void
1521:str_merge.c   ****  *****************************************************************************/
1522:str_merge.c   **** static void load_ref_list_to_mem(RefList *out_buff, FILE* ref, const int* index, const int ref_cnt,
1523:str_merge.c   **** {
 2207              	LM252:
 2208 10ce 55       		pushl	%ebp
 2209 10cf 89E5     		movl	%esp, %ebp
 2210 10d1 81EC5804 		subl	$1112, %esp
 2210      0000
1524:str_merge.c   ****     int j = 0;
 2212              	LM253:
 2213              	LBB18:
 2214 10d7 C745F400 		movl	$0, -12(%ebp)
 2214      000000
1525:str_merge.c   ****     wchar_t *tmp = out_buff;
 2216              	LM254:
 2217 10de 8B4508   		movl	8(%ebp), %eax
 2218 10e1 8945F0   		movl	%eax, -16(%ebp)
1526:str_merge.c   ****     wchar_t *ref_line = NULL;
 2220              	LM255:
 2221 10e4 C745EC00 		movl	$0, -20(%ebp)
 2221      000000
1527:str_merge.c   ****     wchar_t *last_valid_ref_line = NULL;
 2223              	LM256:
 2224 10eb C745E800 		movl	$0, -24(%ebp)
 2224      000000
1528:str_merge.c   ****     wchar_t *ref_result = NULL;
 2226              	LM257:
 2227 10f2 C745E400 		movl	$0, -28(%ebp)
 2227      000000
1529:str_merge.c   ****     wchar_t itembuf[MAX_LENGTH];
1530:str_merge.c   **** 
1531:str_merge.c   ****     if(out_buff == NULL)
 2229              	LM258:
 2230 10f9 837D0800 		cmpl	$0, 8(%ebp)
 2231 10fd 7505     		jne	L160
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 59


1532:str_merge.c   ****         return;
 2233              	LM259:
 2234 10ff E9850200 		jmp	L159
 2234      00
 2235              	L160:
1533:str_merge.c   **** 
1534:str_merge.c   ****     /*mallco memory for tmp buffer (str line of all languages)*/
1535:str_merge.c   ****     ref_line = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 2237              	LM260:
 2238 1104 A1280000 		movl	_g_line_buf_length, %eax
 2238      00
 2239 1109 01C0     		addl	%eax, %eax
 2240 110b 890424   		movl	%eax, (%esp)
 2241 110e E8000000 		call	_malloc
 2241      00
 2242 1113 8945EC   		movl	%eax, -20(%ebp)
1536:str_merge.c   **** 	
1537:str_merge.c   ****     last_valid_ref_line = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 2244              	LM261:
 2245 1116 A1280000 		movl	_g_line_buf_length, %eax
 2245      00
 2246 111b 01C0     		addl	%eax, %eax
 2247 111d 890424   		movl	%eax, (%esp)
 2248 1120 E8000000 		call	_malloc
 2248      00
 2249 1125 8945E8   		movl	%eax, -24(%ebp)
1538:str_merge.c   ****     if(ref_line == NULL || last_valid_ref_line == NULL)
 2251              	LM262:
 2252 1128 837DEC00 		cmpl	$0, -20(%ebp)
 2253 112c 7406     		je	L162
 2254 112e 837DE800 		cmpl	$0, -24(%ebp)
 2255 1132 7502     		jne	L161
 2256              	L162:
1539:str_merge.c   ****     {
1540:str_merge.c   ****         ASSERT(0);
 2258              	LM263:
 2259              	L164:
 2260 1134 EBFE     		jmp	L164
 2261              	L161:
1541:str_merge.c   ****     }
1542:str_merge.c   **** 
1543:str_merge.c   ****     /* malloc  memory for return result (str line of deployed languages)*/
1544:str_merge.c   ****     ref_result = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 2263              	LM264:
 2264 1136 A1280000 		movl	_g_line_buf_length, %eax
 2264      00
 2265 113b 01C0     		addl	%eax, %eax
 2266 113d 890424   		movl	%eax, (%esp)
 2267 1140 E8000000 		call	_malloc
 2267      00
 2268 1145 8945E4   		movl	%eax, -28(%ebp)
1545:str_merge.c   ****     if(ref_result == NULL)
 2270              	LM265:
 2271 1148 837DE400 		cmpl	$0, -28(%ebp)
 2272 114c 750D     		jne	L168
1546:str_merge.c   ****     {
1547:str_merge.c   ****         free(ref_line);
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 60


 2274              	LM266:
 2275 114e 8B45EC   		movl	-20(%ebp), %eax
 2276 1151 890424   		movl	%eax, (%esp)
 2277 1154 E8000000 		call	_free
 2277      00
1548:str_merge.c   ****         ASSERT(0);
 2279              	LM267:
 2280              	L170:
 2281 1159 EBFE     		jmp	L170
 2282              	L168:
1549:str_merge.c   ****     }
1550:str_merge.c   **** 
1551:str_merge.c   ****     // Initialize last_valid_ref_line
1552:str_merge.c   ****     wcscpy(last_valid_ref_line,L"");
 2284              	LM268:
 2285 115b C7442404 		movl	$LC12, 4(%esp)
 2285      460E0000 
 2286 1163 8B45E8   		movl	-24(%ebp), %eax
 2287 1166 890424   		movl	%eax, (%esp)
 2288 1169 E8000000 		call	_wcscpy
 2288      00
1553:str_merge.c   **** 
1554:str_merge.c   ****     rewind(ref);
 2290              	LM269:
 2291 116e 8B450C   		movl	12(%ebp), %eax
 2292 1171 890424   		movl	%eax, (%esp)
 2293 1174 E8000000 		call	_rewind
 2293      00
1555:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
 2295              	LM270:
 2296 1179 8B450C   		movl	12(%ebp), %eax
 2297 117c 89442408 		movl	%eax, 8(%esp)
 2298 1180 A1280000 		movl	_g_line_buf_length, %eax
 2298      00
 2299 1185 89442404 		movl	%eax, 4(%esp)
 2300 1189 8B45EC   		movl	-20(%ebp), %eax
 2301 118c 890424   		movl	%eax, (%esp)
 2302 118f E8000000 		call	_fgetws
 2302      00
1556:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
 2304              	LM271:
 2305 1194 8B450C   		movl	12(%ebp), %eax
 2306 1197 89442408 		movl	%eax, 8(%esp)
 2307 119b A1280000 		movl	_g_line_buf_length, %eax
 2307      00
 2308 11a0 89442404 		movl	%eax, 4(%esp)
 2309 11a4 8B45EC   		movl	-20(%ebp), %eax
 2310 11a7 890424   		movl	%eax, (%esp)
 2311 11aa E8000000 		call	_fgetws
 2311      00
1557:str_merge.c   ****     fgetws(ref_line, g_line_buf_length, ref);
 2313              	LM272:
 2314 11af 8B450C   		movl	12(%ebp), %eax
 2315 11b2 89442408 		movl	%eax, 8(%esp)
 2316 11b6 A1280000 		movl	_g_line_buf_length, %eax
 2316      00
 2317 11bb 89442404 		movl	%eax, 4(%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 61


 2318 11bf 8B45EC   		movl	-20(%ebp), %eax
 2319 11c2 890424   		movl	%eax, (%esp)
 2320 11c5 E8000000 		call	_fgetws
 2320      00
1558:str_merge.c   **** 
1559:str_merge.c   ****     for(j = 0; j < ref_cnt; j++)
 2322              	LM273:
 2323 11ca C745F400 		movl	$0, -12(%ebp)
 2323      000000
 2324              	L174:
 2325 11d1 8B45F4   		movl	-12(%ebp), %eax
 2326 11d4 3B4514   		cmpl	20(%ebp), %eax
 2327 11d7 7C05     		jl	L177
 2328 11d9 E9950100 		jmp	L175
 2328      00
 2329              	L177:
1560:str_merge.c   ****     {
1561:str_merge.c   ****         fgetws(ref_line, g_line_buf_length, ref);
 2331              	LM274:
 2332 11de 8B450C   		movl	12(%ebp), %eax
 2333 11e1 89442408 		movl	%eax, 8(%esp)
 2334 11e5 A1280000 		movl	_g_line_buf_length, %eax
 2334      00
 2335 11ea 89442404 		movl	%eax, 4(%esp)
 2336 11ee 8B45EC   		movl	-20(%ebp), %eax
 2337 11f1 890424   		movl	%eax, (%esp)
 2338 11f4 E8000000 		call	_fgetws
 2338      00
1562:str_merge.c   **** #ifdef STR_MERGE_DEBUG
1563:str_merge.c   ****         STRMERG_WLOG_D(L"Parsing: %ls", ref_line);
 2340              	LM275:
 2341 11f9 8B45EC   		movl	-20(%ebp), %eax
 2342 11fc 8944240C 		movl	%eax, 12(%esp)
 2343 1200 C7442408 		movl	$LC13, 8(%esp)
 2343      480E0000 
 2344 1208 C7442404 		movl	$LC3, 4(%esp)
 2344      4B040000 
 2345 1210 C7042400 		movl	$0, (%esp)
 2345      000000
 2346 1217 E8000000 		call	_reslog_adaptor_wlog
 2346      00
1564:str_merge.c   ****         fflush(stdout);
 2348              	LM276:
 2349 121c A1000000 		movl	__imp___iob, %eax
 2349      00
 2350 1221 83C020   		addl	$32, %eax
 2351 1224 890424   		movl	%eax, (%esp)
 2352 1227 E8000000 		call	_fflush
 2352      00
1565:str_merge.c   **** #endif
1566:str_merge.c   ****         if(check_ref_list_item(ref_line, g_line_buf_length)< 0)
 2354              	LM277:
 2355 122c A1280000 		movl	_g_line_buf_length, %eax
 2355      00
 2356 1231 89442404 		movl	%eax, 4(%esp)
 2357 1235 8B45EC   		movl	-20(%ebp), %eax
 2358 1238 890424   		movl	%eax, (%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 62


 2359 123b E84DFBFF 		call	_check_ref_list_item
 2359      FF
 2360 1240 85C0     		testl	%eax, %eax
 2361 1242 0F899600 		jns	L178
 2361      0000
1567:str_merge.c   ****         {
1568:str_merge.c   ****         // The format is invalid!!
1569:str_merge.c   ****             wchar_t * err_msg = malloc((STRMERGE_ERR_MSG_LEN_MAX+1) * sizeof(wchar_t));
 2363              	LM278:
 2364              	LBB19:
 2365 1248 C7042492 		movl	$402, (%esp)
 2365      010000
 2366 124f E8000000 		call	_malloc
 2366      00
 2367 1254 8985D4FB 		movl	%eax, -1068(%ebp)
 2367      FFFF
1570:str_merge.c   ****             swprintf(err_msg,L"Invalid REF item after: %ls", last_valid_ref_line);
 2369              	LM279:
 2370 125a 8B45E8   		movl	-24(%ebp), %eax
 2371 125d 89442408 		movl	%eax, 8(%esp)
 2372 1261 C7442404 		movl	$LC14, 4(%esp)
 2372      800E0000 
 2373 1269 8B85D4FB 		movl	-1068(%ebp), %eax
 2373      FFFF
 2374 126f 890424   		movl	%eax, (%esp)
 2375 1272 E8000000 		call	_swprintf
 2375      00
1571:str_merge.c   ****             // Use RES_WLOG_PENDING_FATAL to notify error. It will cause mtk_resgenerator.exe to re
1572:str_merge.c   ****             RES_WLOG_PENDING_FATAL(STRMERG_TAG, L"Fatal error in load_ref_list_to_mem()", err_msg,L
 2377              	LM280:
 2378 1277 C7442410 		movl	$LC15, 16(%esp)
 2378      C00E0000 
 2379 127f 8B85D4FB 		movl	-1068(%ebp), %eax
 2379      FFFF
 2380 1285 8944240C 		movl	%eax, 12(%esp)
 2381 1289 C7442408 		movl	$LC16, 8(%esp)
 2381      C00F0000 
 2382 1291 C7442404 		movl	$LC3, 4(%esp)
 2382      4B040000 
 2383 1299 C7042403 		movl	$3, (%esp)
 2383      000000
 2384 12a0 E8000000 		call	_reslog_adaptor_fatal_error_pending_wlog
 2384      00
1573:str_merge.c   ****             STRMERG_WLOG_E(L"Please check plutommi\\Customer\\CustResource\\ref_list.txt for this e
 2386              	LM281:
 2387 12a5 8B85D4FB 		movl	-1068(%ebp), %eax
 2387      FFFF
 2388 12ab 8944240C 		movl	%eax, 12(%esp)
 2389 12af C7442408 		movl	$LC17, 8(%esp)
 2389      20100000 
 2390 12b7 C7442404 		movl	$LC3, 4(%esp)
 2390      4B040000 
 2391 12bf C7042403 		movl	$3, (%esp)
 2391      000000
 2392 12c6 E8000000 		call	_reslog_adaptor_wlog
 2392      00
1574:str_merge.c   ****             free(err_msg);
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 63


 2394              	LM282:
 2395 12cb 8B85D4FB 		movl	-1068(%ebp), %eax
 2395      FFFF
 2396 12d1 890424   		movl	%eax, (%esp)
 2397 12d4 E8000000 		call	_free
 2397      00
 2398              	LBE19:
 2399 12d9 E98B0000 		jmp	L176
 2399      00
 2400              	L178:
1575:str_merge.c   ****         }
1576:str_merge.c   ****         else
1577:str_merge.c   ****         {
1578:str_merge.c   **** 
1579:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
1580:str_merge.c   ****             /* set fixed string id flag */
1581:str_merge.c   ****             GetItem(ref_line, 0, itembuf);
 2402              	LM283:
 2403              	LBB20:
 2404 12de 8D85D8FB 		leal	-1064(%ebp), %eax
 2404      FFFF
 2405 12e4 89442408 		movl	%eax, 8(%esp)
 2406 12e8 C7442404 		movl	$0, 4(%esp)
 2406      00000000 
 2407 12f0 8B45EC   		movl	-20(%ebp), %eax
 2408 12f3 890424   		movl	%eax, (%esp)
 2409 12f6 E85AF1FF 		call	_GetItem
 2409      FF
1582:str_merge.c   ****             set_fixed_str_flag(&fixed_id, itembuf);
 2411              	LM284:
 2412 12fb 8D85D8FB 		leal	-1064(%ebp), %eax
 2412      FFFF
 2413 1301 89442404 		movl	%eax, 4(%esp)
 2414 1305 C7042400 		movl	$_fixed_id, (%esp)
 2414      000000
 2415 130c E8485600 		call	_set_fixed_str_flag
 2415      00
1583:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1584:str_merge.c   ****     
1585:str_merge.c   ****             /* Load the string of deployed language only */
1586:str_merge.c   ****             filter_raw_string(ref_line, ref_result, index, deployed_lang);
 2417              	LM285:
 2418 1311 8B4518   		movl	24(%ebp), %eax
 2419 1314 8944240C 		movl	%eax, 12(%esp)
 2420 1318 8B4510   		movl	16(%ebp), %eax
 2421 131b 89442408 		movl	%eax, 8(%esp)
 2422 131f 8B45E4   		movl	-28(%ebp), %eax
 2423 1322 89442404 		movl	%eax, 4(%esp)
 2424 1326 8B45EC   		movl	-20(%ebp), %eax
 2425 1329 890424   		movl	%eax, (%esp)
 2426 132c E893F7FF 		call	_filter_raw_string
 2426      FF
1587:str_merge.c   ****             /* Create a ref list item object and store the str line to it */
1588:str_merge.c   ****             RefListItem *lineItem = CreateListItemFromStr(ref_result);
 2428              	LM286:
 2429 1331 8B45E4   		movl	-28(%ebp), %eax
 2430 1334 890424   		movl	%eax, (%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 64


 2431 1337 E8286700 		call	_CreateListItemFromStr
 2431      00
 2432 133c 8985D4FB 		movl	%eax, -1068(%ebp)
 2432      FFFF
1589:str_merge.c   ****             /* Add the new ref list item to ref list*/
1590:str_merge.c   ****             AddRefListItem(out_buff,lineItem);
 2434              	LM287:
 2435 1342 8B85D4FB 		movl	-1068(%ebp), %eax
 2435      FFFF
 2436 1348 89442404 		movl	%eax, 4(%esp)
 2437 134c 8B4508   		movl	8(%ebp), %eax
 2438 134f 890424   		movl	%eax, (%esp)
 2439 1352 E8FF6800 		call	_AddRefListItem
 2439      00
1591:str_merge.c   ****             /* Record the last success one for debug */			
1592:str_merge.c   ****             wcscpy(last_valid_ref_line, ref_line);
 2441              	LM288:
 2442 1357 8B45EC   		movl	-20(%ebp), %eax
 2443 135a 89442404 		movl	%eax, 4(%esp)
 2444 135e 8B45E8   		movl	-24(%ebp), %eax
 2445 1361 890424   		movl	%eax, (%esp)
 2446 1364 E8000000 		call	_wcscpy
 2446      00
 2448              	LM289:
 2449              	L176:
 2450 1369 8D45F4   		leal	-12(%ebp), %eax
 2451              	LBE20:
 2452 136c FF00     		incl	(%eax)
 2453 136e E95EFEFF 		jmp	L174
 2453      FF
 2454              	L175:
1593:str_merge.c   ****         }
1594:str_merge.c   ****     }
1595:str_merge.c   ****     free(ref_line);
 2456              	LM290:
 2457 1373 8B45EC   		movl	-20(%ebp), %eax
 2458 1376 890424   		movl	%eax, (%esp)
 2459 1379 E8000000 		call	_free
 2459      00
1596:str_merge.c   ****     free(ref_result);
 2461              	LM291:
 2462 137e 8B45E4   		movl	-28(%ebp), %eax
 2463 1381 890424   		movl	%eax, (%esp)
 2464 1384 E8000000 		call	_free
 2464      00
1597:str_merge.c   **** }
 2466              	LM292:
 2467              	L159:
 2468 1389 C9       		leave
 2469 138a C3       		ret
 2470              	LBE18:
 2485              	Lscope15:
 2491              	.globl _get_ref_count
 2493              	_get_ref_count:
1598:str_merge.c   **** #endif
1599:str_merge.c   **** 
1600:str_merge.c   **** /*****************************************************************************
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 65


1601:str_merge.c   ****  * FUNCTION
1602:str_merge.c   ****  *  get_ref_count
1603:str_merge.c   ****  * DESCRIPTION
1604:str_merge.c   ****  *  get the ref list item count
1605:str_merge.c   ****  *
1606:str_merge.c   ****  * PARAMETERS
1607:str_merge.c   ****  *  fp            :[IN]  file handle of ref list
1608:str_merge.c   ****  *  line_len      :[IN] line length of each item
1609:str_merge.c   ****  *  buff          :[IN] buffer to restore a item content
1610:str_merge.c   ****  * RETURNS
1611:str_merge.c   ****  *  int           : item count 
1612:str_merge.c   ****  *****************************************************************************/
1613:str_merge.c   **** int get_ref_count(FILE *fp, U32 line_len, wchar_t* buff)
1614:str_merge.c   **** {
 2495              	LM293:
 2496 138b 55       		pushl	%ebp
 2497 138c 89E5     		movl	%esp, %ebp
 2498 138e 83EC18   		subl	$24, %esp
1615:str_merge.c   ****     int count = 0;
 2500              	LM294:
 2501              	LBB21:
 2502 1391 C745FC00 		movl	$0, -4(%ebp)
 2502      000000
1616:str_merge.c   **** 
1617:str_merge.c   ****     if(fp == NULL || line_len <= 0)
 2504              	LM295:
 2505 1398 837D0800 		cmpl	$0, 8(%ebp)
 2506 139c 7406     		je	L182
 2507 139e 837D0C00 		cmpl	$0, 12(%ebp)
 2508 13a2 7509     		jne	L181
 2509              	L182:
1618:str_merge.c   ****     {
1619:str_merge.c   ****         return 0;
 2511              	LM296:
 2512 13a4 C745F800 		movl	$0, -8(%ebp)
 2512      000000
 2513 13ab EB50     		jmp	L180
 2514              	L181:
1620:str_merge.c   ****     }
1621:str_merge.c   **** 
1622:str_merge.c   ****     /* calculate the number of entries and read them to the buffer */
1623:str_merge.c   ****     fgetws(buff, line_len, fp);
 2516              	LM297:
 2517 13ad 8B4508   		movl	8(%ebp), %eax
 2518 13b0 89442408 		movl	%eax, 8(%esp)
 2519 13b4 8B450C   		movl	12(%ebp), %eax
 2520 13b7 89442404 		movl	%eax, 4(%esp)
 2521 13bb 8B4510   		movl	16(%ebp), %eax
 2522 13be 890424   		movl	%eax, (%esp)
 2523 13c1 E8000000 		call	_fgetws
 2523      00
1624:str_merge.c   ****     while (!feof(fp))
 2525              	LM298:
 2526              	L183:
 2527 13c6 8B4508   		movl	8(%ebp), %eax
 2528 13c9 890424   		movl	%eax, (%esp)
 2529 13cc E8000000 		call	_feof
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 66


 2529      00
 2530 13d1 85C0     		testl	%eax, %eax
 2531 13d3 7402     		je	L185
 2532 13d5 EB20     		jmp	L184
 2533              	L185:
1625:str_merge.c   ****     {
1626:str_merge.c   ****         count++;
 2535              	LM299:
 2536 13d7 8D45FC   		leal	-4(%ebp), %eax
 2537 13da FF00     		incl	(%eax)
1627:str_merge.c   ****         fgetws(buff, line_len, fp);
 2539              	LM300:
 2540 13dc 8B4508   		movl	8(%ebp), %eax
 2541 13df 89442408 		movl	%eax, 8(%esp)
 2542 13e3 8B450C   		movl	12(%ebp), %eax
 2543 13e6 89442404 		movl	%eax, 4(%esp)
 2544 13ea 8B4510   		movl	16(%ebp), %eax
 2545 13ed 890424   		movl	%eax, (%esp)
 2546 13f0 E8000000 		call	_fgetws
 2546      00
 2547 13f5 EBCF     		jmp	L183
 2548              	L184:
1628:str_merge.c   ****     }
1629:str_merge.c   **** 
1630:str_merge.c   ****     return count;
 2550              	LM301:
 2551 13f7 8B45FC   		movl	-4(%ebp), %eax
 2552 13fa 8945F8   		movl	%eax, -8(%ebp)
1631:str_merge.c   **** }
 2554              	LM302:
 2555              	L180:
 2556              	LBE21:
 2557 13fd 8B45F8   		movl	-8(%ebp), %eax
 2558 1400 C9       		leave
 2559 1401 C3       		ret
 2563              	Lscope16:
 2566              	.globl _get_filter_used_language_count
 2568              	_get_filter_used_language_count:
1632:str_merge.c   **** 
1633:str_merge.c   **** 
1634:str_merge.c   **** /*****************************************************************************
1635:str_merge.c   ****  * FUNCTION
1636:str_merge.c   ****  *  get_filter_used_language_count
1637:str_merge.c   ****  * DESCRIPTION
1638:str_merge.c   ****  *  get the filter language count
1639:str_merge.c   ****  *
1640:str_merge.c   ****  * PARAMETERS
1641:str_merge.c   ****  *  void
1642:str_merge.c   ****  * RETURNS
1643:str_merge.c   ****  *  int          : filtered total language count
1644:str_merge.c   ****  *****************************************************************************/
1645:str_merge.c   **** int get_filter_used_language_count(void)
1646:str_merge.c   **** {
 2570              	LM303:
 2571 1402 55       		pushl	%ebp
 2572 1403 89E5     		movl	%esp, %ebp
 2573 1405 83EC08   		subl	$8, %esp
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 67


1647:str_merge.c   ****     int count = 0;
 2575              	LM304:
 2576              	LBB22:
 2577 1408 C745FC00 		movl	$0, -4(%ebp)
 2577      000000
1648:str_merge.c   **** 	
1649:str_merge.c   ****     if(en_language_is_open()){
 2579              	LM305:
 2580 140f E896F3FF 		call	_en_language_is_open
 2580      FF
 2581 1414 85C0     		testl	%eax, %eax
 2582 1416 740C     		je	L187
1650:str_merge.c   ****         count = mtk_gMaxDeployedLangs;
 2584              	LM306:
 2585 1418 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 2585      000000
 2586 141f 8945FC   		movl	%eax, -4(%ebp)
 2587 1422 EB0B     		jmp	L188
 2588              	L187:
1651:str_merge.c   ****     }
1652:str_merge.c   ****     else{
1653:str_merge.c   ****         /*if english is not open, we still need to process it, so total language count will add 1*/
1654:str_merge.c   ****         count = mtk_gMaxDeployedLangs + 1;
 2590              	LM307:
 2591 1424 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 2591      000000
 2592 142b 40       		incl	%eax
 2593 142c 8945FC   		movl	%eax, -4(%ebp)
 2594              	L188:
1655:str_merge.c   ****     }
1656:str_merge.c   **** 
1657:str_merge.c   ****     return count;
 2596              	LM308:
 2597 142f 8B45FC   		movl	-4(%ebp), %eax
1658:str_merge.c   **** }
 2599              	LM309:
 2600 1432 C9       		leave
 2601 1433 C3       		ret
 2602              	LBE22:
 2606              	Lscope17:
 2608 1434 8DB60000 		.align 32
 2608      00008DBF 
 2608      00000000 
 2609              	LC18:
 2610 1440 4D657267 		.ascii "MergeStrRes(): Start to merge string translation data\0"
 2610      65537472 
 2610      52657328 
 2610      293A2053 
 2610      74617274 
 2611              	LC19:
 2612 1476 7374725F 		.ascii "str_merge.c\0"
 2612      6D657267 
 2612      652E6300 
 2613 1482 90909090 		.align 32
 2613      90909090 
 2613      90909090 
 2613      90909090 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 68


 2613      90909090 
 2614              	LC20:
 2615 14a0 696E6974 		.ascii "init_fixed_id() error: LINE:%d,\11FILE%s\0"
 2615      5F666978 
 2615      65645F69 
 2615      64282920 
 2615      6572726F 
 2616 14c7 90909090 		.align 32
 2616      90909090 
 2616      90909090 
 2616      90909090 
 2616      90909090 
 2617              	LC21:
 2618 14e0 6661696C 		.ascii "failed error: LINE:%d,\11FILE%s\12\0"
 2618      65642065 
 2618      72726F72 
 2618      3A204C49 
 2618      4E453A25 
 2619 14ff 90       		.align 32
 2620              	LC22:
 2621 1500 67656E65 		.ascii "generate_enum_hash() error: LINE:%d,\11FILE%s\0"
 2621      72617465 
 2621      5F656E75 
 2621      6D5F6861 
 2621      73682829 
 2622              	LC23:
 2623 152c 726200   		.ascii "rb\0"
 2624 152f 90909090 		.align 32
 2624      90909090 
 2624      90909090 
 2624      90909090 
 2624      90
 2625              	LC24:
 2626 1540 2E2E5C63 		.ascii "..\\custresource\\ref_list_empty.txt\0"
 2626      75737472 
 2626      65736F75 
 2626      7263655C 
 2626      7265665F 
 2627 1563 90909090 		.align 32
 2627      90909090 
 2627      90909090 
 2627      90909090 
 2627      90909090 
 2628              	LC25:
 2629 1580 496E7661 		.ascii "Invalid reference filename: %s\0"
 2629      6C696420 
 2629      72656665 
 2629      72656E63 
 2629      65206669 
 2630              	LC26:
 2631 159f 7700     		.ascii "w\0"
 2632              	LC27:
 2633 15a1 2E5C5C64 		.ascii ".\\\\debug\\\\NoTranslation.txt\0"
 2633      65627567 
 2633      5C5C4E6F 
 2633      5472616E 
 2633      736C6174 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 69


 2634 15bd 8D7600   		.align 32
 2635              	LC28:
 2636 15c0 2E5C5C64 		.ascii ".\\\\debug\\\\NoTranslation.txt Open Fail!!\0"
 2636      65627567 
 2636      5C5C4E6F 
 2636      5472616E 
 2636      736C6174 
 2637              	LC29:
 2638 15e8 6100     		.ascii "a\0"
 2639              	LC30:
 2640 15ea 4E6F5472 		.ascii "NoTranslation.txt Open Fail!!\0"
 2640      616E736C 
 2640      6174696F 
 2640      6E2E7478 
 2640      74204F70 
 2641 1608 90909090 		.align 32
 2641      90909090 
 2641      90909090 
 2641      90909090 
 2641      90909090 
 2642              	LC31:
 2643 1620 6D656D6F 		.ascii "memory is not available step.1 size=[%d]\0"
 2643      72792069 
 2643      73206E6F 
 2643      74206176 
 2643      61696C61 
 2644              	LC32:
 2645 1649 257300   		.ascii "%s\0"
 2646              	LC33:
 2647 164c 09257300 		.ascii "\11%s\0"
 2648              	LC34:
 2649 1650 0A00     		.ascii "\12\0"
 2650 1652 8DB42600 		.align 32
 2650      0000008D 
 2650      BC270000 
 2650      0000
 2651              	LC35:
 2652 1660 6D656D6F 		.ascii "memory is not available step.2 size=[%d]\0"
 2652      72792069 
 2652      73206E6F 
 2652      74206176 
 2652      61696C61 
 2653 1689 90909090 		.align 32
 2653      90909090 
 2653      90909090 
 2653      90909090 
 2653      90909090 
 2654              	LC36:
 2655 16a0 5B4D454D 		.ascii "[MEM]CreateRefList : create data structure to store ref list lines\0"
 2655      5D437265 
 2655      61746552 
 2655      65664C69 
 2655      7374203A 
 2656 16e3 90909090 		.align 32
 2656      90909090 
 2656      90909090 
 2656      90909090 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 70


 2656      90909090 
 2657              	LC37:
 2658 1700 6D656D6F 		.ascii "memory is not available step.7 length=[%d]\0"
 2658      72792069 
 2658      73206E6F 
 2658      74206176 
 2658      61696C61 
 2659 172b 90909090 		.align 32
 2659      90909090 
 2659      90909090 
 2659      90909090 
 2659      90909090 
 2660              	LC38:
 2661 1740 5B4D454D 		.ascii "[MEM]load_ref_list_to_mem: load ref list items to ref_all vector\0"
 2661      5D6C6F61 
 2661      645F7265 
 2661      665F6C69 
 2661      73745F74 
 2662 1781 90909090 		.align 32
 2662      90909090 
 2662      90909090 
 2662      90909090 
 2662      90909090 
 2663              	LC39:
 2664 17a0 6D656D6F 		.ascii "memory is not available step.8 size=[%d]\0"
 2664      72792069 
 2664      73206E6F 
 2664      74206176 
 2664      61696C61 
 2665              	LC40:
 2666 17c9 43686563 		.ascii "Check String ID %d\0"
 2666      6B205374 
 2666      72696E67 
 2666      20494420 
 2666      256400
 2667 17dc 8D742600 		.align 32
 2668              	LC41:
 2669 17e0 50726F63 		.ascii "Process ref_all_list!! search_index = %d\0"
 2669      65737320 
 2669      7265665F 
 2669      616C6C5F 
 2669      6C697374 
 2670 1809 90       		.align 2
 2671              	LC42:
 2672 180a 09005600 		.ascii "\11\0V\0\0\0"
 2672      0000
 2673 1810 90909090 		.align 32
 2673      90909090 
 2673      90909090 
 2673      90909090 
 2674              	LC43:
 2675 1820 6D697373 		.ascii "missLanguage found!! search_index = %d\0"
 2675      4C616E67 
 2675      75616765 
 2675      20666F75 
 2675      6E642121 
 2676              	LC44:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 71


 2677 1847 6974656D 		.ascii "item in ref list is NULL: %d \0"
 2677      20696E20 
 2677      72656620 
 2677      6C697374 
 2677      20697320 
 2678              	LC45:
 2679 1865 25730909 		.ascii "%s\11\11\11Empty\12\0"
 2679      09456D70 
 2679      74790A00 
 2680 1871 EB0D9090 		.align 32
 2680      90909090 
 2680      90909090 
 2680      909090
 2681              	LC46:
 2682 1880 506C6561 		.ascii "Please see NoTranslation.txt to see the result...\0"
 2682      73652073 
 2682      6565204E 
 2682      6F547261 
 2682      6E736C61 
 2684              	.globl _MergeStrRes
 2686              	_MergeStrRes:
1659:str_merge.c   **** 
1660:str_merge.c   **** 
1661:str_merge.c   **** /*****************************************************************************
1662:str_merge.c   ****  * FUNCTION
1663:str_merge.c   ****  *  MergeStrRes
1664:str_merge.c   ****  * DESCRIPTION
1665:str_merge.c   ****  *  Find string ID in ref_list.txt, generate string content table
1666:str_merge.c   ****  * PARAMETERS
1667:str_merge.c   ****  *  void
1668:str_merge.c   ****  * RETURNS
1669:str_merge.c   ****  *  Return 0 on success, otherwise, return -1
1670:str_merge.c   ****  *****************************************************************************/
1671:str_merge.c   **** int MergeStrRes(void)
1672:str_merge.c   **** {
 2688              	LM310:
 2689 18b2 55       		pushl	%ebp
 2690 18b3 89E5     		movl	%esp, %ebp
 2691 18b5 B8A81A00 		movl	$6824, %eax
 2691      00
 2692 18ba E8000000 		call	__alloca
 2692      00
 2693              	LBB23:
 2694 18bf 89A58CE5 		movl	%esp, -6772(%ebp)
 2694      FFFF
1673:str_merge.c   ****     /*----------------------------------------------------------------*/
1674:str_merge.c   ****     /* Local Variables                                                */
1675:str_merge.c   ****     /*----------------------------------------------------------------*/
1676:str_merge.c   ****     FILE *ref = NULL;
 2696              	LM311:
 2697 18c5 C745F400 		movl	$0, -12(%ebp)
 2697      000000
1677:str_merge.c   ****     FILE *fail = NULL;
 2699              	LM312:
 2700 18cc C745F000 		movl	$0, -16(%ebp)
 2700      000000
1678:str_merge.c   ****     wchar_t *tmp_line;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 72


1679:str_merge.c   ****     wchar_t *end_line;
1680:str_merge.c   **** 
1681:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
1682:str_merge.c   ****     /* Record the scanning string line index of ref list */
1683:str_merge.c   ****     int tmp_line_indx = 0;
 2702              	LM313:
 2703 18d3 C745E400 		movl	$0, -28(%ebp)
 2703      000000
1684:str_merge.c   ****     /* temp variable to read/wirte data from/to a ref list item*/
1685:str_merge.c   ****     RefListItem *tmp_list_item = NULL;
 2705              	LM314:
 2706 18da C745E000 		movl	$0, -32(%ebp)
 2706      000000
1686:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
1687:str_merge.c   **** 
1688:str_merge.c   ****     wchar_t buf_src[TMP_BUF_LENGTH];
1689:str_merge.c   ****     wchar_t buf_ref[TMP_BUF_LENGTH];
1690:str_merge.c   ****     wchar_t tmp_buf[TMP_BUF_LENGTH];
1691:str_merge.c   ****     int token_id = 0, gIndex = 0;
 2708              	LM315:
 2709 18e1 C785D4E7 		movl	$0, -6188(%ebp)
 2709      FFFF0000 
 2709      0000
 2710 18eb C785D0E7 		movl	$0, -6192(%ebp)
 2710      FFFF0000 
 2710      0000
1692:str_merge.c   ****     char buf_asc[512];
1693:str_merge.c   ****     int found = 0, i = 0, StrNotTranslated = 1, missLanguage = 0;
 2712              	LM316:
 2713 18f5 C785C4E5 		movl	$0, -6716(%ebp)
 2713      FFFF0000 
 2713      0000
 2714 18ff C785C0E5 		movl	$0, -6720(%ebp)
 2714      FFFF0000 
 2714      0000
 2715 1909 C785BCE5 		movl	$1, -6724(%ebp)
 2715      FFFF0100 
 2715      0000
 2716 1913 C785B8E5 		movl	$0, -6728(%ebp)
 2716      FFFF0000 
 2716      0000
1694:str_merge.c   **** 
1695:str_merge.c   ****     int ret = 0;
 2718              	LM317:
 2719 191d C785B4E5 		movl	$0, -6732(%ebp)
 2719      FFFF0000 
 2719      0000
1696:str_merge.c   ****     U16 nStrId = 0;
 2721              	LM318:
 2722 1927 66C785B2 		movw	$0, -6734(%ebp)
 2722      E5FFFF00 
 2722      00
1697:str_merge.c   ****     U16 total_id = CurrMaxStringId;
 2724              	LM319:
 2725 1930 0FB70500 		movzwl	_CurrMaxStringId, %eax
 2725      000000
 2726 1937 668985B0 		movw	%ax, -6736(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 73


 2726      E5FFFF
1698:str_merge.c   **** 
1699:str_merge.c   ****     wchar_t marker[2] = {NO_TRANSLATION_MARKER, 0};
 2728              	LM320:
 2729 193e 66C785AC 		movw	$19, -6740(%ebp)
 2729      E5FFFF13 
 2729      00
 2730 1947 66C785AE 		movw	$0, -6738(%ebp)
 2730      E5FFFF00 
 2730      00
1700:str_merge.c   ****     // record the times of memory allocation retry
1701:str_merge.c   ****     int mem_retry_count = 0;
 2732              	LM321:
 2733 1950 C785A8E5 		movl	$0, -6744(%ebp)
 2733      FFFF0000 
 2733      0000
1702:str_merge.c   **** 
1703:str_merge.c   ****     /* operator support */
1704:str_merge.c   **** #ifndef __OPTR_NONE__
1705:str_merge.c   ****     FILE *optr_ref = NULL;
1706:str_merge.c   ****     char *optr_path;
1707:str_merge.c   ****     int optr_lang;
1708:str_merge.c   ****     U32 optr_line_buf_length;
1709:str_merge.c   ****     U16 *optr_lang_mask = NULL;
1710:str_merge.c   ****     wchar_t (*ref_ssc_list)[SSC_LENGTH] = NULL;
1711:str_merge.c   **** 
1712:str_merge.c   **** 
1713:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
1714:str_merge.c   ****     wchar_t *optr_ref_all = NULL;
1715:str_merge.c   **** #else /* MEM_REF_LIST_OPT */
1716:str_merge.c   ****     /* Load optr ref list lines to a vector with variable 
1717:str_merge.c   ****        size elememts instead of a lare array with fixed
1718:str_merge.c   ****        size elementsn */
1719:str_merge.c   ****     RefList *optr_ref_all_list = NULL;
1720:str_merge.c   ****     /* Record the scanning string line index of operator ref list */
1721:str_merge.c   ****     int optr_tmp_line_indx = 0;
1722:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
1723:str_merge.c   **** 
1724:str_merge.c   ****     wchar_t *optr_ref_ssc = NULL;
1725:str_merge.c   ****     wchar_t *optr_tmp_line;
1726:str_merge.c   ****     wchar_t *optr_end_line;
1727:str_merge.c   ****     int optr_found;
1728:str_merge.c   ****     int optr_ref_cnt = 0;
1729:str_merge.c   ****     int optr_new_cnt = 0;
1730:str_merge.c   ****     int optr_search_cnt = 0;
1731:str_merge.c   ****     int optr_search_index = 0;
1732:str_merge.c   **** #endif /* __OPTR_NONE__ */
1733:str_merge.c   **** 
1734:str_merge.c   **** #ifdef __TIME_CONSUME
1735:str_merge.c   ****     time_t start_time, end_time;
1736:str_merge.c   **** #endif
1737:str_merge.c   ****     int ref_cnt = 0;
 2735              	LM322:
 2736 195a C785A4E5 		movl	$0, -6748(%ebp)
 2736      FFFF0000 
 2736      0000
1738:str_merge.c   ****     int search_cnt = 0;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 74


 2738              	LM323:
 2739 1964 C785A0E5 		movl	$0, -6752(%ebp)
 2739      FFFF0000 
 2739      0000
1739:str_merge.c   ****     int search_index = 0;
 2741              	LM324:
 2742 196e C7859CE5 		movl	$0, -6756(%ebp)
 2742      FFFF0000 
 2742      0000
1740:str_merge.c   ****     int j;
1741:str_merge.c   ****     /*column index that deployed language in ref list*/
1742:str_merge.c   ****     int deployed_lang_index[mtk_gMaxDeployedLangs + 1];
 2744              	LM325:
 2745 1978 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 2745      000000
 2746 197f C1E002   		sall	$2, %eax
 2747 1982 83C004   		addl	$4, %eax
 2748 1985 83C00F   		addl	$15, %eax
 2749 1988 C1E804   		shrl	$4, %eax
 2750 198b C1E004   		sall	$4, %eax
 2751 198e 898584E5 		movl	%eax, -6780(%ebp)
 2751      FFFF
 2752 1994 8B8584E5 		movl	-6780(%ebp), %eax
 2752      FFFF
 2753 199a E8000000 		call	__alloca
 2753      00
 2754 199f 8D442414 		leal	20(%esp), %eax
 2755 19a3 898588E5 		movl	%eax, -6776(%ebp)
 2755      FFFF
1743:str_merge.c   **** #ifndef __OPTR_NONE__
1744:str_merge.c   ****     int optr_deployed_lang_index[mtk_gMaxDeployedLangs + 1];
1745:str_merge.c   **** #endif /*__OPTR_NONE__*/
1746:str_merge.c   **** 
1747:str_merge.c   ****     int count = 0;
 2757              	LM326:
 2758 19a9 C78594E5 		movl	$0, -6764(%ebp)
 2758      FFFF0000 
 2758      0000
1748:str_merge.c   **** 
1749:str_merge.c   ****     /*----------------------------------------------------------------*/
1750:str_merge.c   ****     /* Code Body                                                      */
1751:str_merge.c   ****     /*----------------------------------------------------------------*/
1752:str_merge.c   ****     STRMERG_LOG_V("MergeStrRes(): Start to merge string translation data");
 2760              	LM327:
 2761 19b3 C7442408 		movl	$LC18, 8(%esp)
 2761      40140000 
 2762 19bb C7442404 		movl	$LC3, 4(%esp)
 2762      4B040000 
 2763 19c3 C7042401 		movl	$1, (%esp)
 2763      000000
 2764 19ca E8000000 		call	_reslog_adaptor_log
 2764      00
1753:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
1754:str_merge.c   ****     CurrMaxTransStrId = 0;
 2766              	LM328:
 2767 19cf 66C70500 		movw	$0, _CurrMaxTransStrId
 2767      00000000 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 75


 2767      00
1755:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1756:str_merge.c   ****     /*it will be used to caculate string size*/
1757:str_merge.c   ****     memset(StrSize, 0, sizeof(U16) * MAX_STRING_MAP_SIZE);
 2769              	LM329:
 2770 19d8 C7442408 		movl	$131070, 8(%esp)
 2770      FEFF0100 
 2771 19e0 C7442404 		movl	$0, 4(%esp)
 2771      00000000 
 2772 19e8 C70424D8 		movl	$_StrSize, (%esp)
 2772      000200
 2773 19ef E8000000 		call	_memset
 2773      00
1758:str_merge.c   ****     memset(deployed_lang_index, -1, sizeof(int) * (mtk_gMaxDeployedLangs + 1));
 2775              	LM330:
 2776 19f4 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 2776      000000
 2777 19fb C1E002   		sall	$2, %eax
 2778 19fe 83C004   		addl	$4, %eax
 2779 1a01 89442408 		movl	%eax, 8(%esp)
 2780 1a05 C7442404 		movl	$-1, 4(%esp)
 2780      FFFFFFFF 
 2781 1a0d 8B8588E5 		movl	-6776(%ebp), %eax
 2781      FFFF
 2782 1a13 890424   		movl	%eax, (%esp)
 2783 1a16 E8000000 		call	_memset
 2783      00
1759:str_merge.c   **** #ifndef __OPTR_NONE__
1760:str_merge.c   ****     memset(optr_deployed_lang_index, -1, sizeof(int) * (mtk_gMaxDeployedLangs + 1));
1761:str_merge.c   **** #endif /*__OPTR_NONE__*/
1762:str_merge.c   **** 
1763:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
1764:str_merge.c   ****     ret = init_fixed_id(&fixed_id, CurrMaxStringId);
 2785              	LM331:
 2786 1a1b 0FB70500 		movzwl	_CurrMaxStringId, %eax
 2786      000000
 2787 1a22 89442404 		movl	%eax, 4(%esp)
 2788 1a26 C7042400 		movl	$_fixed_id, (%esp)
 2788      000000
 2789 1a2d E81A4E00 		call	_init_fixed_id
 2789      00
 2790 1a32 8985B4E5 		movl	%eax, -6732(%ebp)
 2790      FFFF
1765:str_merge.c   ****     if(ret != 0){
 2792              	LM332:
 2793 1a38 83BDB4E5 		cmpl	$0, -6732(%ebp)
 2793      FFFF00
 2794 1a3f 7469     		je	L190
1766:str_merge.c   ****         STRMERG_LOG_E("init_fixed_id() error: LINE:%d,\tFILE%s", __LINE__, __FILE__);
 2796              	LM333:
 2797 1a41 C7442410 		movl	$LC19, 16(%esp)
 2797      76140000 
 2798 1a49 C744240C 		movl	$1766, 12(%esp)
 2798      E6060000 
 2799 1a51 C7442408 		movl	$LC20, 8(%esp)
 2799      A0140000 
 2800 1a59 C7442404 		movl	$LC3, 4(%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 76


 2800      4B040000 
 2801 1a61 C7042403 		movl	$3, (%esp)
 2801      000000
 2802 1a68 E8000000 		call	_reslog_adaptor_log
 2802      00
1767:str_merge.c   ****         fprintf(stderr, "failed error: LINE:%d,\tFILE%s\n", __LINE__, __FILE__);
 2804              	LM334:
 2805 1a6d C744240C 		movl	$LC19, 12(%esp)
 2805      76140000 
 2806 1a75 C7442408 		movl	$1767, 8(%esp)
 2806      E7060000 
 2807 1a7d C7442404 		movl	$LC21, 4(%esp)
 2807      E0140000 
 2808 1a85 A1000000 		movl	__imp___iob, %eax
 2808      00
 2809 1a8a 83C040   		addl	$64, %eax
 2810 1a8d 890424   		movl	%eax, (%esp)
 2811 1a90 E8000000 		call	_fprintf
 2811      00
1768:str_merge.c   ****         return -1;
 2813              	LM335:
 2814              	LBB24:
 2815 1a95 8BA58CE5 		movl	-6772(%ebp), %esp
 2815      FFFF
 2816              	LBE24:
 2817 1a9b C78590E5 		movl	$-1, -6768(%ebp)
 2817      FFFFFFFF 
 2817      FFFF
 2818 1aa5 E91B0D00 		jmp	L189
 2818      00
 2819              	L190:
1769:str_merge.c   ****     }
1770:str_merge.c   **** 
1771:str_merge.c   ****     ret = generate_enum_hash(fixed_id.enum_id_tb, StrIsPopulate, StrEnum);
 2821              	LM336:
 2822 1aaa C7442408 		movl	$_StrEnum, 8(%esp)
 2822      00000000 
 2823 1ab2 C7442404 		movl	$_StrIsPopulate, 4(%esp)
 2823      00000000 
 2824 1aba A1080000 		movl	_fixed_id+8, %eax
 2824      00
 2825 1abf 890424   		movl	%eax, (%esp)
 2826 1ac2 E8194F00 		call	_generate_enum_hash
 2826      00
 2827 1ac7 8985B4E5 		movl	%eax, -6732(%ebp)
 2827      FFFF
1772:str_merge.c   ****     if(ret < 0){
 2829              	LM337:
 2830 1acd 83BDB4E5 		cmpl	$0, -6732(%ebp)
 2830      FFFF00
 2831 1ad4 7969     		jns	L191
1773:str_merge.c   ****         STRMERG_LOG_E("generate_enum_hash() error: LINE:%d,\tFILE%s", __LINE__, __FILE__);
 2833              	LM338:
 2834 1ad6 C7442410 		movl	$LC19, 16(%esp)
 2834      76140000 
 2835 1ade C744240C 		movl	$1773, 12(%esp)
 2835      ED060000 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 77


 2836 1ae6 C7442408 		movl	$LC22, 8(%esp)
 2836      00150000 
 2837 1aee C7442404 		movl	$LC3, 4(%esp)
 2837      4B040000 
 2838 1af6 C7042403 		movl	$3, (%esp)
 2838      000000
 2839 1afd E8000000 		call	_reslog_adaptor_log
 2839      00
1774:str_merge.c   ****         fprintf(stderr, "failed error: LINE:%d,\tFILE%s\n", __LINE__, __FILE__);
 2841              	LM339:
 2842 1b02 C744240C 		movl	$LC19, 12(%esp)
 2842      76140000 
 2843 1b0a C7442408 		movl	$1774, 8(%esp)
 2843      EE060000 
 2844 1b12 C7442404 		movl	$LC21, 4(%esp)
 2844      E0140000 
 2845 1b1a A1000000 		movl	__imp___iob, %eax
 2845      00
 2846 1b1f 83C040   		addl	$64, %eax
 2847 1b22 890424   		movl	%eax, (%esp)
 2848 1b25 E8000000 		call	_fprintf
 2848      00
1775:str_merge.c   ****         return -1;
 2850              	LM340:
 2851              	LBB25:
 2852 1b2a 8BA58CE5 		movl	-6772(%ebp), %esp
 2852      FFFF
 2853              	LBE25:
 2854 1b30 C78590E5 		movl	$-1, -6768(%ebp)
 2854      FFFFFFFF 
 2854      FFFF
 2855 1b3a E9860C00 		jmp	L189
 2855      00
 2856              	L191:
1776:str_merge.c   ****     }
1777:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1778:str_merge.c   **** 
1779:str_merge.c   **** 
1780:str_merge.c   ****     nUsedLang = get_filter_used_language_count();
 2858              	LM341:
 2859 1b3f E8BEF8FF 		call	_get_filter_used_language_count
 2859      FF
 2860 1b44 66A39800 		movw	%ax, _nUsedLang
 2860      0000
1781:str_merge.c   **** 
1782:str_merge.c   ****     ref = fopen(ref_file, "rb");
 2862              	LM342:
 2863 1b4a C7442404 		movl	$LC23, 4(%esp)
 2863      2C150000 
 2864 1b52 C7042440 		movl	$LC24, (%esp)
 2864      150000
 2865 1b59 E8000000 		call	_fopen
 2865      00
 2866 1b5e 8945F4   		movl	%eax, -12(%ebp)
1783:str_merge.c   ****     if (ref == NULL)
 2868              	LM343:
 2869 1b61 837DF400 		cmpl	$0, -12(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 78


 2870 1b65 7539     		jne	L192
1784:str_merge.c   ****     {
1785:str_merge.c   ****         STRMERG_LOG_E("Invalid reference filename: %s",ref_file);
 2872              	LM344:
 2873 1b67 C744240C 		movl	$LC24, 12(%esp)
 2873      40150000 
 2874 1b6f C7442408 		movl	$LC25, 8(%esp)
 2874      80150000 
 2875 1b77 C7442404 		movl	$LC3, 4(%esp)
 2875      4B040000 
 2876 1b7f C7042403 		movl	$3, (%esp)
 2876      000000
 2877 1b86 E8000000 		call	_reslog_adaptor_log
 2877      00
1786:str_merge.c   ****         return -1;
 2879              	LM345:
 2880              	LBB26:
 2881 1b8b 8BA58CE5 		movl	-6772(%ebp), %esp
 2881      FFFF
 2882              	LBE26:
 2883 1b91 C78590E5 		movl	$-1, -6768(%ebp)
 2883      FFFFFFFF 
 2883      FFFF
 2884 1b9b E9250C00 		jmp	L189
 2884      00
 2885              	L192:
1787:str_merge.c   ****     }
1788:str_merge.c   ****     /* operator support */
1789:str_merge.c   **** #ifndef __OPTR_NONE__
1790:str_merge.c   ****     optr_path = (char *)tmp_buf;
1791:str_merge.c   ****     strcpy(tmp_buf, CUST_OPERATOR_STR_PATH);
1792:str_merge.c   ****     strcat(tmp_buf, "\\");
1793:str_merge.c   ****     strcat(tmp_buf, optr_ref_file);
1794:str_merge.c   **** 
1795:str_merge.c   ****     optr_ref = fopen(optr_path, "rb");
1796:str_merge.c   ****     if (optr_ref == NULL)
1797:str_merge.c   ****     {
1798:str_merge.c   ****         STRMERG_LOG_E("Invalid operator reference filename");
1799:str_merge.c   ****         goto ERR_RET;
1800:str_merge.c   ****     }
1801:str_merge.c   **** #endif /* __OPTR_NONE__ */
1802:str_merge.c   ****     fail = fopen(".\\\\debug\\\\NoTranslation.txt", "w");
 2887              	LM346:
 2888 1ba0 C7442404 		movl	$LC26, 4(%esp)
 2888      9F150000 
 2889 1ba8 C70424A1 		movl	$LC27, (%esp)
 2889      150000
 2890 1baf E8000000 		call	_fopen
 2890      00
 2891 1bb4 8945F0   		movl	%eax, -16(%ebp)
1803:str_merge.c   ****     if (fail == NULL)
 2893              	LM347:
 2894 1bb7 837DF000 		cmpl	$0, -16(%ebp)
 2895 1bbb 7521     		jne	L193
1804:str_merge.c   ****     {
1805:str_merge.c   ****         STRMERG_LOG_E(".\\\\debug\\\\NoTranslation.txt Open Fail!!");
 2897              	LM348:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 79


 2898 1bbd C7442408 		movl	$LC28, 8(%esp)
 2898      C0150000 
 2899 1bc5 C7442404 		movl	$LC3, 4(%esp)
 2899      4B040000 
 2900 1bcd C7042403 		movl	$3, (%esp)
 2900      000000
 2901 1bd4 E8000000 		call	_reslog_adaptor_log
 2901      00
1806:str_merge.c   ****         goto ERR_RET;
 2903              	LM349:
 2904 1bd9 E93C0B00 		jmp	L194
 2904      00
 2905              	L193:
1807:str_merge.c   ****     }
1808:str_merge.c   ****     fclose(fail);
 2907              	LM350:
 2908 1bde 8B45F0   		movl	-16(%ebp), %eax
 2909 1be1 890424   		movl	%eax, (%esp)
 2910 1be4 E8000000 		call	_fclose
 2910      00
1809:str_merge.c   ****     fail = fopen(".\\\\debug\\\\NoTranslation.txt", "a");
 2912              	LM351:
 2913 1be9 C7442404 		movl	$LC29, 4(%esp)
 2913      E8150000 
 2914 1bf1 C70424A1 		movl	$LC27, (%esp)
 2914      150000
 2915 1bf8 E8000000 		call	_fopen
 2915      00
 2916 1bfd 8945F0   		movl	%eax, -16(%ebp)
1810:str_merge.c   ****     if (fail == NULL)
 2918              	LM352:
 2919 1c00 837DF000 		cmpl	$0, -16(%ebp)
 2920 1c04 7521     		jne	L195
1811:str_merge.c   ****     {
1812:str_merge.c   ****         STRMERG_LOG_E("NoTranslation.txt Open Fail!!");
 2922              	LM353:
 2923 1c06 C7442408 		movl	$LC30, 8(%esp)
 2923      EA150000 
 2924 1c0e C7442404 		movl	$LC3, 4(%esp)
 2924      4B040000 
 2925 1c16 C7042403 		movl	$3, (%esp)
 2925      000000
 2926 1c1d E8000000 		call	_reslog_adaptor_log
 2926      00
1813:str_merge.c   ****         goto ERR_RET;        
 2928              	LM354:
 2929 1c22 E9F30A00 		jmp	L194
 2929      00
 2930              	L195:
1814:str_merge.c   ****     }
1815:str_merge.c   **** 
1816:str_merge.c   **** #ifdef __TIME_CONSUME
1817:str_merge.c   ****     start_time = time(NULL);
1818:str_merge.c   **** #endif
1819:str_merge.c   **** 
1820:str_merge.c   ****     fgetws(tmp_buf, TMP_BUF_LENGTH, ref); /* Number of Language */
 2932              	LM355:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 80


 2933 1c27 8B45F4   		movl	-12(%ebp), %eax
 2934 1c2a 89442408 		movl	%eax, 8(%esp)
 2935 1c2e C7442404 		movl	$1024, 4(%esp)
 2935      00040000 
 2936 1c36 8D85D8E7 		leal	-6184(%ebp), %eax
 2936      FFFF
 2937 1c3c 890424   		movl	%eax, (%esp)
 2938 1c3f E8000000 		call	_fgetws
 2938      00
1821:str_merge.c   ****     GetItem(tmp_buf, 1, buf_ref);
 2940              	LM356:
 2941 1c44 8D85D8EF 		leal	-4136(%ebp), %eax
 2941      FFFF
 2942 1c4a 89442408 		movl	%eax, 8(%esp)
 2943 1c4e C7442404 		movl	$1, 4(%esp)
 2943      01000000 
 2944 1c56 8D85D8E7 		leal	-6184(%ebp), %eax
 2944      FFFF
 2945 1c5c 890424   		movl	%eax, (%esp)
 2946 1c5f E8F1E7FF 		call	_GetItem
 2946      FF
1822:str_merge.c   ****     nLang = _wtoi(buf_ref);
 2948              	LM357:
 2949 1c64 8D85D8EF 		leal	-4136(%ebp), %eax
 2949      FFFF
 2950 1c6a 890424   		movl	%eax, (%esp)
 2951 1c6d E8000000 		call	__wtoi
 2951      00
 2952 1c72 A3780000 		movl	%eax, _nLang
 2952      00
1823:str_merge.c   ****     rewind(ref);
 2954              	LM358:
 2955 1c77 8B45F4   		movl	-12(%ebp), %eax
 2956 1c7a 890424   		movl	%eax, (%esp)
 2957 1c7d E8000000 		call	_rewind
 2957      00
1824:str_merge.c   ****     g_line_buf_length = GetLineBufLength(ref, nLang);
 2959              	LM359:
 2960 1c82 A1780000 		movl	_nLang, %eax
 2960      00
 2961 1c87 89442404 		movl	%eax, 4(%esp)
 2962 1c8b 8B45F4   		movl	-12(%ebp), %eax
 2963 1c8e 890424   		movl	%eax, (%esp)
 2964 1c91 E852EAFF 		call	_GetLineBufLength
 2964      FF
 2965 1c96 A3280000 		movl	%eax, _g_line_buf_length
 2965      00
1825:str_merge.c   ****     /* need additional buffer for NO_TRANSLATION_MARKER to avoid buffer overruns */
1826:str_merge.c   ****     g_line_buf_length += wcslen(marker) * nLang;
 2967              	LM360:
 2968 1c9b 8D85ACE5 		leal	-6740(%ebp), %eax
 2968      FFFF
 2969 1ca1 890424   		movl	%eax, (%esp)
 2970 1ca4 E8000000 		call	_wcslen
 2970      00
 2971 1ca9 0FAF0578 		imull	_nLang, %eax
 2971      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 81


 2972 1cb0 01052800 		addl	%eax, _g_line_buf_length
 2972      0000
1827:str_merge.c   ****     /* actually line length */
1828:str_merge.c   ****     g_line_buf_act_length = g_line_buf_length;
 2974              	LM361:
 2975 1cb6 A1280000 		movl	_g_line_buf_length, %eax
 2975      00
 2976 1cbb A3380000 		movl	%eax, _g_line_buf_act_length
 2976      00
1829:str_merge.c   **** 
1830:str_merge.c   ****     rewind(ref);
 2978              	LM362:
 2979 1cc0 8B45F4   		movl	-12(%ebp), %eax
 2980 1cc3 890424   		movl	%eax, (%esp)
 2981 1cc6 E8000000 		call	_rewind
 2981      00
1831:str_merge.c   ****     fgetws(tmp_buf, TMP_BUF_LENGTH, ref); /* Skip Number of Language */
 2983              	LM363:
 2984 1ccb 8B45F4   		movl	-12(%ebp), %eax
 2985 1cce 89442408 		movl	%eax, 8(%esp)
 2986 1cd2 C7442404 		movl	$1024, 4(%esp)
 2986      00040000 
 2987 1cda 8D85D8E7 		leal	-6184(%ebp), %eax
 2987      FFFF
 2988 1ce0 890424   		movl	%eax, (%esp)
 2989 1ce3 E8000000 		call	_fgetws
 2989      00
1832:str_merge.c   **** 
1833:str_merge.c   **** 
1834:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
1835:str_merge.c   ****     /* Allocate tmp_line buffer. tmp_line will be write back to RefList
1836:str_merge.c   ****             strcuture indexed by corrosponding tmp_line_index. */
1837:str_merge.c   ****     tmp_line = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t));
 2991              	LM364:
 2992 1ce8 A1380000 		movl	_g_line_buf_act_length, %eax
 2992      00
 2993 1ced 01C0     		addl	%eax, %eax
 2994 1cef 890424   		movl	%eax, (%esp)
 2995 1cf2 E8000000 		call	_malloc
 2995      00
 2996 1cf7 8945EC   		movl	%eax, -20(%ebp)
1838:str_merge.c   ****     memset(tmp_line, 0, g_line_buf_act_length * sizeof(wchar_t));
 2998              	LM365:
 2999 1cfa A1380000 		movl	_g_line_buf_act_length, %eax
 2999      00
 3000 1cff 01C0     		addl	%eax, %eax
 3001 1d01 89442408 		movl	%eax, 8(%esp)
 3002 1d05 C7442404 		movl	$0, 4(%esp)
 3002      00000000 
 3003 1d0d 8B45EC   		movl	-20(%ebp), %eax
 3004 1d10 890424   		movl	%eax, (%esp)
 3005 1d13 E8000000 		call	_memset
 3005      00
1839:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
1840:str_merge.c   **** 
1841:str_merge.c   ****     /* operator support */
1842:str_merge.c   **** #ifndef __OPTR_NONE__
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 82


1843:str_merge.c   ****     fgetws(tmp_buf, TMP_BUF_LENGTH, optr_ref);
1844:str_merge.c   ****     GetItem(tmp_buf, 1, buf_ref);
1845:str_merge.c   ****     optr_lang = _wtoi(buf_ref);
1846:str_merge.c   ****     rewind(optr_ref);
1847:str_merge.c   ****     optr_line_buf_length = GetLineBufLength(optr_ref, optr_lang); 
1848:str_merge.c   ****     /* need additional buffer for NO_TRANSLATION_MARKER to avoid buffer overruns */
1849:str_merge.c   ****     optr_line_buf_length += wcslen(marker) * optr_lang;    
1850:str_merge.c   ****     rewind(optr_ref);
1851:str_merge.c   ****     fgetws(tmp_buf, TMP_BUF_LENGTH, optr_ref); /* Skip Number of Language */
1852:str_merge.c   **** 	
1853:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
1854:str_merge.c   ****     /* Allocate tmp_line buffer. optr_tmp_line will be write back to RefList 
1855:str_merge.c   ****             strcuture indexed by corrosponding optr_tmp_line_index. */
1856:str_merge.c   ****     optr_tmp_line = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t));
1857:str_merge.c   ****     memset(optr_tmp_line, 0, g_line_buf_act_length * sizeof(wchar_t));
1858:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
1859:str_merge.c   **** 
1860:str_merge.c   **** #endif /* __OPTR_NONE__ */
1861:str_merge.c   **** 
1862:str_merge.c   ****     /* 
1863:str_merge.c   ****      * calculate line buffer size 
1864:str_merge.c   ****      * here +2 for Description, and (Max String Length, MODULE, ENUM)
1865:str_merge.c   ****      */
1866:str_merge.c   ****     /* Makr this line for reduce string memory, use GetLineBufLength */
1867:str_merge.c   ****     /*  g_line_buf_length = (nLang + 2) * MAX_LENGTH; */
1868:str_merge.c   ****     ref_tmp = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 3007              	LM366:
 3008 1d18 A1280000 		movl	_g_line_buf_length, %eax
 3008      00
 3009 1d1d 01C0     		addl	%eax, %eax
 3010 1d1f 890424   		movl	%eax, (%esp)
 3011 1d22 E8000000 		call	_malloc
 3011      00
 3012 1d27 A3680000 		movl	%eax, _ref_tmp
 3012      00
1869:str_merge.c   ****     if (ref_tmp == NULL)
 3014              	LM367:
 3015 1d2c 833D6800 		cmpl	$0, _ref_tmp
 3015      000000
 3016 1d33 752C     		jne	L196
1870:str_merge.c   ****     {
1871:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.1 size=[%d]", g_line_buf_length * sizeof(wchar_
 3018              	LM368:
 3019 1d35 A1280000 		movl	_g_line_buf_length, %eax
 3019      00
 3020 1d3a 01C0     		addl	%eax, %eax
 3021 1d3c 8944240C 		movl	%eax, 12(%esp)
 3022 1d40 C7442408 		movl	$LC31, 8(%esp)
 3022      20160000 
 3023 1d48 C7442404 		movl	$LC3, 4(%esp)
 3023      4B040000 
 3024 1d50 C7042403 		movl	$3, (%esp)
 3024      000000
 3025 1d57 E8000000 		call	_reslog_adaptor_log
 3025      00
1872:str_merge.c   ****         goto ERR_RET;
 3027              	LM369:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 83


 3028 1d5c E9B90900 		jmp	L194
 3028      00
 3029              	L196:
1873:str_merge.c   ****     }
1874:str_merge.c   **** 
1875:str_merge.c   ****     token_id = 0;
 3031              	LM370:
 3032 1d61 C785D4E7 		movl	$0, -6188(%ebp)
 3032      FFFF0000 
 3032      0000
1876:str_merge.c   ****     fgetws(ref_tmp, TMP_BUF_LENGTH, ref);   /* Title list */
 3034              	LM371:
 3035 1d6b 8B45F4   		movl	-12(%ebp), %eax
 3036 1d6e 89442408 		movl	%eax, 8(%esp)
 3037 1d72 C7442404 		movl	$1024, 4(%esp)
 3037      00040000 
 3038 1d7a A1680000 		movl	_ref_tmp, %eax
 3038      00
 3039 1d7f 890424   		movl	%eax, (%esp)
 3040 1d82 E8000000 		call	_fgetws
 3040      00
1877:str_merge.c   ****     GetItem(ref_tmp, token_id++, buf_src);
 3042              	LM372:
 3043 1d87 8D85D8F7 		leal	-2088(%ebp), %eax
 3043      FFFF
 3044 1d8d 89442408 		movl	%eax, 8(%esp)
 3045 1d91 8B85D4E7 		movl	-6188(%ebp), %eax
 3045      FFFF
 3046 1d97 89442404 		movl	%eax, 4(%esp)
 3047 1d9b 8D85D4E7 		leal	-6188(%ebp), %eax
 3047      FFFF
 3048 1da1 FF00     		incl	(%eax)
 3049 1da3 A1680000 		movl	_ref_tmp, %eax
 3049      00
 3050 1da8 890424   		movl	%eax, (%esp)
 3051 1dab E8A5E6FF 		call	_GetItem
 3051      FF
1878:str_merge.c   ****     UCS2ASCII((char*)buf_src, buf_asc);     /* Enum Value */
 3053              	LM373:
 3054 1db0 8D85C8E5 		leal	-6712(%ebp), %eax
 3054      FFFF
 3055 1db6 89442404 		movl	%eax, 4(%esp)
 3056 1dba 8D85D8F7 		leal	-2088(%ebp), %eax
 3056      FFFF
 3057 1dc0 890424   		movl	%eax, (%esp)
 3058 1dc3 E81BE6FF 		call	_UCS2ASCII
 3058      FF
1879:str_merge.c   ****     fprintf(fail, "%s", buf_asc);           /* print out to NoTranslation.txt */
 3060              	LM374:
 3061 1dc8 8D85C8E5 		leal	-6712(%ebp), %eax
 3061      FFFF
 3062 1dce 89442408 		movl	%eax, 8(%esp)
 3063 1dd2 C7442404 		movl	$LC32, 4(%esp)
 3063      49160000 
 3064 1dda 8B45F0   		movl	-16(%ebp), %eax
 3065 1ddd 890424   		movl	%eax, (%esp)
 3066 1de0 E8000000 		call	_fprintf
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 84


 3066      00
1880:str_merge.c   **** 
1881:str_merge.c   ****     GetItem(ref_tmp, token_id++, buf_src);
 3068              	LM375:
 3069 1de5 8D85D8F7 		leal	-2088(%ebp), %eax
 3069      FFFF
 3070 1deb 89442408 		movl	%eax, 8(%esp)
 3071 1def 8B85D4E7 		movl	-6188(%ebp), %eax
 3071      FFFF
 3072 1df5 89442404 		movl	%eax, 4(%esp)
 3073 1df9 8D85D4E7 		leal	-6188(%ebp), %eax
 3073      FFFF
 3074 1dff FF00     		incl	(%eax)
 3075 1e01 A1680000 		movl	_ref_tmp, %eax
 3075      00
 3076 1e06 890424   		movl	%eax, (%esp)
 3077 1e09 E847E6FF 		call	_GetItem
 3077      FF
1882:str_merge.c   ****     UCS2ASCII((char*)buf_src, buf_asc);     /* MODULE NAME */
 3079              	LM376:
 3080 1e0e 8D85C8E5 		leal	-6712(%ebp), %eax
 3080      FFFF
 3081 1e14 89442404 		movl	%eax, 4(%esp)
 3082 1e18 8D85D8F7 		leal	-2088(%ebp), %eax
 3082      FFFF
 3083 1e1e 890424   		movl	%eax, (%esp)
 3084 1e21 E8BDE5FF 		call	_UCS2ASCII
 3084      FF
1883:str_merge.c   ****     fprintf(fail, "\t%s", buf_asc);         /* print out to NoTranslation.txt */
 3086              	LM377:
 3087 1e26 8D85C8E5 		leal	-6712(%ebp), %eax
 3087      FFFF
 3088 1e2c 89442408 		movl	%eax, 8(%esp)
 3089 1e30 C7442404 		movl	$LC33, 4(%esp)
 3089      4C160000 
 3090 1e38 8B45F0   		movl	-16(%ebp), %eax
 3091 1e3b 890424   		movl	%eax, (%esp)
 3092 1e3e E8000000 		call	_fprintf
 3092      00
1884:str_merge.c   **** 
1885:str_merge.c   ****     GetItem(ref_tmp, token_id++, buf_src);
 3094              	LM378:
 3095 1e43 8D85D8F7 		leal	-2088(%ebp), %eax
 3095      FFFF
 3096 1e49 89442408 		movl	%eax, 8(%esp)
 3097 1e4d 8B85D4E7 		movl	-6188(%ebp), %eax
 3097      FFFF
 3098 1e53 89442404 		movl	%eax, 4(%esp)
 3099 1e57 8D85D4E7 		leal	-6188(%ebp), %eax
 3099      FFFF
 3100 1e5d FF00     		incl	(%eax)
 3101 1e5f A1680000 		movl	_ref_tmp, %eax
 3101      00
 3102 1e64 890424   		movl	%eax, (%esp)
 3103 1e67 E8E9E5FF 		call	_GetItem
 3103      FF
1886:str_merge.c   ****     UCS2ASCII((char*)buf_src, buf_asc);     /* Max String Length */
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 85


 3105              	LM379:
 3106 1e6c 8D85C8E5 		leal	-6712(%ebp), %eax
 3106      FFFF
 3107 1e72 89442404 		movl	%eax, 4(%esp)
 3108 1e76 8D85D8F7 		leal	-2088(%ebp), %eax
 3108      FFFF
 3109 1e7c 890424   		movl	%eax, (%esp)
 3110 1e7f E85FE5FF 		call	_UCS2ASCII
 3110      FF
1887:str_merge.c   ****     fprintf(fail, "\t%s", buf_asc);         /* print out to NoTranslation.txt */
 3112              	LM380:
 3113 1e84 8D85C8E5 		leal	-6712(%ebp), %eax
 3113      FFFF
 3114 1e8a 89442408 		movl	%eax, 8(%esp)
 3115 1e8e C7442404 		movl	$LC33, 4(%esp)
 3115      4C160000 
 3116 1e96 8B45F0   		movl	-16(%ebp), %eax
 3117 1e99 890424   		movl	%eax, (%esp)
 3118 1e9c E8000000 		call	_fprintf
 3118      00
1888:str_merge.c   **** 
1889:str_merge.c   ****     GetItem(ref_tmp, token_id++, buf_src);
 3120              	LM381:
 3121 1ea1 8D85D8F7 		leal	-2088(%ebp), %eax
 3121      FFFF
 3122 1ea7 89442408 		movl	%eax, 8(%esp)
 3123 1eab 8B85D4E7 		movl	-6188(%ebp), %eax
 3123      FFFF
 3124 1eb1 89442404 		movl	%eax, 4(%esp)
 3125 1eb5 8D85D4E7 		leal	-6188(%ebp), %eax
 3125      FFFF
 3126 1ebb FF00     		incl	(%eax)
 3127 1ebd A1680000 		movl	_ref_tmp, %eax
 3127      00
 3128 1ec2 890424   		movl	%eax, (%esp)
 3129 1ec5 E88BE5FF 		call	_GetItem
 3129      FF
1890:str_merge.c   ****     UCS2ASCII((char*)buf_src, buf_asc);     /* Description */
 3131              	LM382:
 3132 1eca 8D85C8E5 		leal	-6712(%ebp), %eax
 3132      FFFF
 3133 1ed0 89442404 		movl	%eax, 4(%esp)
 3134 1ed4 8D85D8F7 		leal	-2088(%ebp), %eax
 3134      FFFF
 3135 1eda 890424   		movl	%eax, (%esp)
 3136 1edd E801E5FF 		call	_UCS2ASCII
 3136      FF
1891:str_merge.c   ****     fprintf(fail, "\t%s", buf_asc);         /* print out to NoTranslation.txt */
 3138              	LM383:
 3139 1ee2 8D85C8E5 		leal	-6712(%ebp), %eax
 3139      FFFF
 3140 1ee8 89442408 		movl	%eax, 8(%esp)
 3141 1eec C7442404 		movl	$LC33, 4(%esp)
 3141      4C160000 
 3142 1ef4 8B45F0   		movl	-16(%ebp), %eax
 3143 1ef7 890424   		movl	%eax, (%esp)
 3144 1efa E8000000 		call	_fprintf
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 86


 3144      00
1892:str_merge.c   **** 
1893:str_merge.c   ****     for (i = 0; i < nLang; i++)
 3146              	LM384:
 3147 1eff C785C0E5 		movl	$0, -6720(%ebp)
 3147      FFFF0000 
 3147      0000
 3148              	L197:
 3149 1f09 8B85C0E5 		movl	-6720(%ebp), %eax
 3149      FFFF
 3150 1f0f 3B057800 		cmpl	_nLang, %eax
 3150      0000
 3151 1f15 7C02     		jl	L200
 3152 1f17 EB66     		jmp	L198
 3153              	L200:
1894:str_merge.c   ****     {
1895:str_merge.c   ****         GetItem(ref_tmp, token_id + i, buf_ref);
 3155              	LM385:
 3156 1f19 8D85D8EF 		leal	-4136(%ebp), %eax
 3156      FFFF
 3157 1f1f 89442408 		movl	%eax, 8(%esp)
 3158 1f23 8B85C0E5 		movl	-6720(%ebp), %eax
 3158      FFFF
 3159 1f29 0385D4E7 		addl	-6188(%ebp), %eax
 3159      FFFF
 3160 1f2f 89442404 		movl	%eax, 4(%esp)
 3161 1f33 A1680000 		movl	_ref_tmp, %eax
 3161      00
 3162 1f38 890424   		movl	%eax, (%esp)
 3163 1f3b E815E5FF 		call	_GetItem
 3163      FF
1896:str_merge.c   ****         UCS2ASCII((char*)buf_ref, buf_asc); /* Language */
 3165              	LM386:
 3166 1f40 8D85C8E5 		leal	-6712(%ebp), %eax
 3166      FFFF
 3167 1f46 89442404 		movl	%eax, 4(%esp)
 3168 1f4a 8D85D8EF 		leal	-4136(%ebp), %eax
 3168      FFFF
 3169 1f50 890424   		movl	%eax, (%esp)
 3170 1f53 E88BE4FF 		call	_UCS2ASCII
 3170      FF
1897:str_merge.c   ****         fprintf(fail, "\t%s", buf_asc);     /* print out to NoTranslation.txt */
 3172              	LM387:
 3173 1f58 8D85C8E5 		leal	-6712(%ebp), %eax
 3173      FFFF
 3174 1f5e 89442408 		movl	%eax, 8(%esp)
 3175 1f62 C7442404 		movl	$LC33, 4(%esp)
 3175      4C160000 
 3176 1f6a 8B45F0   		movl	-16(%ebp), %eax
 3177 1f6d 890424   		movl	%eax, (%esp)
 3178 1f70 E8000000 		call	_fprintf
 3178      00
 3180              	LM388:
 3181 1f75 8D85C0E5 		leal	-6720(%ebp), %eax
 3181      FFFF
 3182 1f7b FF00     		incl	(%eax)
 3183 1f7d EB8A     		jmp	L197
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 87


 3184              	L198:
1898:str_merge.c   ****     }
1899:str_merge.c   ****     fprintf(fail, "\n");
 3186              	LM389:
 3187 1f7f C7442404 		movl	$LC34, 4(%esp)
 3187      50160000 
 3188 1f87 8B45F0   		movl	-16(%ebp), %eax
 3189 1f8a 890424   		movl	%eax, (%esp)
 3190 1f8d E8000000 		call	_fprintf
 3190      00
1900:str_merge.c   **** 
1901:str_merge.c   ****     ref_ssc = (wchar_t *)malloc(g_line_buf_length * sizeof(wchar_t));
 3192              	LM390:
 3193 1f92 A1280000 		movl	_g_line_buf_length, %eax
 3193      00
 3194 1f97 01C0     		addl	%eax, %eax
 3195 1f99 890424   		movl	%eax, (%esp)
 3196 1f9c E8000000 		call	_malloc
 3196      00
 3197 1fa1 A3580000 		movl	%eax, _ref_ssc
 3197      00
1902:str_merge.c   ****     if (ref_ssc == NULL)
 3199              	LM391:
 3200 1fa6 833D5800 		cmpl	$0, _ref_ssc
 3200      000000
 3201 1fad 752C     		jne	L201
1903:str_merge.c   ****     {
1904:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.2 size=[%d]", g_line_buf_length * sizeof(wchar_
 3203              	LM392:
 3204 1faf A1280000 		movl	_g_line_buf_length, %eax
 3204      00
 3205 1fb4 01C0     		addl	%eax, %eax
 3206 1fb6 8944240C 		movl	%eax, 12(%esp)
 3207 1fba C7442408 		movl	$LC35, 8(%esp)
 3207      60160000 
 3208 1fc2 C7442404 		movl	$LC3, 4(%esp)
 3208      4B040000 
 3209 1fca C7042403 		movl	$3, (%esp)
 3209      000000
 3210 1fd1 E8000000 		call	_reslog_adaptor_log
 3210      00
1905:str_merge.c   ****         goto ERR_RET;
 3212              	LM393:
 3213 1fd6 E93F0700 		jmp	L194
 3213      00
 3214              	L201:
1906:str_merge.c   ****     }
1907:str_merge.c   ****     fgetws(ref_ssc, g_line_buf_length, ref); /* SSC STRING */
 3216              	LM394:
 3217 1fdb 8B45F4   		movl	-12(%ebp), %eax
 3218 1fde 89442408 		movl	%eax, 8(%esp)
 3219 1fe2 A1280000 		movl	_g_line_buf_length, %eax
 3219      00
 3220 1fe7 89442404 		movl	%eax, 4(%esp)
 3221 1feb A1580000 		movl	_ref_ssc, %eax
 3221      00
 3222 1ff0 890424   		movl	%eax, (%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 88


 3223 1ff3 E8000000 		call	_fgetws
 3223      00
1908:str_merge.c   **** 
1909:str_merge.c   ****     filter_ref_ssc = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t));
 3225              	LM395:
 3226 1ff8 A1380000 		movl	_g_line_buf_act_length, %eax
 3226      00
 3227 1ffd 01C0     		addl	%eax, %eax
 3228 1fff 890424   		movl	%eax, (%esp)
 3229 2002 E8000000 		call	_malloc
 3229      00
 3230 2007 A3880000 		movl	%eax, _filter_ref_ssc
 3230      00
1910:str_merge.c   ****     if (filter_ref_ssc == NULL)
 3232              	LM396:
 3233 200c 833D8800 		cmpl	$0, _filter_ref_ssc
 3233      000000
 3234 2013 752C     		jne	L202
1911:str_merge.c   ****     {
1912:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.2 size=[%d]", g_line_buf_act_length * sizeof(wc
 3236              	LM397:
 3237 2015 A1380000 		movl	_g_line_buf_act_length, %eax
 3237      00
 3238 201a 01C0     		addl	%eax, %eax
 3239 201c 8944240C 		movl	%eax, 12(%esp)
 3240 2020 C7442408 		movl	$LC35, 8(%esp)
 3240      60160000 
 3241 2028 C7442404 		movl	$LC3, 4(%esp)
 3241      4B040000 
 3242 2030 C7042403 		movl	$3, (%esp)
 3242      000000
 3243 2037 E8000000 		call	_reslog_adaptor_log
 3243      00
1913:str_merge.c   ****         goto ERR_RET;
 3245              	LM398:
 3246 203c E9D90600 		jmp	L194
 3246      00
 3247              	L202:
1914:str_merge.c   ****     }
1915:str_merge.c   **** 
1916:str_merge.c   ****     ref_cnt = get_ref_count(ref, g_line_buf_length, ref_tmp);
 3249              	LM399:
 3250 2041 A1680000 		movl	_ref_tmp, %eax
 3250      00
 3251 2046 89442408 		movl	%eax, 8(%esp)
 3252 204a A1280000 		movl	_g_line_buf_length, %eax
 3252      00
 3253 204f 89442404 		movl	%eax, 4(%esp)
 3254 2053 8B45F4   		movl	-12(%ebp), %eax
 3255 2056 890424   		movl	%eax, (%esp)
 3256 2059 E82DF3FF 		call	_get_ref_count
 3256      FF
 3257 205e 8985A4E5 		movl	%eax, -6748(%ebp)
 3257      FFFF
1917:str_merge.c   **** 
1918:str_merge.c   ****     /*get index of language in ref list*/
1919:str_merge.c   ****     get_language_in_ssc_index(ref_ssc, &deployed_lang_index, nLang);
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 89


 3259              	LM400:
 3260 2064 A1780000 		movl	_nLang, %eax
 3260      00
 3261 2069 89442408 		movl	%eax, 8(%esp)
 3262 206d 8B8588E5 		movl	-6776(%ebp), %eax
 3262      FFFF
 3263 2073 89442404 		movl	%eax, 4(%esp)
 3264 2077 A1580000 		movl	_ref_ssc, %eax
 3264      00
 3265 207c 890424   		movl	%eax, (%esp)
 3266 207f E8A0E7FF 		call	_get_language_in_ssc_index
 3266      FF
1920:str_merge.c   ****     filter_raw_string(ref_ssc, filter_ref_ssc, deployed_lang_index, nUsedLang);
 3268              	LM401:
 3269 2084 0FB70598 		movzwl	_nUsedLang, %eax
 3269      000000
 3270 208b 8944240C 		movl	%eax, 12(%esp)
 3271 208f 8B8588E5 		movl	-6776(%ebp), %eax
 3271      FFFF
 3272 2095 89442408 		movl	%eax, 8(%esp)
 3273 2099 A1880000 		movl	_filter_ref_ssc, %eax
 3273      00
 3274 209e 89442404 		movl	%eax, 4(%esp)
 3275 20a2 A1580000 		movl	_ref_ssc, %eax
 3275      00
 3276 20a7 890424   		movl	%eax, (%esp)
 3277 20aa E815EAFF 		call	_filter_raw_string
 3277      FF
1921:str_merge.c   **** 
1922:str_merge.c   ****     /* operator support */
1923:str_merge.c   **** #ifndef __OPTR_NONE__
1924:str_merge.c   ****     /* Makr this line for reduce string memory, use GetLineBufLength */
1925:str_merge.c   ****     /* optr_line_buf_length = (optr_lang + 2) * MAX_LENGTH; */
1926:str_merge.c   ****     optr_ref_ssc = (wchar_t *)malloc(optr_line_buf_length * sizeof(wchar_t));
1927:str_merge.c   ****     if (optr_ref_ssc == NULL)
1928:str_merge.c   ****     {
1929:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.3 size=[%d]", optr_line_buf_length * sizeof(wch
1930:str_merge.c   ****         goto ERR_RET;
1931:str_merge.c   ****     }
1932:str_merge.c   **** 
1933:str_merge.c   ****     optr_filter_ref_ssc =  (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t));
1934:str_merge.c   ****     if (optr_filter_ref_ssc == NULL)
1935:str_merge.c   ****     {
1936:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.3 size=[%d]", g_line_buf_act_length * sizeof(wc
1937:str_merge.c   ****         goto ERR_RET;
1938:str_merge.c   ****     }
1939:str_merge.c   **** 
1940:str_merge.c   ****     fgetws(ref_tmp, optr_line_buf_length, optr_ref);
1941:str_merge.c   ****     fgetws(optr_ref_ssc, optr_line_buf_length, optr_ref);
1942:str_merge.c   **** 
1943:str_merge.c   ****     /*get index of language in operator ref list and filter ssc*/
1944:str_merge.c   ****     get_language_in_ssc_index(optr_ref_ssc, &optr_deployed_lang_index, optr_lang);
1945:str_merge.c   ****     filter_raw_string(optr_ref_ssc, optr_filter_ref_ssc, optr_deployed_lang_index, nUsedLang);
1946:str_merge.c   **** 
1947:str_merge.c   ****     /* allocate mask for languages in operator_ref_list.txt */
1948:str_merge.c   ****     optr_lang_mask = (U16 *)malloc(nUsedLang* sizeof(U16));
1949:str_merge.c   ****     if (optr_lang_mask == NULL)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 90


1950:str_merge.c   ****     {
1951:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.4 size=[%d]", nUsedLang * sizeof(U16));
1952:str_merge.c   ****         goto ERR_RET;
1953:str_merge.c   ****     }
1954:str_merge.c   ****     memset(optr_lang_mask, 0, nUsedLang * sizeof(U16));
1955:str_merge.c   ****     ref_ssc_list = (wchar_t (*)[SSC_LENGTH])malloc(sizeof(wchar_t[SSC_LENGTH]) * nUsedLang);
1956:str_merge.c   ****     if (ref_ssc_list == NULL)
1957:str_merge.c   ****     {
1958:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.5 size=[%d]", sizeof(wchar_t[SSC_LENGTH]) * nUs
1959:str_merge.c   ****         goto ERR_RET;
1960:str_merge.c   ****     }
1961:str_merge.c   **** 
1962:str_merge.c   ****     /* read each SSC into ref_ssc_list */
1963:str_merge.c   ****     token_id = 4; /* skip the first 4 column header information */
1964:str_merge.c   ****     for (i = 0; i < nUsedLang; i++)
1965:str_merge.c   ****     {
1966:str_merge.c   ****         GetItem(filter_ref_ssc, token_id++, buf_ref);
1967:str_merge.c   ****         wcscpy(ref_ssc_list[i], buf_ref);
1968:str_merge.c   ****     }
1969:str_merge.c   ****     /* 
1970:str_merge.c   ****      * try to match each SSC in operator_ref_list.txt 
1971:str_merge.c   ****      * within ref_ssc_list
1972:str_merge.c   ****      */
1973:str_merge.c   ****     token_id = 4; /* skip the first 4 column header information */
1974:str_merge.c   ****     for (i = 0; i < nUsedLang; i++)
1975:str_merge.c   ****     {
1976:str_merge.c   ****         GetItem(optr_filter_ref_ssc, token_id++, buf_ref);
1977:str_merge.c   ****         for (j = 0; j < nUsedLang; j++)
1978:str_merge.c   ****         {
1979:str_merge.c   ****             if (!wcscmp(buf_ref, ref_ssc_list[j]))
1980:str_merge.c   ****             {
1981:str_merge.c   ****                 /* 
1982:str_merge.c   ****                  * language column j is found in operator_ref_list.txt, 
1983:str_merge.c   ****                  * and matching to language column i
1984:str_merge.c   ****                  */
1985:str_merge.c   ****                 optr_lang_mask[j] = i + 1;
1986:str_merge.c   ****                 break;
1987:str_merge.c   ****             }
1988:str_merge.c   ****         }
1989:str_merge.c   ****     }
1990:str_merge.c   ****     free(ref_ssc_list);
1991:str_merge.c   ****     ref_ssc_list = NULL;
1992:str_merge.c   **** 
1993:str_merge.c   **** 
1994:str_merge.c   ****     optr_ref_cnt = get_ref_count(optr_ref, g_line_buf_length, ref_tmp);
1995:str_merge.c   **** 
1996:str_merge.c   ****     if (optr_ref_cnt != 0)
1997:str_merge.c   ****     {
1998:str_merge.c   **** 
1999:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2000:str_merge.c   ****         optr_ref_all = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t) * optr_ref_cnt);
2001:str_merge.c   **** 
2002:str_merge.c   ****         if (optr_ref_all == NULL)
2003:str_merge.c   ****         {
2004:str_merge.c   ****             STRMERG_LOG_E("memory is not available step.6 size=[%d]", g_line_buf_act_length * sizeo
2005:str_merge.c   ****             goto ERR_RET;
2006:str_merge.c   ****         }
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 91


2007:str_merge.c   ****         /*load optr ref list to optr_ref_all, this is used to instead the following old part*/
2008:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Load optr ref list to memory");
2009:str_merge.c   ****         load_ref_list_to_mem(optr_ref_all, &optr_end_line, optr_ref, optr_deployed_lang_index, optr
2010:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "optr ref list: count= %d , size = %d", optr_ref_cnt, g_l
2011:str_merge.c   **** #else / *MEM_REF_LIST_OPT */
2012:str_merge.c   ****         /* Create a Vector-like structure to load operator ref list */
2013:str_merge.c   ****         optr_ref_all_list = CreateRefList(optr_ref_cnt);
2014:str_merge.c   ****         
2015:str_merge.c   ****         if (optr_ref_all_list == NULL)
2016:str_merge.c   ****         {
2017:str_merge.c   ****             STRMERG_LOG_E("memory is not available step.6 length=[%d]",optr_ref_cnt);
2018:str_merge.c   ****             goto ERR_RET;
2019:str_merge.c   ****         }
2020:str_merge.c   ****         
2021:str_merge.c   ****         /*load optr ref list to ref_all, this is used to instead the following old part*/
2022:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Load optr ref list to memory");
2023:str_merge.c   ****         load_ref_list_to_mem(optr_ref_all_list, optr_ref, optr_deployed_lang_index, optr_ref_cnt, n
2024:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "optr_ref_all_list length = %d, size = %d", optr_ref_all_
2025:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
2026:str_merge.c   ****     }
2027:str_merge.c   **** #endif /* __OPTR_NONE__ */
2028:str_merge.c   **** 
2029:str_merge.c   ****     /* operator support */
2030:str_merge.c   **** #ifndef __OPTR_NONE__
2031:str_merge.c   ****     count = ref_cnt + optr_ref_cnt;
2032:str_merge.c   **** #else /*__OPTR_NONE__*/
2033:str_merge.c   ****     count = ref_cnt; 
 3279              	LM402:
 3280 20af 8B85A4E5 		movl	-6748(%ebp), %eax
 3280      FFFF
 3281 20b5 898594E5 		movl	%eax, -6764(%ebp)
 3281      FFFF
2034:str_merge.c   **** #endif /*__OPTR_NONE__*/
2035:str_merge.c   **** 
2036:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2037:str_merge.c   ****     ref_all = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t) * (count));
2038:str_merge.c   ****     STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "memory usage in step.7 size=[%d], buf_length: %d, count: %d"
2039:str_merge.c   ****     fflush(stdout);
2040:str_merge.c   **** 	
2041:str_merge.c   ****     //Retry if the memory is not available
2042:str_merge.c   ****     while(ref_all == NULL && mem_retry_count < MEM_RETRY_COUNT_MAX)
2043:str_merge.c   ****     {
2044:str_merge.c   ****         /* Retry count of memory allocation */
2045:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "memory is unavailable step.7, retry after %d sec", MEM_R
2046:str_merge.c   ****         sleep(MEM_RETRY_TIME_INTERVAL_SEC);
2047:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "retry: %d", mem_retry_count);
2048:str_merge.c   ****         ref_all = (wchar_t *)malloc(g_line_buf_act_length * sizeof(wchar_t) * (count));
2049:str_merge.c   ****         mem_retry_count++;
2050:str_merge.c   ****     }
2051:str_merge.c   **** 	  
2052:str_merge.c   ****     if (ref_all == NULL)
2053:str_merge.c   ****     {
2054:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.7 size=[%d]", g_line_buf_act_length * sizeof(wc
2055:str_merge.c   ****         goto ERR_RET;
2056:str_merge.c   ****     }    
2057:str_merge.c   ****     /*load ref list to ref_all, this is used to instead the following old part*/
2058:str_merge.c   ****     load_ref_list_to_mem(ref_all, &end_line, ref, deployed_lang_index, ref_cnt, nUsedLang);
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 92


2059:str_merge.c   **** #else /*MEM_REF_LIST_OPT*/
2060:str_merge.c   ****     /* Create a ref list vector to store ref list lines in ref_list.txt */
2061:str_merge.c   **** 	STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "CreateRefList : create data structure to store ref list lines")
 3283              	LM403:
 3284 20bb C7442408 		movl	$LC36, 8(%esp)
 3284      A0160000 
 3285 20c3 C7442404 		movl	$LC3, 4(%esp)
 3285      4B040000 
 3286 20cb C7042401 		movl	$1, (%esp)
 3286      000000
 3287 20d2 E8000000 		call	_reslog_adaptor_log
 3287      00
2062:str_merge.c   ****     fflush(stdout);
 3289              	LM404:
 3290 20d7 A1000000 		movl	__imp___iob, %eax
 3290      00
 3291 20dc 83C020   		addl	$32, %eax
 3292 20df 890424   		movl	%eax, (%esp)
 3293 20e2 E8000000 		call	_fflush
 3293      00
2063:str_merge.c   ****     ref_all_list = CreateRefList(count);
 3295              	LM405:
 3296 20e7 8B8594E5 		movl	-6764(%ebp), %eax
 3296      FFFF
 3297 20ed 890424   		movl	%eax, (%esp)
 3298 20f0 E8F75600 		call	_CreateRefList
 3298      00
 3299 20f5 A3480000 		movl	%eax, _ref_all_list
 3299      00
2064:str_merge.c   ****     if (ref_all_list == NULL)
 3301              	LM406:
 3302 20fa 833D4800 		cmpl	$0, _ref_all_list
 3302      000000
 3303 2101 752B     		jne	L203
2065:str_merge.c   ****     {
2066:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.7 length=[%d]", count);
 3305              	LM407:
 3306 2103 8B8594E5 		movl	-6764(%ebp), %eax
 3306      FFFF
 3307 2109 8944240C 		movl	%eax, 12(%esp)
 3308 210d C7442408 		movl	$LC37, 8(%esp)
 3308      00170000 
 3309 2115 C7442404 		movl	$LC3, 4(%esp)
 3309      4B040000 
 3310 211d C7042403 		movl	$3, (%esp)
 3310      000000
 3311 2124 E8000000 		call	_reslog_adaptor_log
 3311      00
2067:str_merge.c   ****         goto ERR_RET;
 3313              	LM408:
 3314 2129 E9EC0500 		jmp	L194
 3314      00
 3315              	L203:
2068:str_merge.c   ****     }
2069:str_merge.c   **** 	
2070:str_merge.c   ****     /* load ref list items to ref_all vector*/
2071:str_merge.c   **** 	STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "load_ref_list_to_mem: load ref list items to ref_all vector");	
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 93


 3317              	LM409:
 3318 212e C7442408 		movl	$LC38, 8(%esp)
 3318      40170000 
 3319 2136 C7442404 		movl	$LC3, 4(%esp)
 3319      4B040000 
 3320 213e C7042401 		movl	$1, (%esp)
 3320      000000
 3321 2145 E8000000 		call	_reslog_adaptor_log
 3321      00
2072:str_merge.c   ****     fflush(stdout);
 3323              	LM410:
 3324 214a A1000000 		movl	__imp___iob, %eax
 3324      00
 3325 214f 83C020   		addl	$32, %eax
 3326 2152 890424   		movl	%eax, (%esp)
 3327 2155 E8000000 		call	_fflush
 3327      00
2073:str_merge.c   ****     load_ref_list_to_mem(ref_all_list, ref, deployed_lang_index, ref_cnt, nUsedLang);
 3329              	LM411:
 3330 215a 0FB70598 		movzwl	_nUsedLang, %eax
 3330      000000
 3331 2161 89442410 		movl	%eax, 16(%esp)
 3332 2165 8B85A4E5 		movl	-6748(%ebp), %eax
 3332      FFFF
 3333 216b 8944240C 		movl	%eax, 12(%esp)
 3334 216f 8B8588E5 		movl	-6776(%ebp), %eax
 3334      FFFF
 3335 2175 89442408 		movl	%eax, 8(%esp)
 3336 2179 8B45F4   		movl	-12(%ebp), %eax
 3337 217c 89442404 		movl	%eax, 4(%esp)
 3338 2180 A1480000 		movl	_ref_all_list, %eax
 3338      00
 3339 2185 890424   		movl	%eax, (%esp)
 3340 2188 E841EFFF 		call	_load_ref_list_to_mem
 3340      FF
2074:str_merge.c   **** 
2075:str_merge.c   **** 	/* Update ref_cnt based to the loaded items */
2076:str_merge.c   ****     ref_cnt = ref_all_list->ListLength;
 3342              	LM412:
 3343 218d A1480000 		movl	_ref_all_list, %eax
 3343      00
 3344 2192 8B4004   		movl	4(%eax), %eax
 3345 2195 8985A4E5 		movl	%eax, -6748(%ebp)
 3345      FFFF
2077:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
2078:str_merge.c   **** 
2079:str_merge.c   **** #ifdef DEBUG_REF_LIST_DUMP
2080:str_merge.c   **** /* Dump the ref list loaded in memory to log file REFLISST_DUMP_FILE_BEFOR_MERGE */
2081:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2082:str_merge.c   ****     DumpRefList(REFLISST_DUMP_FILE_BEFOR_MERGE, ref_all, g_line_buf_act_length, count);
2083:str_merge.c   **** #else /* MEM_REF_LIST_OPT */
2084:str_merge.c   ****     DumpRefList(REFLISST_DUMP_FILE_BEFOR_MERGE, ref_all_list);
2085:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
2086:str_merge.c   **** #endif /* DEBUG_REF_LIST_DUMP */
2087:str_merge.c   **** 
2088:str_merge.c   **** 
2089:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 94


2090:str_merge.c   ****     total_id = CurrMaxTransStrId;
 3347              	LM413:
 3348 219b 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 3348      000000
 3349 21a2 668985B0 		movw	%ax, -6736(%ebp)
 3349      E5FFFF
2091:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
2092:str_merge.c   **** 
2093:str_merge.c   ****     /* String ID array without empty slot */
2094:str_merge.c   ****     StrID = (U16 *)malloc(sizeof(U16) * total_id);
 3351              	LM414:
 3352 21a9 0FB785B0 		movzwl	-6736(%ebp), %eax
 3352      E5FFFF
 3353 21b0 01C0     		addl	%eax, %eax
 3354 21b2 890424   		movl	%eax, (%esp)
 3355 21b5 E8000000 		call	_malloc
 3355      00
 3356 21ba A3180000 		movl	%eax, _StrID
 3356      00
2095:str_merge.c   ****     if (StrID == NULL)
 3358              	LM415:
 3359 21bf 833D1800 		cmpl	$0, _StrID
 3359      000000
 3360 21c6 752E     		jne	L204
2096:str_merge.c   ****     {
2097:str_merge.c   ****         STRMERG_LOG_E("memory is not available step.8 size=[%d]", sizeof(U16) * total_id);
 3362              	LM416:
 3363 21c8 0FB785B0 		movzwl	-6736(%ebp), %eax
 3363      E5FFFF
 3364 21cf 01C0     		addl	%eax, %eax
 3365 21d1 8944240C 		movl	%eax, 12(%esp)
 3366 21d5 C7442408 		movl	$LC39, 8(%esp)
 3366      A0170000 
 3367 21dd C7442404 		movl	$LC3, 4(%esp)
 3367      4B040000 
 3368 21e5 C7042403 		movl	$3, (%esp)
 3368      000000
 3369 21ec E8000000 		call	_reslog_adaptor_log
 3369      00
2098:str_merge.c   ****         goto ERR_RET;
 3371              	LM417:
 3372 21f1 E9240500 		jmp	L194
 3372      00
 3373              	L204:
2099:str_merge.c   ****     }
2100:str_merge.c   **** 
2101:str_merge.c   ****     nStrId = 0;
 3375              	LM418:
 3376 21f6 66C785B2 		movw	$0, -6734(%ebp)
 3376      E5FFFF00 
 3376      00
2102:str_merge.c   ****     while (nStrId < MAX_STRING_MAP_SIZE)
 3378              	LM419:
 3379              	L205:
 3380 21ff 6683BDB2 		cmpw	$-1, -6734(%ebp)
 3380      E5FFFFFF 
 3381 2207 7505     		jne	L207
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 95


 3382 2209 E99B0400 		jmp	L206
 3382      00
 3383              	L207:
2103:str_merge.c   ****     {
2104:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2105:str_merge.c   ****         STRMERG_LOG_D("Check String ID %d", nStrId);
 3385              	LM420:
 3386 220e 0FB785B2 		movzwl	-6734(%ebp), %eax
 3386      E5FFFF
 3387 2215 8944240C 		movl	%eax, 12(%esp)
 3388 2219 C7442408 		movl	$LC40, 8(%esp)
 3388      C9170000 
 3389 2221 C7442404 		movl	$LC3, 4(%esp)
 3389      4B040000 
 3390 2229 C7042400 		movl	$0, (%esp)
 3390      000000
 3391 2230 E8000000 		call	_reslog_adaptor_log
 3391      00
2106:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2107:str_merge.c   ****         if (StrIsPopulate[nStrId] == 0)
 3393              	LM421:
 3394 2235 0FB785B2 		movzwl	-6734(%ebp), %eax
 3394      E5FFFF
 3395 223c 80B80000 		cmpb	$0, _StrIsPopulate(%eax)
 3395      000000
 3396 2243 7511     		jne	L208
2108:str_merge.c   ****         {
2109:str_merge.c   ****             nStrId++;
 3398              	LM422:
 3399 2245 0FB785B2 		movzwl	-6734(%ebp), %eax
 3399      E5FFFF
 3400 224c 40       		incl	%eax
 3401 224d 668985B2 		movw	%ax, -6734(%ebp)
 3401      E5FFFF
2110:str_merge.c   ****             continue;
 3403              	LM423:
 3404 2254 EBA9     		jmp	L205
 3405              	L208:
2111:str_merge.c   ****         }
2112:str_merge.c   **** 
2113:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
2114:str_merge.c   ****         /* skip no translated string id */
2115:str_merge.c   ****         if(fixed_id.fixed_id_flag[nStrId] == NO_TRANSLATE_FLAG)
 3407              	LM424:
 3408 2256 0FB795B2 		movzwl	-6734(%ebp), %edx
 3408      E5FFFF
 3409 225d A1040000 		movl	_fixed_id+4, %eax
 3409      00
 3410 2262 803C0201 		cmpb	$1, (%edx,%eax)
 3411 2266 7511     		jne	L209
2116:str_merge.c   ****         {
2117:str_merge.c   ****             nStrId++;
 3413              	LM425:
 3414 2268 0FB785B2 		movzwl	-6734(%ebp), %eax
 3414      E5FFFF
 3415 226f 40       		incl	%eax
 3416 2270 668985B2 		movw	%ax, -6734(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 96


 3416      E5FFFF
2118:str_merge.c   ****             continue;
 3418              	LM426:
 3419 2277 EB86     		jmp	L205
 3420              	L209:
2119:str_merge.c   ****         }
2120:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
2121:str_merge.c   **** 
2122:str_merge.c   ****         *(StrID + gIndex) = nStrId;
 3422              	LM427:
 3423 2279 8B85D0E7 		movl	-6192(%ebp), %eax
 3423      FFFF
 3424 227f 8D0C00   		leal	(%eax,%eax), %ecx
 3425 2282 8B151800 		movl	_StrID, %edx
 3425      0000
 3426 2288 0FB785B2 		movzwl	-6734(%ebp), %eax
 3426      E5FFFF
 3427 228f 6689040A 		movw	%ax, (%edx,%ecx)
2123:str_merge.c   **** 
2124:str_merge.c   ****         /* operator support */
2125:str_merge.c   **** #ifndef __OPTR_NONE__
2126:str_merge.c   ****         optr_found = 0;
2127:str_merge.c   ****         if (optr_ref_cnt != 0) /* operator ref liststring id */
2128:str_merge.c   ****         {
2129:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2130:str_merge.c   ****             STRMERG_LOG_D("OP ref list item idx = %d",optr_search_index );
2131:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2132:str_merge.c   **** 
2133:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2134:str_merge.c   ****             optr_tmp_line = optr_ref_all + optr_search_index * g_line_buf_act_length;
2135:str_merge.c   **** #else
2136:str_merge.c   ****             /* Read a list item from optr_ref_all_list*/
2137:str_merge.c   ****             tmp_list_item = GetRefListItem(optr_ref_all_list,optr_search_index);
2138:str_merge.c   ****             /* NULL pointer check*/
2139:str_merge.c   ****             if(tmp_list_item != NULL)
2140:str_merge.c   ****             {
2141:str_merge.c   ****                 wcscpy(optr_tmp_line,tmp_list_item->ItemData);
2142:str_merge.c   ****             }
2143:str_merge.c   ****             else
2144:str_merge.c   ****             {
2145:str_merge.c   ****                 STRMERG_LOG_E("tmp_list_item in op list is NULL, idx = %d", optr_search_index);
2146:str_merge.c   ****             }
2147:str_merge.c   ****             /* Record the current scaning line in the op ref list */
2148:str_merge.c   ****             optr_tmp_line_indx = optr_search_index;
2149:str_merge.c   **** #endif  /*MEM_REF_LIST_OPT*/
2150:str_merge.c   ****             while (optr_search_cnt < optr_ref_cnt)
2151:str_merge.c   ****             {
2152:str_merge.c   ****                 token_id = 0;
2153:str_merge.c   ****                 GetItem(optr_tmp_line, token_id++, buf_ref);
2154:str_merge.c   ****                 /* Check if it is a new string*/
2155:str_merge.c   ****                 if (!wcscmp((wchar_t *)StrEnum[nStrId], buf_ref))
2156:str_merge.c   ****                 {
2157:str_merge.c   ****                     optr_found = 1;
2158:str_merge.c   ****                     break;
2159:str_merge.c   ****                 }
2160:str_merge.c   ****                 optr_search_cnt++;
2161:str_merge.c   ****                 optr_search_index++;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 97


2162:str_merge.c   ****                 if (optr_search_index >= optr_ref_cnt)
2163:str_merge.c   ****                     optr_search_index = 0;
2164:str_merge.c   **** 
2165:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2166:str_merge.c   ****                 optr_tmp_line += g_line_buf_act_length;
2167:str_merge.c   ****                 if (optr_tmp_line > optr_end_line)
2168:str_merge.c   ****                     optr_tmp_line = optr_ref_all;
2169:str_merge.c   **** #else
2170:str_merge.c   ****                 tmp_list_item = GetRefListItem(optr_ref_all_list,optr_search_index);
2171:str_merge.c   ****                 /* Read the next string line in optr ref list */
2172:str_merge.c   ****                 if(tmp_list_item!=NULL)
2173:str_merge.c   ****                 {
2174:str_merge.c   ****                     wcscpy(optr_tmp_line, tmp_list_item->ItemData);
2175:str_merge.c   ****                 }
2176:str_merge.c   ****                 else
2177:str_merge.c   ****                 {
2178:str_merge.c   ****                     wcscpy(optr_tmp_line,L"");
2179:str_merge.c   ****                 }
2180:str_merge.c   ****                 /* Record the current scanning line in optr ref list */
2181:str_merge.c   ****                 optr_tmp_line_indx = optr_search_index;
2182:str_merge.c   **** #endif  /*MEM_REF_LIST_OPT*/
2183:str_merge.c   ****             }
2184:str_merge.c   **** 
2185:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2186:str_merge.c   ****             STRMERG_LOG_D("Finished check opfound= %d", optr_found);
2187:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2188:str_merge.c   ****         }
2189:str_merge.c   **** 
2190:str_merge.c   **** #endif /* __OPTR_NONE__ */
2191:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2192:str_merge.c   ****         STRMERG_LOG_D("Process ref_all_list!! search_index = %d",search_index);
 3429              	LM428:
 3430 2293 8B859CE5 		movl	-6756(%ebp), %eax
 3430      FFFF
 3431 2299 8944240C 		movl	%eax, 12(%esp)
 3432 229d C7442408 		movl	$LC41, 8(%esp)
 3432      E0170000 
 3433 22a5 C7442404 		movl	$LC3, 4(%esp)
 3433      4B040000 
 3434 22ad C7042400 		movl	$0, (%esp)
 3434      000000
 3435 22b4 E8000000 		call	_reslog_adaptor_log
 3435      00
2193:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2194:str_merge.c   ****         found = 0;
 3437              	LM429:
 3438 22b9 C785C4E5 		movl	$0, -6716(%ebp)
 3438      FFFF0000 
 3438      0000
2195:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2196:str_merge.c   ****         tmp_line = ref_all + search_index * g_line_buf_act_length;
2197:str_merge.c   **** #else
2198:str_merge.c   ****         tmp_list_item = GetRefListItem(ref_all_list, search_index);
 3440              	LM430:
 3441 22c3 8B859CE5 		movl	-6756(%ebp), %eax
 3441      FFFF
 3442 22c9 89442404 		movl	%eax, 4(%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 98


 3443 22cd A1480000 		movl	_ref_all_list, %eax
 3443      00
 3444 22d2 890424   		movl	%eax, (%esp)
 3445 22d5 E84A5B00 		call	_GetRefListItem
 3445      00
 3446 22da 8945E0   		movl	%eax, -32(%ebp)
2199:str_merge.c   ****         if(tmp_list_item!=NULL)
 3448              	LM431:
 3449 22dd 837DE000 		cmpl	$0, -32(%ebp)
 3450 22e1 7416     		je	L210
2200:str_merge.c   ****         {
2201:str_merge.c   ****             /* Copy string line to temp line buffer */
2202:str_merge.c   ****             wcscpy(tmp_line,tmp_list_item->ItemData);
 3452              	LM432:
 3453 22e3 8B45E0   		movl	-32(%ebp), %eax
 3454 22e6 8B00     		movl	(%eax), %eax
 3455 22e8 89442404 		movl	%eax, 4(%esp)
 3456 22ec 8B45EC   		movl	-20(%ebp), %eax
 3457 22ef 890424   		movl	%eax, (%esp)
 3458 22f2 E8000000 		call	_wcscpy
 3458      00
 3459 22f7 EB13     		jmp	L211
 3460              	L210:
2203:str_merge.c   ****         }
2204:str_merge.c   ****         else{
2205:str_merge.c   ****                 wcscpy(tmp_line,L"");
 3462              	LM433:
 3463 22f9 C7442404 		movl	$LC12, 4(%esp)
 3463      460E0000 
 3464 2301 8B45EC   		movl	-20(%ebp), %eax
 3465 2304 890424   		movl	%eax, (%esp)
 3466 2307 E8000000 		call	_wcscpy
 3466      00
 3467              	L211:
2206:str_merge.c   ****         }
2207:str_merge.c   ****         /* Record scanning line index of ref list */
2208:str_merge.c   ****         tmp_line_indx = search_index;
 3469              	LM434:
 3470 230c 8B859CE5 		movl	-6756(%ebp), %eax
 3470      FFFF
 3471 2312 8945E4   		movl	%eax, -28(%ebp)
2209:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
2210:str_merge.c   **** 
2211:str_merge.c   **** 
2212:str_merge.c   ****         while ((search_cnt < ref_cnt) && !found)
 3473              	LM435:
 3474              	L212:
 3475 2315 8B85A0E5 		movl	-6752(%ebp), %eax
 3475      FFFF
 3476 231b 3B85A4E5 		cmpl	-6748(%ebp), %eax
 3476      FFFF
 3477 2321 0F8D0C03 		jge	L213
 3477      0000
 3478 2327 83BDC4E5 		cmpl	$0, -6716(%ebp)
 3478      FFFF00
 3479 232e 0F85FF02 		jne	L213
 3479      0000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 99


2213:str_merge.c   ****         {
2214:str_merge.c   ****             token_id = 0;
 3481              	LM436:
 3482 2334 C785D4E7 		movl	$0, -6188(%ebp)
 3482      FFFF0000 
 3482      0000
2215:str_merge.c   ****             GetItem(tmp_line, token_id++, buf_ref);
 3484              	LM437:
 3485 233e 8D85D8EF 		leal	-4136(%ebp), %eax
 3485      FFFF
 3486 2344 89442408 		movl	%eax, 8(%esp)
 3487 2348 8B85D4E7 		movl	-6188(%ebp), %eax
 3487      FFFF
 3488 234e 89442404 		movl	%eax, 4(%esp)
 3489 2352 8D85D4E7 		leal	-6188(%ebp), %eax
 3489      FFFF
 3490 2358 FF00     		incl	(%eax)
 3491 235a 8B45EC   		movl	-20(%ebp), %eax
 3492 235d 890424   		movl	%eax, (%esp)
 3493 2360 E8F0E0FF 		call	_GetItem
 3493      FF
2216:str_merge.c   ****             if (!wcscmp((wchar_t *)StrEnum[nStrId], buf_ref))
 3495              	LM438:
 3496 2365 8D85D8EF 		leal	-4136(%ebp), %eax
 3496      FFFF
 3497 236b 89442404 		movl	%eax, 4(%esp)
 3498 236f 0FB785B2 		movzwl	-6734(%ebp), %eax
 3498      E5FFFF
 3499 2376 8B048500 		movl	_StrEnum(,%eax,4), %eax
 3499      000000
 3500 237d 890424   		movl	%eax, (%esp)
 3501 2380 E8000000 		call	_wcscmp
 3501      00
 3502 2385 85C0     		testl	%eax, %eax
 3503 2387 0F85F801 		jne	L216
 3503      0000
2217:str_merge.c   ****             {
2218:str_merge.c   ****                 found = 1;
 3505              	LM439:
 3506 238d C785C4E5 		movl	$1, -6716(%ebp)
 3506      FFFF0100 
 3506      0000
2219:str_merge.c   ****                 StrLine[nStrId] = search_index + 1;
 3508              	LM440:
 3509 2397 0FB795B2 		movzwl	-6734(%ebp), %edx
 3509      E5FFFF
 3510 239e 8B859CE5 		movl	-6756(%ebp), %eax
 3510      FFFF
 3511 23a4 40       		incl	%eax
 3512 23a5 66898412 		movw	%ax, _StrLine(%edx,%edx)
 3512      D8000000 
2220:str_merge.c   **** 
2221:str_merge.c   ****                 wcscpy(tmp_buf, (wchar_t *)StrEnum[nStrId]); /* print out Enum Values */
 3514              	LM441:
 3515 23ad 0FB785B2 		movzwl	-6734(%ebp), %eax
 3515      E5FFFF
 3516 23b4 8B048500 		movl	_StrEnum(,%eax,4), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 100


 3516      000000
 3517 23bb 89442404 		movl	%eax, 4(%esp)
 3518 23bf 8D85D8E7 		leal	-6184(%ebp), %eax
 3518      FFFF
 3519 23c5 890424   		movl	%eax, (%esp)
 3520 23c8 E8000000 		call	_wcscpy
 3520      00
2222:str_merge.c   **** 
2223:str_merge.c   ****                 /* output content of fix columns */
2224:str_merge.c   ****                 OutputFixColumns(tmp_line, &token_id, buf_src, tmp_buf, ref_tmp);
 3522              	LM442:
 3523 23cd A1680000 		movl	_ref_tmp, %eax
 3523      00
 3524 23d2 89442410 		movl	%eax, 16(%esp)
 3525 23d6 8D85D8E7 		leal	-6184(%ebp), %eax
 3525      FFFF
 3526 23dc 8944240C 		movl	%eax, 12(%esp)
 3527 23e0 8D85D8F7 		leal	-2088(%ebp), %eax
 3527      FFFF
 3528 23e6 89442408 		movl	%eax, 8(%esp)
 3529 23ea 8D85D4E7 		leal	-6188(%ebp), %eax
 3529      FFFF
 3530 23f0 89442404 		movl	%eax, 4(%esp)
 3531 23f4 8B45EC   		movl	-20(%ebp), %eax
 3532 23f7 890424   		movl	%eax, (%esp)
 3533 23fa E8B9E1FF 		call	_OutputFixColumns
 3533      FF
2225:str_merge.c   **** 
2226:str_merge.c   ****                 missLanguage = 0;
 3535              	LM443:
 3536 23ff C785B8E5 		movl	$0, -6728(%ebp)
 3536      FFFF0000 
 3536      0000
2227:str_merge.c   ****                 for (i = 0; i < nUsedLang; i++)
 3538              	LM444:
 3539 2409 C785C0E5 		movl	$0, -6720(%ebp)
 3539      FFFF0000 
 3539      0000
 3540              	L217:
 3541 2413 0FB70598 		movzwl	_nUsedLang, %eax
 3541      000000
 3542 241a 3985C0E5 		cmpl	%eax, -6720(%ebp)
 3542      FFFF
 3543 2420 7C05     		jl	L220
 3544 2422 E9CC0000 		jmp	L218
 3544      00
 3545              	L220:
2228:str_merge.c   ****                 {
2229:str_merge.c   ****                     GetItem(tmp_line, i + token_id, buf_ref);
 3547              	LM445:
 3548 2427 8D85D8EF 		leal	-4136(%ebp), %eax
 3548      FFFF
 3549 242d 89442408 		movl	%eax, 8(%esp)
 3550 2431 8B85D4E7 		movl	-6188(%ebp), %eax
 3550      FFFF
 3551 2437 0385C0E5 		addl	-6720(%ebp), %eax
 3551      FFFF
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 101


 3552 243d 89442404 		movl	%eax, 4(%esp)
 3553 2441 8B45EC   		movl	-20(%ebp), %eax
 3554 2444 890424   		movl	%eax, (%esp)
 3555 2447 E809E0FF 		call	_GetItem
 3555      FF
2230:str_merge.c   **** 
2231:str_merge.c   ****                     /* operator support */
2232:str_merge.c   **** #ifndef __OPTR_NONE__
2233:str_merge.c   ****                     if (optr_found == 1 && optr_lang_mask[i])
2234:str_merge.c   ****                     {
2235:str_merge.c   ****                         GetItem(optr_tmp_line, 3 + optr_lang_mask[i], buf_ref);
2236:str_merge.c   ****                     }
2237:str_merge.c   **** #endif /* __OPTR_NONE__ */
2238:str_merge.c   **** 
2239:str_merge.c   ****                     if (buf_ref[0] == '\0')
 3557              	LM446:
 3558 244c 6683BDD8 		cmpw	$0, -4136(%ebp)
 3558      EFFFFF00 
 3559 2454 754E     		jne	L221
2240:str_merge.c   ****                     {
2241:str_merge.c   ****                         /* if there is no corresponding string translation, use English */
2242:str_merge.c   ****                         missLanguage = 1;
 3561              	LM447:
 3562 2456 C785B8E5 		movl	$1, -6728(%ebp)
 3562      FFFF0100 
 3562      0000
2243:str_merge.c   ****                         wcscat(tmp_buf, L"\tV");
 3564              	LM448:
 3565 2460 C7442404 		movl	$LC42, 4(%esp)
 3565      0A180000 
 3566 2468 8D85D8E7 		leal	-6184(%ebp), %eax
 3566      FFFF
 3567 246e 890424   		movl	%eax, (%esp)
 3568 2471 E8000000 		call	_wcscat
 3568      00
2244:str_merge.c   **** 
2245:str_merge.c   ****                         wcscat(ref_tmp, L"\t");
 3570              	LM449:
 3571 2476 C7442404 		movl	$LC0, 4(%esp)
 3571      48000000 
 3572 247e A1680000 		movl	_ref_tmp, %eax
 3572      00
 3573 2483 890424   		movl	%eax, (%esp)
 3574 2486 E8000000 		call	_wcscat
 3574      00
2246:str_merge.c   ****                         wcscat(ref_tmp, marker);
 3576              	LM450:
 3577 248b 8D85ACE5 		leal	-6740(%ebp), %eax
 3577      FFFF
 3578 2491 89442404 		movl	%eax, 4(%esp)
 3579 2495 A1680000 		movl	_ref_tmp, %eax
 3579      00
 3580 249a 890424   		movl	%eax, (%esp)
 3581 249d E8000000 		call	_wcscat
 3581      00
 3582 24a2 EB42     		jmp	L219
 3583              	L221:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 102


2247:str_merge.c   ****                     }
2248:str_merge.c   ****                     else
2249:str_merge.c   ****                     {
2250:str_merge.c   ****                         wcscat(tmp_buf, L"\t");
 3585              	LM451:
 3586 24a4 C7442404 		movl	$LC0, 4(%esp)
 3586      48000000 
 3587 24ac 8D85D8E7 		leal	-6184(%ebp), %eax
 3587      FFFF
 3588 24b2 890424   		movl	%eax, (%esp)
 3589 24b5 E8000000 		call	_wcscat
 3589      00
2251:str_merge.c   **** 
2252:str_merge.c   ****                         /* for possible missing language translation */
2253:str_merge.c   ****                         wcscat(ref_tmp, L"\t");
 3591              	LM452:
 3592 24ba C7442404 		movl	$LC0, 4(%esp)
 3592      48000000 
 3593 24c2 A1680000 		movl	_ref_tmp, %eax
 3593      00
 3594 24c7 890424   		movl	%eax, (%esp)
 3595 24ca E8000000 		call	_wcscat
 3595      00
2254:str_merge.c   ****                         wcscat(ref_tmp, buf_ref);
 3597              	LM453:
 3598 24cf 8D85D8EF 		leal	-4136(%ebp), %eax
 3598      FFFF
 3599 24d5 89442404 		movl	%eax, 4(%esp)
 3600 24d9 A1680000 		movl	_ref_tmp, %eax
 3600      00
 3601 24de 890424   		movl	%eax, (%esp)
 3602 24e1 E8000000 		call	_wcscat
 3602      00
 3604              	LM454:
 3605              	L219:
 3606 24e6 8D85C0E5 		leal	-6720(%ebp), %eax
 3606      FFFF
 3607 24ec FF00     		incl	(%eax)
 3608 24ee E920FFFF 		jmp	L217
 3608      FF
 3609              	L218:
2255:str_merge.c   ****                     }
2256:str_merge.c   ****                 }
2257:str_merge.c   ****                 if (missLanguage == 1)
 3611              	LM455:
 3612 24f3 83BDB8E5 		cmpl	$1, -6728(%ebp)
 3612      FFFF01
 3613 24fa 0F858500 		jne	L216
 3613      0000
2258:str_merge.c   ****                 {
2259:str_merge.c   ****                     wcscat(tmp_buf, L"\n");
 3615              	LM456:
 3616 2500 C7442404 		movl	$LC1, 4(%esp)
 3616      4C000000 
 3617 2508 8D85D8E7 		leal	-6184(%ebp), %eax
 3617      FFFF
 3618 250e 890424   		movl	%eax, (%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 103


 3619 2511 E8000000 		call	_wcscat
 3619      00
2260:str_merge.c   ****                     UCS2ASCII((char*)tmp_buf, buf_asc);
 3621              	LM457:
 3622 2516 8D85C8E5 		leal	-6712(%ebp), %eax
 3622      FFFF
 3623 251c 89442404 		movl	%eax, 4(%esp)
 3624 2520 8D85D8E7 		leal	-6184(%ebp), %eax
 3624      FFFF
 3625 2526 890424   		movl	%eax, (%esp)
 3626 2529 E8B5DEFF 		call	_UCS2ASCII
 3626      FF
2261:str_merge.c   ****                     fprintf(fail, "%s", buf_asc);
 3628              	LM458:
 3629 252e 8D85C8E5 		leal	-6712(%ebp), %eax
 3629      FFFF
 3630 2534 89442408 		movl	%eax, 8(%esp)
 3631 2538 C7442404 		movl	$LC32, 4(%esp)
 3631      49160000 
 3632 2540 8B45F0   		movl	-16(%ebp), %eax
 3633 2543 890424   		movl	%eax, (%esp)
 3634 2546 E8000000 		call	_fprintf
 3634      00
2262:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2263:str_merge.c   ****                     STRMERG_LOG_V("missLanguage found!! search_index = %d",search_index);     
 3636              	LM459:
 3637 254b 8B859CE5 		movl	-6756(%ebp), %eax
 3637      FFFF
 3638 2551 8944240C 		movl	%eax, 12(%esp)
 3639 2555 C7442408 		movl	$LC43, 8(%esp)
 3639      20180000 
 3640 255d C7442404 		movl	$LC3, 4(%esp)
 3640      4B040000 
 3641 2565 C7042401 		movl	$1, (%esp)
 3641      000000
 3642 256c E8000000 		call	_reslog_adaptor_log
 3642      00
2264:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2265:str_merge.c   **** 
2266:str_merge.c   ****                     /* replace string content */
2267:str_merge.c   ****                     wcscpy(tmp_line, ref_tmp);
 3644              	LM460:
 3645 2571 A1680000 		movl	_ref_tmp, %eax
 3645      00
 3646 2576 89442404 		movl	%eax, 4(%esp)
 3647 257a 8B45EC   		movl	-20(%ebp), %eax
 3648 257d 890424   		movl	%eax, (%esp)
 3649 2580 E8000000 		call	_wcscpy
 3649      00
 3650              	L216:
2268:str_merge.c   ****                 }
2269:str_merge.c   **** #ifndef __OPTR_NONE__
2270:str_merge.c   ****                 else if (optr_found == 1)
2271:str_merge.c   ****                 {
2272:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2273:str_merge.c   ****                     STRMERG_LOG_D("OPTR found!! search_index = %d",search_index);     
2274:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 104


2275:str_merge.c   ****                     /* replace string content */
2276:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2277:str_merge.c   ****                     wcscpy(tmp_line, ref_tmp);
2278:str_merge.c   **** #else
2279:str_merge.c   ****                     tmp_list_item = CreateListItemFromStr(ref_tmp);
2280:str_merge.c   ****                     SetRefListItem(ref_all_list, tmp_line_indx,tmp_list_item );
2281:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
2282:str_merge.c   ****                 }
2283:str_merge.c   **** #endif /* __OPTR_NONE__ */
2284:str_merge.c   ****             }
2285:str_merge.c   ****             if (!found)
 3652              	LM461:
 3653 2585 83BDC4E5 		cmpl	$0, -6716(%ebp)
 3653      FFFF00
 3654 258c 7508     		jne	L224
2286:str_merge.c   ****             {
2287:str_merge.c   ****                 search_cnt++;
 3656              	LM462:
 3657 258e 8D85A0E5 		leal	-6752(%ebp), %eax
 3657      FFFF
 3658 2594 FF00     		incl	(%eax)
 3659              	L224:
2288:str_merge.c   ****             }
2289:str_merge.c   ****             search_index++;
 3661              	LM463:
 3662 2596 8D859CE5 		leal	-6756(%ebp), %eax
 3662      FFFF
 3663 259c FF00     		incl	(%eax)
2290:str_merge.c   ****             if (search_index >= ref_cnt)
 3665              	LM464:
 3666 259e 8B859CE5 		movl	-6756(%ebp), %eax
 3666      FFFF
 3667 25a4 3B85A4E5 		cmpl	-6748(%ebp), %eax
 3667      FFFF
 3668 25aa 7C0A     		jl	L225
2291:str_merge.c   ****                 search_index = 0;
 3670              	LM465:
 3671 25ac C7859CE5 		movl	$0, -6756(%ebp)
 3671      FFFF0000 
 3671      0000
 3672              	L225:
2292:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2293:str_merge.c   ****             tmp_line += g_line_buf_act_length;
2294:str_merge.c   ****             if (tmp_line > end_line)
2295:str_merge.c   ****                 tmp_line = ref_all;
2296:str_merge.c   **** #else
2297:str_merge.c   ****             tmp_list_item = GetRefListItem(ref_all_list, search_index);
 3674              	LM466:
 3675 25b6 8B859CE5 		movl	-6756(%ebp), %eax
 3675      FFFF
 3676 25bc 89442404 		movl	%eax, 4(%esp)
 3677 25c0 A1480000 		movl	_ref_all_list, %eax
 3677      00
 3678 25c5 890424   		movl	%eax, (%esp)
 3679 25c8 E8575800 		call	_GetRefListItem
 3679      00
 3680 25cd 8945E0   		movl	%eax, -32(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 105


2298:str_merge.c   ****             if(tmp_list_item!=NULL)
 3682              	LM467:
 3683 25d0 837DE000 		cmpl	$0, -32(%ebp)
 3684 25d4 7416     		je	L226
2299:str_merge.c   ****             {
2300:str_merge.c   ****                 /* read scanning line to buffer */
2301:str_merge.c   ****                 wcscpy(tmp_line,tmp_list_item->ItemData);
 3686              	LM468:
 3687 25d6 8B45E0   		movl	-32(%ebp), %eax
 3688 25d9 8B00     		movl	(%eax), %eax
 3689 25db 89442404 		movl	%eax, 4(%esp)
 3690 25df 8B45EC   		movl	-20(%ebp), %eax
 3691 25e2 890424   		movl	%eax, (%esp)
 3692 25e5 E8000000 		call	_wcscpy
 3692      00
 3693 25ea EB39     		jmp	L227
 3694              	L226:
2302:str_merge.c   ****             }
2303:str_merge.c   ****             else
2304:str_merge.c   ****             {
2305:str_merge.c   ****                 STRMERG_LOG_D("item in ref list is NULL: %d ",search_index);
 3696              	LM469:
 3697 25ec 8B859CE5 		movl	-6756(%ebp), %eax
 3697      FFFF
 3698 25f2 8944240C 		movl	%eax, 12(%esp)
 3699 25f6 C7442408 		movl	$LC44, 8(%esp)
 3699      47180000 
 3700 25fe C7442404 		movl	$LC3, 4(%esp)
 3700      4B040000 
 3701 2606 C7042400 		movl	$0, (%esp)
 3701      000000
 3702 260d E8000000 		call	_reslog_adaptor_log
 3702      00
2306:str_merge.c   ****                 wcscpy(tmp_line,L"");
 3704              	LM470:
 3705 2612 C7442404 		movl	$LC12, 4(%esp)
 3705      460E0000 
 3706 261a 8B45EC   		movl	-20(%ebp), %eax
 3707 261d 890424   		movl	%eax, (%esp)
 3708 2620 E8000000 		call	_wcscpy
 3708      00
 3709              	L227:
2307:str_merge.c   ****             }
2308:str_merge.c   ****             tmp_line_indx = search_index;
 3711              	LM471:
 3712 2625 8B859CE5 		movl	-6756(%ebp), %eax
 3712      FFFF
 3713 262b 8945E4   		movl	%eax, -28(%ebp)
 3714 262e E9E2FCFF 		jmp	L212
 3714      FF
 3715              	L213:
2309:str_merge.c   **** #endif /* MEM_REF_LIST_OPT */
2310:str_merge.c   ****         }
2311:str_merge.c   ****         if (!found)
 3717              	LM472:
 3718 2633 83BDC4E5 		cmpl	$0, -6716(%ebp)
 3718      FFFF00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 106


 3719 263a 7547     		jne	L228
2312:str_merge.c   ****         {
2313:str_merge.c   **** #ifndef __OPTR_NONE__
2314:str_merge.c   ****             if (optr_found == 1)
2315:str_merge.c   ****             {
2316:str_merge.c   ****                 /* for strings only in operator_ref_list.txt */
2317:str_merge.c   ****                 int optr_token_id = 0;
2318:str_merge.c   **** 
2319:str_merge.c   ****                 GetItem(optr_tmp_line, optr_token_id++, buf_src);
2320:str_merge.c   ****                 wcscpy(tmp_buf, (wchar_t *)buf_src); /* print out Enum Values */
2321:str_merge.c   **** 
2322:str_merge.c   ****                 /* output content of fix columns */
2323:str_merge.c   ****                 OutputFixColumns(optr_tmp_line, &optr_token_id, buf_src, tmp_buf, ref_tmp);
2324:str_merge.c   **** 
2325:str_merge.c   ****                 missLanguage = 0;
2326:str_merge.c   ****                 for (i = 0; i < nUsedLang; i++)
2327:str_merge.c   ****                 {
2328:str_merge.c   ****                     buf_ref[0] = '\0';
2329:str_merge.c   **** 
2330:str_merge.c   ****                     if (optr_lang_mask[i])
2331:str_merge.c   ****                     {
2332:str_merge.c   ****                         GetItem(optr_tmp_line, 3 + optr_lang_mask[i], buf_ref);
2333:str_merge.c   ****                     }
2334:str_merge.c   **** 
2335:str_merge.c   ****                     if (buf_ref[0] == '\0')
2336:str_merge.c   ****                     {
2337:str_merge.c   ****                         /* if there is no corresponding string translation, use English */
2338:str_merge.c   ****                         missLanguage = 1;
2339:str_merge.c   ****                         wcscat(tmp_buf, L"\tV");
2340:str_merge.c   **** 
2341:str_merge.c   ****                         wcscat(ref_tmp, L"\t");
2342:str_merge.c   ****                         wcscat(ref_tmp, marker);
2343:str_merge.c   ****                     }
2344:str_merge.c   ****                     else
2345:str_merge.c   ****                     {
2346:str_merge.c   ****                         wcscat(tmp_buf, L"\t");
2347:str_merge.c   **** 
2348:str_merge.c   ****                         /* will copy back to reference string table */
2349:str_merge.c   ****                         wcscat(ref_tmp, L"\t");
2350:str_merge.c   ****                         wcscat(ref_tmp, buf_ref);
2351:str_merge.c   ****                     }
2352:str_merge.c   ****                 }
2353:str_merge.c   **** 
2354:str_merge.c   ****                 if (missLanguage == 1)
2355:str_merge.c   ****                 {
2356:str_merge.c   ****                     wcscat(tmp_buf, L"\n");
2357:str_merge.c   ****                     UCS2ASCII((char*)tmp_buf, buf_asc);
2358:str_merge.c   ****                     fprintf(fail, "%s", buf_asc);
2359:str_merge.c   ****                 }
2360:str_merge.c   **** 
2361:str_merge.c   ****                 /* copy back to reference string table */
2362:str_merge.c   ****                 optr_new_cnt++;
2363:str_merge.c   ****                 StrLine[nStrId] = ref_cnt + optr_new_cnt;
2364:str_merge.c   **** #ifdef STR_MERGE_DEBUG
2365:str_merge.c   ****                 STRMERG_LOG_E("Copy Back nStrId = %d",nStrId);
2366:str_merge.c   **** #endif /* STR_MERGE_DEBUG */
2367:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 107


2368:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2369:str_merge.c   ****                 wcscpy((end_line + optr_new_cnt * g_line_buf_act_length), ref_tmp);
2370:str_merge.c   **** #else
2371:str_merge.c   ****                 tmp_list_item = CreateListItemFromStr(ref_tmp);
2372:str_merge.c   ****                 if(tmp_list_item!=NULL)
2373:str_merge.c   ****                 {
2374:str_merge.c   ****                     AddRefListItem(ref_all_list,tmp_list_item);
2375:str_merge.c   ****                 }
2376:str_merge.c   ****                 else
2377:str_merge.c   ****                 {
2378:str_merge.c   ****                     STRMERG_LOG_V("Copy back from an empty item in ref list, index = %d", optr_new_
2379:str_merge.c   ****                 }
2380:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
2381:str_merge.c   ****             }
2382:str_merge.c   ****             else
2383:str_merge.c   **** #endif /*__OPTR_NONE__*/
2384:str_merge.c   ****             {
2385:str_merge.c   ****                 /* didn't find any match */
2386:str_merge.c   ****                 StrNotTranslated = 0;
 3721              	LM473:
 3722 263c C785BCE5 		movl	$0, -6724(%ebp)
 3722      FFFF0000 
 3722      0000
2387:str_merge.c   ****                 UCS2ASCII((char*)StrEnum[nStrId], buf_asc);
 3724              	LM474:
 3725 2646 8D85C8E5 		leal	-6712(%ebp), %eax
 3725      FFFF
 3726 264c 89442404 		movl	%eax, 4(%esp)
 3727 2650 0FB785B2 		movzwl	-6734(%ebp), %eax
 3727      E5FFFF
 3728 2657 8B048500 		movl	_StrEnum(,%eax,4), %eax
 3728      000000
 3729 265e 890424   		movl	%eax, (%esp)
 3730 2661 E87DDDFF 		call	_UCS2ASCII
 3730      FF
2388:str_merge.c   ****                 fprintf(fail, "%s\t\t\tEmpty\n", buf_asc);
 3732              	LM475:
 3733 2666 8D85C8E5 		leal	-6712(%ebp), %eax
 3733      FFFF
 3734 266c 89442408 		movl	%eax, 8(%esp)
 3735 2670 C7442404 		movl	$LC45, 4(%esp)
 3735      65180000 
 3736 2678 8B45F0   		movl	-16(%ebp), %eax
 3737 267b 890424   		movl	%eax, (%esp)
 3738 267e E8000000 		call	_fprintf
 3738      00
 3739              	L228:
2389:str_merge.c   ****             }
2390:str_merge.c   ****         }
2391:str_merge.c   **** 
2392:str_merge.c   ****         gIndex++;
 3741              	LM476:
 3742 2683 8D85D0E7 		leal	-6192(%ebp), %eax
 3742      FFFF
 3743 2689 FF00     		incl	(%eax)
2393:str_merge.c   ****         nStrId++;
 3745              	LM477:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 108


 3746 268b 0FB785B2 		movzwl	-6734(%ebp), %eax
 3746      E5FFFF
 3747 2692 40       		incl	%eax
 3748 2693 668985B2 		movw	%ax, -6734(%ebp)
 3748      E5FFFF
2394:str_merge.c   ****         search_cnt = 0;
 3750              	LM478:
 3751 269a C785A0E5 		movl	$0, -6752(%ebp)
 3751      FFFF0000 
 3751      0000
 3752 26a4 E956FBFF 		jmp	L205
 3752      FF
 3753              	L206:
2395:str_merge.c   ****         /* operator support */
2396:str_merge.c   **** #ifndef __OPTR_NONE__
2397:str_merge.c   ****         optr_search_cnt = 0;
2398:str_merge.c   **** #endif
2399:str_merge.c   ****     }
2400:str_merge.c   **** 
2401:str_merge.c   **** #ifdef __TIME_CONSUME
2402:str_merge.c   ****     end_time = time(NULL);
2403:str_merge.c   ****     STRMERG_LOG_V("elapsed time = %d", end_time - start_time);
2404:str_merge.c   **** #endif /* __TIME_CONSUME */
2405:str_merge.c   **** 
2406:str_merge.c   ****     /* operator support */
2407:str_merge.c   **** #ifndef __OPTR_NONE__
2408:str_merge.c   ****     if (optr_lang_mask)
2409:str_merge.c   ****         free(optr_lang_mask);
2410:str_merge.c   ****     if (optr_ref_ssc)
2411:str_merge.c   ****         free(optr_ref_ssc);
2412:str_merge.c   ****     if(optr_filter_ref_ssc)
2413:str_merge.c   ****         free(optr_filter_ref_ssc);
2414:str_merge.c   **** /* Release ref list buffer memory*/
2415:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2416:str_merge.c   ****     if (optr_ref_all)
2417:str_merge.c   ****         free(optr_ref_all);
2418:str_merge.c   **** #else
2419:str_merge.c   ****     if(optr_tmp_line)
2420:str_merge.c   ****         free(optr_tmp_line);
2421:str_merge.c   ****     if(optr_ref_all_list)
2422:str_merge.c   ****         DeleteRefList(optr_ref_all_list);
2423:str_merge.c   **** #endif /* MEM_REF_LIST_OPT*/
2424:str_merge.c   ****     if (optr_ref)
2425:str_merge.c   ****         fclose(optr_ref);
2426:str_merge.c   **** #endif /* __OPTR_NONE__ */
2427:str_merge.c   **** 
2428:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
2429:str_merge.c   ****     if(tmp_line)
 3755              	LM479:
 3756 26a9 837DEC00 		cmpl	$0, -20(%ebp)
 3757 26ad 740B     		je	L229
2430:str_merge.c   ****         free(tmp_line);
 3759              	LM480:
 3760 26af 8B45EC   		movl	-20(%ebp), %eax
 3761 26b2 890424   		movl	%eax, (%esp)
 3762 26b5 E8000000 		call	_free
 3762      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 109


 3763              	L229:
2431:str_merge.c   **** #endif /* MEM_REF_LIST_OPT*/
2432:str_merge.c   **** 
2433:str_merge.c   **** #ifdef DEBUG_REF_LIST_DUMP
2434:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2435:str_merge.c   ****     DumpRefList(REFLISST_DUMP_FILE_AFTER_MERGE, ref_all, g_line_buf_act_length, count);
2436:str_merge.c   **** #else
2437:str_merge.c   ****     DumpRefList(REFLISST_DUMP_FILE_AFTER_MERGE, ref_all_list);
2438:str_merge.c   **** #endif /* MEM_REF_LIST_OPT*/
2439:str_merge.c   **** #endif /* DEBUG_REF_LIST_DUMP */
2440:str_merge.c   **** 
2441:str_merge.c   ****     fclose(ref);
 3765              	LM481:
 3766 26ba 8B45F4   		movl	-12(%ebp), %eax
 3767 26bd 890424   		movl	%eax, (%esp)
 3768 26c0 E8000000 		call	_fclose
 3768      00
2442:str_merge.c   ****     fclose(fail);
 3770              	LM482:
 3771 26c5 8B45F0   		movl	-16(%ebp), %eax
 3772 26c8 890424   		movl	%eax, (%esp)
 3773 26cb E8000000 		call	_fclose
 3773      00
2443:str_merge.c   ****     if (StrNotTranslated == 0)
 3775              	LM483:
 3776 26d0 83BDBCE5 		cmpl	$0, -6724(%ebp)
 3776      FFFF00
 3777 26d7 751C     		jne	L230
2444:str_merge.c   ****     {
2445:str_merge.c   ****         STRMERG_LOG_V("Please see NoTranslation.txt to see the result...");
 3779              	LM484:
 3780 26d9 C7442408 		movl	$LC46, 8(%esp)
 3780      80180000 
 3781 26e1 C7442404 		movl	$LC3, 4(%esp)
 3781      4B040000 
 3782 26e9 C7042401 		movl	$1, (%esp)
 3782      000000
 3783 26f0 E8000000 		call	_reslog_adaptor_log
 3783      00
 3784              	L230:
2446:str_merge.c   ****     }
2447:str_merge.c   **** 	
2448:str_merge.c   **** 	fflush(stdout); // flush log message
 3786              	LM485:
 3787 26f5 A1000000 		movl	__imp___iob, %eax
 3787      00
 3788 26fa 83C020   		addl	$32, %eax
 3789 26fd 890424   		movl	%eax, (%esp)
 3790 2700 E8000000 		call	_fflush
 3790      00
2449:str_merge.c   ****     return 0;
 3792              	LM486:
 3793              	LBB27:
 3794 2705 8BA58CE5 		movl	-6772(%ebp), %esp
 3794      FFFF
 3795              	LBE27:
 3796 270b C78590E5 		movl	$0, -6768(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 110


 3796      FFFF0000 
 3796      0000
 3797 2715 E9AB0000 		jmp	L189
 3797      00
 3798              	L194:
2450:str_merge.c   **** 
2451:str_merge.c   **** ERR_RET:
2452:str_merge.c   **** 	fflush(stdout); // flush log message
 3800              	LM487:
 3801 271a A1000000 		movl	__imp___iob, %eax
 3801      00
 3802 271f 83C020   		addl	$32, %eax
 3803 2722 890424   		movl	%eax, (%esp)
 3804 2725 E8000000 		call	_fflush
 3804      00
2453:str_merge.c   ****     if (ref_tmp)
 3806              	LM488:
 3807 272a 833D6800 		cmpl	$0, _ref_tmp
 3807      000000
 3808 2731 740D     		je	L231
2454:str_merge.c   ****         free(ref_tmp);
 3810              	LM489:
 3811 2733 A1680000 		movl	_ref_tmp, %eax
 3811      00
 3812 2738 890424   		movl	%eax, (%esp)
 3813 273b E8000000 		call	_free
 3813      00
 3814              	L231:
2455:str_merge.c   ****     if (ref_ssc)
 3816              	LM490:
 3817 2740 833D5800 		cmpl	$0, _ref_ssc
 3817      000000
 3818 2747 740D     		je	L232
2456:str_merge.c   ****         free(ref_ssc);
 3820              	LM491:
 3821 2749 A1580000 		movl	_ref_ssc, %eax
 3821      00
 3822 274e 890424   		movl	%eax, (%esp)
 3823 2751 E8000000 		call	_free
 3823      00
 3824              	L232:
2457:str_merge.c   **** 
2458:str_merge.c   **** /* Release ref list buffer memory*/
2459:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2460:str_merge.c   ****     if (ref_all)
2461:str_merge.c   ****         free(ref_all);
2462:str_merge.c   **** #else
2463:str_merge.c   ****     if(tmp_line)
 3826              	LM492:
 3827 2756 837DEC00 		cmpl	$0, -20(%ebp)
 3828 275a 740B     		je	L233
2464:str_merge.c   ****         free(tmp_line);
 3830              	LM493:
 3831 275c 8B45EC   		movl	-20(%ebp), %eax
 3832 275f 890424   		movl	%eax, (%esp)
 3833 2762 E8000000 		call	_free
 3833      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 111


 3834              	L233:
2465:str_merge.c   ****     if(ref_all_list)
 3836              	LM494:
 3837 2767 833D4800 		cmpl	$0, _ref_all_list
 3837      000000
 3838 276e 740D     		je	L234
2466:str_merge.c   ****         DeleteRefList(ref_all_list);
 3840              	LM495:
 3841 2770 A1480000 		movl	_ref_all_list, %eax
 3841      00
 3842 2775 890424   		movl	%eax, (%esp)
 3843 2778 E8DB5100 		call	_DeleteRefList
 3843      00
 3844              	L234:
2467:str_merge.c   **** #endif /*MEM_REF_LIST_OPT*/
2468:str_merge.c   **** 
2469:str_merge.c   ****     if(filter_ref_ssc)
 3846              	LM496:
 3847 277d 833D8800 		cmpl	$0, _filter_ref_ssc
 3847      000000
 3848 2784 740D     		je	L235
2470:str_merge.c   ****         free(filter_ref_ssc);
 3850              	LM497:
 3851 2786 A1880000 		movl	_filter_ref_ssc, %eax
 3851      00
 3852 278b 890424   		movl	%eax, (%esp)
 3853 278e E8000000 		call	_free
 3853      00
 3854              	L235:
2471:str_merge.c   ****     /* operator support */
2472:str_merge.c   **** #ifndef __OPTR_NONE__
2473:str_merge.c   ****     if (optr_lang_mask)
2474:str_merge.c   ****         free(optr_lang_mask);
2475:str_merge.c   ****     if (ref_ssc_list)
2476:str_merge.c   ****         free(ref_ssc_list);
2477:str_merge.c   ****     if (optr_ref_ssc)
2478:str_merge.c   ****         free(optr_ref_ssc);
2479:str_merge.c   **** 
2480:str_merge.c   **** /* Release OPTR ref list buffer memory*/
2481:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2482:str_merge.c   ****     if (optr_ref_all)
2483:str_merge.c   ****         free(optr_ref_all);
2484:str_merge.c   **** #else
2485:str_merge.c   ****     if(optr_ref_all_list)
2486:str_merge.c   ****         DeleteRefList(optr_ref_all_list);
2487:str_merge.c   ****     if(optr_tmp_line)
2488:str_merge.c   ****         free(optr_tmp_line);
2489:str_merge.c   **** #endif /*#ifndef MEM_REF_LIST_OPT*/
2490:str_merge.c   ****     if (optr_ref)
2491:str_merge.c   ****         fclose(optr_ref);
2492:str_merge.c   **** #endif /* __OPTR_NONE__ */
2493:str_merge.c   **** 
2494:str_merge.c   ****     if (ref)
 3856              	LM498:
 3857 2793 837DF400 		cmpl	$0, -12(%ebp)
 3858 2797 740B     		je	L236
2495:str_merge.c   ****         fclose(ref);
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 112


 3860              	LM499:
 3861 2799 8B45F4   		movl	-12(%ebp), %eax
 3862 279c 890424   		movl	%eax, (%esp)
 3863 279f E8000000 		call	_fclose
 3863      00
 3864              	L236:
2496:str_merge.c   ****     if (fail)
 3866              	LM500:
 3867 27a4 837DF000 		cmpl	$0, -16(%ebp)
 3868 27a8 740B     		je	L237
2497:str_merge.c   ****         fclose(fail);
 3870              	LM501:
 3871 27aa 8B45F0   		movl	-16(%ebp), %eax
 3872 27ad 890424   		movl	%eax, (%esp)
 3873 27b0 E8000000 		call	_fclose
 3873      00
 3874              	L237:
2498:str_merge.c   ****     return -1;
 3876              	LM502:
 3877              	LBB28:
 3878 27b5 8BA58CE5 		movl	-6772(%ebp), %esp
 3878      FFFF
 3879              	LBE28:
 3880 27bb C78590E5 		movl	$-1, -6768(%ebp)
 3880      FFFFFFFF 
 3880      FFFF
2499:str_merge.c   **** }
 3882              	LM503:
 3883              	L189:
 3884              	LBE23:
 3885 27c5 8B8590E5 		movl	-6768(%ebp), %eax
 3885      FFFF
 3886 27cb C9       		leave
 3887 27cc C3       		ret
 3917              	Lscope18:
 3922              	_mask_length:
2500:str_merge.c   **** 
2501:str_merge.c   **** 
2502:str_merge.c   **** /*****************************************************************************
2503:str_merge.c   ****  * FUNCTION
2504:str_merge.c   ****  *  mask_length
2505:str_merge.c   ****  * DESCRIPTION
2506:str_merge.c   ****  *  Get token between index and index+1 DELIMETER
2507:str_merge.c   ****  * PARAMETERS
2508:str_merge.c   ****  *  val     [IN]
2509:str_merge.c   ****  * RETURNS
2510:str_merge.c   ****  *  Return the mask bit count
2511:str_merge.c   ****  *****************************************************************************/
2512:str_merge.c   **** static int mask_length(int val)
2513:str_merge.c   **** {
 3924              	LM504:
 3925 27cd 55       		pushl	%ebp
 3926 27ce 89E5     		movl	%esp, %ebp
 3927 27d0 83EC08   		subl	$8, %esp
2514:str_merge.c   ****     /*----------------------------------------------------------------*/
2515:str_merge.c   ****     /* Local Variables                                                */
2516:str_merge.c   ****     /*----------------------------------------------------------------*/
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 113


2517:str_merge.c   ****     int l = 0, v;
 3929              	LM505:
 3930              	LBB29:
 3931 27d3 C745FC00 		movl	$0, -4(%ebp)
 3931      000000
2518:str_merge.c   **** 
2519:str_merge.c   ****     /*----------------------------------------------------------------*/
2520:str_merge.c   ****     /* Code Body                                                      */
2521:str_merge.c   ****     /*----------------------------------------------------------------*/
2522:str_merge.c   ****     v = val / 2;
 3933              	LM506:
 3934 27da 8B5508   		movl	8(%ebp), %edx
 3935 27dd 89D0     		movl	%edx, %eax
 3936 27df C1F81F   		sarl	$31, %eax
 3937 27e2 C1E81F   		shrl	$31, %eax
 3938 27e5 8D0410   		leal	(%eax,%edx), %eax
 3939 27e8 D1F8     		sarl	%eax
 3940 27ea 8945F8   		movl	%eax, -8(%ebp)
2523:str_merge.c   ****     while (v >= 1)
 3942              	LM507:
 3943              	L239:
 3944 27ed 837DF800 		cmpl	$0, -8(%ebp)
 3945 27f1 7F02     		jg	L241
 3946 27f3 EB1A     		jmp	L240
 3947              	L241:
2524:str_merge.c   ****     {
2525:str_merge.c   ****         l++;
 3949              	LM508:
 3950 27f5 8D45FC   		leal	-4(%ebp), %eax
 3951 27f8 FF00     		incl	(%eax)
2526:str_merge.c   ****         v = v / 2;
 3953              	LM509:
 3954 27fa 8B55F8   		movl	-8(%ebp), %edx
 3955 27fd 89D0     		movl	%edx, %eax
 3956 27ff C1F81F   		sarl	$31, %eax
 3957 2802 C1E81F   		shrl	$31, %eax
 3958 2805 8D0410   		leal	(%eax,%edx), %eax
 3959 2808 D1F8     		sarl	%eax
 3960 280a 8945F8   		movl	%eax, -8(%ebp)
 3961 280d EBDE     		jmp	L239
 3962              	L240:
2527:str_merge.c   ****     }
2528:str_merge.c   ****     return l;
 3964              	LM510:
 3965 280f 8B45FC   		movl	-4(%ebp), %eax
2529:str_merge.c   **** }
 3967              	LM511:
 3968 2812 C9       		leave
 3969 2813 C3       		ret
 3970              	LBE29:
 3975              	Lscope19:
 3981              	_pow:
2530:str_merge.c   **** 
2531:str_merge.c   **** 
2532:str_merge.c   **** /*****************************************************************************
2533:str_merge.c   ****  * FUNCTION
2534:str_merge.c   ****  *  pow
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 114


2535:str_merge.c   ****  * DESCRIPTION
2536:str_merge.c   ****  *  Calculate base raised to the power of index
2537:str_merge.c   ****  * PARAMETERS
2538:str_merge.c   ****  *  base    [IN]
2539:str_merge.c   ****  *  index   [IN]
2540:str_merge.c   ****  * RETURNS
2541:str_merge.c   ****  *  Return the value: base raised to the power of index
2542:str_merge.c   ****  *****************************************************************************/
2543:str_merge.c   **** static int pow(int base, int index)
2544:str_merge.c   **** {
 3983              	LM512:
 3984 2814 55       		pushl	%ebp
 3985 2815 89E5     		movl	%esp, %ebp
 3986 2817 83EC08   		subl	$8, %esp
2545:str_merge.c   ****     /*----------------------------------------------------------------*/
2546:str_merge.c   ****     /* Local Variables                                                */
2547:str_merge.c   ****     /*----------------------------------------------------------------*/
2548:str_merge.c   ****     int i, ret = 1;
 3988              	LM513:
 3989              	LBB30:
 3990 281a C745F801 		movl	$1, -8(%ebp)
 3990      000000
2549:str_merge.c   **** 
2550:str_merge.c   ****     /*----------------------------------------------------------------*/
2551:str_merge.c   ****     /* Code Body                                                      */
2552:str_merge.c   ****     /*----------------------------------------------------------------*/
2553:str_merge.c   ****     for (i = 0; i < index; i++)
 3992              	LM514:
 3993 2821 C745FC00 		movl	$0, -4(%ebp)
 3993      000000
 3994              	L243:
 3995 2828 8B45FC   		movl	-4(%ebp), %eax
 3996 282b 3B450C   		cmpl	12(%ebp), %eax
 3997 282e 7C02     		jl	L246
 3998 2830 EB11     		jmp	L244
 3999              	L246:
2554:str_merge.c   ****         ret = ret * base;
 4001              	LM515:
 4002 2832 8B45F8   		movl	-8(%ebp), %eax
 4003 2835 0FAF4508 		imull	8(%ebp), %eax
 4004 2839 8945F8   		movl	%eax, -8(%ebp)
 4006              	LM516:
 4007 283c 8D45FC   		leal	-4(%ebp), %eax
 4008 283f FF00     		incl	(%eax)
 4009 2841 EBE5     		jmp	L243
 4010              	L244:
2555:str_merge.c   ****     return ret;
 4012              	LM517:
 4013 2843 8B45F8   		movl	-8(%ebp), %eax
2556:str_merge.c   **** }
 4015              	LM518:
 4016 2846 C9       		leave
 4017 2847 C3       		ret
 4018              	LBE30:
 4023              	Lscope20:
 4029              	_fmod:
2557:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 115


2558:str_merge.c   **** 
2559:str_merge.c   **** /*****************************************************************************
2560:str_merge.c   ****  * FUNCTION
2561:str_merge.c   ****  *  fmod
2562:str_merge.c   ****  * DESCRIPTION
2563:str_merge.c   ****  *  Calculate the remainder
2564:str_merge.c   ****  * PARAMETERS
2565:str_merge.c   ****  *  denominator [IN]
2566:str_merge.c   ****  *  numerator   [IN]
2567:str_merge.c   ****  * RETURNS
2568:str_merge.c   ****  *  Return the remainder of denominator / numerator
2569:str_merge.c   ****  *****************************************************************************/
2570:str_merge.c   **** static int fmod(int denominator, int numerator)
2571:str_merge.c   **** {
 4031              	LM519:
 4032 2848 55       		pushl	%ebp
 4033 2849 89E5     		movl	%esp, %ebp
 4034 284b 83EC04   		subl	$4, %esp
2572:str_merge.c   ****     /*----------------------------------------------------------------*/
2573:str_merge.c   ****     /* Local Variables                                                */
2574:str_merge.c   ****     /*----------------------------------------------------------------*/
2575:str_merge.c   ****     int ret = denominator;
 4036              	LM520:
 4037              	LBB31:
 4038 284e 8B4508   		movl	8(%ebp), %eax
 4039 2851 8945FC   		movl	%eax, -4(%ebp)
2576:str_merge.c   **** 
2577:str_merge.c   ****     /*----------------------------------------------------------------*/
2578:str_merge.c   ****     /* Code Body                                                      */
2579:str_merge.c   ****     /*----------------------------------------------------------------*/
2580:str_merge.c   ****     while (ret >= numerator)
 4041              	LM521:
 4042              	L248:
 4043 2854 8B45FC   		movl	-4(%ebp), %eax
 4044 2857 3B450C   		cmpl	12(%ebp), %eax
 4045 285a 7D02     		jge	L250
 4046 285c EB0A     		jmp	L249
 4047              	L250:
2581:str_merge.c   ****         ret = ret - numerator;
 4049              	LM522:
 4050 285e 8B550C   		movl	12(%ebp), %edx
 4051 2861 8D45FC   		leal	-4(%ebp), %eax
 4052 2864 2910     		subl	%edx, (%eax)
 4053 2866 EBEC     		jmp	L248
 4054              	L249:
2582:str_merge.c   ****     return ret;
 4056              	LM523:
 4057 2868 8B45FC   		movl	-4(%ebp), %eax
2583:str_merge.c   **** }
 4059              	LM524:
 4060 286b C9       		leave
 4061 286c C3       		ret
 4062              	LBE31:
 4066              	Lscope21:
 4072              	_GetHashValue:
2584:str_merge.c   **** 
2585:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 116


2586:str_merge.c   **** /*****************************************************************************
2587:str_merge.c   ****  * FUNCTION
2588:str_merge.c   ****  *  GetHashValue
2589:str_merge.c   ****  * DESCRIPTION
2590:str_merge.c   ****  *  Calculate the hash value of input string
2591:str_merge.c   ****  * PARAMETERS
2592:str_merge.c   ****  *  string      [IN]
2593:str_merge.c   ****  *  hash_range  [IN]
2594:str_merge.c   ****  * RETURNS
2595:str_merge.c   ****  *  Return the hash value
2596:str_merge.c   ****  *****************************************************************************/
2597:str_merge.c   **** static int GetHashValue(wchar_t *string, int hash_range)
2598:str_merge.c   **** {
 4074              	LM525:
 4075 286d 55       		pushl	%ebp
 4076 286e 89E5     		movl	%esp, %ebp
 4077 2870 83EC18   		subl	$24, %esp
2599:str_merge.c   ****     /*----------------------------------------------------------------*/
2600:str_merge.c   ****     /* Local Variables                                                */
2601:str_merge.c   ****     /*----------------------------------------------------------------*/
2602:str_merge.c   ****     int length = mask_length(hash_range);
 4079              	LM526:
 4080              	LBB32:
 4081 2873 8B450C   		movl	12(%ebp), %eax
 4082 2876 890424   		movl	%eax, (%esp)
 4083 2879 E84FFFFF 		call	_mask_length
 4083      FF
 4084 287e 8945FC   		movl	%eax, -4(%ebp)
2603:str_merge.c   ****     int mask = (int)pow(2, length) - 1;
 4086              	LM527:
 4087 2881 8B45FC   		movl	-4(%ebp), %eax
 4088 2884 89442404 		movl	%eax, 4(%esp)
 4089 2888 C7042402 		movl	$2, (%esp)
 4089      000000
 4090 288f E880FFFF 		call	_pow
 4090      FF
 4091 2894 48       		decl	%eax
 4092 2895 8945F8   		movl	%eax, -8(%ebp)
2604:str_merge.c   ****     int i = 0;
 4094              	LM528:
 4095 2898 C745F400 		movl	$0, -12(%ebp)
 4095      000000
2605:str_merge.c   ****     long val = 0;
 4097              	LM529:
 4098 289f C745F000 		movl	$0, -16(%ebp)
 4098      000000
2606:str_merge.c   **** 
2607:str_merge.c   ****     /*----------------------------------------------------------------*/
2608:str_merge.c   ****     /* Code Body                                                      */
2609:str_merge.c   ****     /*----------------------------------------------------------------*/
2610:str_merge.c   ****     for (i = 0; i < (int)wcslen(string); i++)
 4100              	LM530:
 4101 28a6 C745F400 		movl	$0, -12(%ebp)
 4101      000000
 4102              	L252:
 4103 28ad 8B4508   		movl	8(%ebp), %eax
 4104 28b0 890424   		movl	%eax, (%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 117


 4105 28b3 E8000000 		call	_wcslen
 4105      00
 4106 28b8 3945F4   		cmpl	%eax, -12(%ebp)
 4107 28bb 7C02     		jl	L255
 4108 28bd EB30     		jmp	L253
 4109              	L255:
2611:str_merge.c   ****     {
2612:str_merge.c   ****         val += ((string[i] + val * 37) & mask);
 4111              	LM531:
 4112 28bf 8B45F4   		movl	-12(%ebp), %eax
 4113 28c2 8D1400   		leal	(%eax,%eax), %edx
 4114 28c5 8B4508   		movl	8(%ebp), %eax
 4115 28c8 0FB70C10 		movzwl	(%eax,%edx), %ecx
 4116 28cc 8B55F0   		movl	-16(%ebp), %edx
 4117 28cf 89D0     		movl	%edx, %eax
 4118 28d1 C1E003   		sall	$3, %eax
 4119 28d4 01D0     		addl	%edx, %eax
 4120 28d6 C1E002   		sall	$2, %eax
 4121 28d9 01D0     		addl	%edx, %eax
 4122 28db 8D0408   		leal	(%eax,%ecx), %eax
 4123 28de 89C2     		movl	%eax, %edx
 4124 28e0 2355F8   		andl	-8(%ebp), %edx
 4125 28e3 8D45F0   		leal	-16(%ebp), %eax
 4126 28e6 0110     		addl	%edx, (%eax)
 4128              	LM532:
 4129 28e8 8D45F4   		leal	-12(%ebp), %eax
 4130 28eb FF00     		incl	(%eax)
 4131 28ed EBBE     		jmp	L252
 4132              	L253:
2613:str_merge.c   ****     }
2614:str_merge.c   ****     val = fmod(val, hash_range);
 4134              	LM533:
 4135 28ef 8B450C   		movl	12(%ebp), %eax
 4136 28f2 89442404 		movl	%eax, 4(%esp)
 4137 28f6 8B45F0   		movl	-16(%ebp), %eax
 4138 28f9 890424   		movl	%eax, (%esp)
 4139 28fc E847FFFF 		call	_fmod
 4139      FF
 4140 2901 8945F0   		movl	%eax, -16(%ebp)
2615:str_merge.c   ****     return (int)val;
 4142              	LM534:
 4143 2904 8B45F0   		movl	-16(%ebp), %eax
2616:str_merge.c   **** }
 4145              	LM535:
 4146 2907 C9       		leave
 4147 2908 C3       		ret
 4148              	LBE32:
 4155              	Lscope22:
 4161              	_Trans:
2617:str_merge.c   **** 
2618:str_merge.c   **** 
2619:str_merge.c   **** /*****************************************************************************
2620:str_merge.c   ****  * FUNCTION
2621:str_merge.c   ****  *  Trans
2622:str_merge.c   ****  * DESCRIPTION
2623:str_merge.c   ****  *  Transform UCS2-encoding "\","n" to "\n"
2624:str_merge.c   ****  * PARAMETERS
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 118


2625:str_merge.c   ****  *  string  [IN]
2626:str_merge.c   ****  *  buf     [OUT]
2627:str_merge.c   ****  * RETURNS
2628:str_merge.c   ****  *  Return 1 if transformed, otherwise, return 0
2629:str_merge.c   ****  *****************************************************************************/
2630:str_merge.c   **** static int Trans(wchar_t *string, wchar_t *buf)
2631:str_merge.c   **** {
 4163              	LM536:
 4164 2909 55       		pushl	%ebp
 4165 290a 89E5     		movl	%esp, %ebp
 4166 290c 53       		pushl	%ebx
 4167 290d 83EC14   		subl	$20, %esp
2632:str_merge.c   ****     /*----------------------------------------------------------------*/
2633:str_merge.c   ****     /* Local Variables                                                */
2634:str_merge.c   ****     /*----------------------------------------------------------------*/
2635:str_merge.c   ****     int i = 0;
 4169              	LM537:
 4170              	LBB33:
 4171 2910 C745F800 		movl	$0, -8(%ebp)
 4171      000000
2636:str_merge.c   ****     int l = 0, ret = 0;
 4173              	LM538:
 4174 2917 C745F400 		movl	$0, -12(%ebp)
 4174      000000
 4175 291e C745F000 		movl	$0, -16(%ebp)
 4175      000000
2637:str_merge.c   **** 
2638:str_merge.c   ****     /*----------------------------------------------------------------*/
2639:str_merge.c   ****     /* Code Body                                                      */
2640:str_merge.c   ****     /*----------------------------------------------------------------*/
2641:str_merge.c   ****     for (i = 0; i < wcslen(string); i++)
 4177              	LM539:
 4178 2925 C745F800 		movl	$0, -8(%ebp)
 4178      000000
 4179              	L257:
 4180 292c 8B4508   		movl	8(%ebp), %eax
 4181 292f 890424   		movl	%eax, (%esp)
 4182 2932 E8000000 		call	_wcslen
 4182      00
 4183 2937 3945F8   		cmpl	%eax, -8(%ebp)
 4184 293a 7202     		jb	L260
 4185 293c EB64     		jmp	L258
 4186              	L260:
2642:str_merge.c   ****     {
2643:str_merge.c   ****         if (string[i] == L'\\' && string[i + 1] == L'n')
 4188              	LM540:
 4189 293e 8B45F8   		movl	-8(%ebp), %eax
 4190 2941 8D1400   		leal	(%eax,%eax), %edx
 4191 2944 8B4508   		movl	8(%ebp), %eax
 4192 2947 66833C10 		cmpw	$92, (%eax,%edx)
 4192      5C
 4193 294c 752E     		jne	L261
 4194 294e 8B45F8   		movl	-8(%ebp), %eax
 4195 2951 01C0     		addl	%eax, %eax
 4196 2953 034508   		addl	8(%ebp), %eax
 4197 2956 83C002   		addl	$2, %eax
 4198 2959 6683386E 		cmpw	$110, (%eax)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 119


 4199 295d 751D     		jne	L261
2644:str_merge.c   ****         {
2645:str_merge.c   ****             buf[l] = '\n';
 4201              	LM541:
 4202 295f 8B45F4   		movl	-12(%ebp), %eax
 4203 2962 8D1400   		leal	(%eax,%eax), %edx
 4204 2965 8B450C   		movl	12(%ebp), %eax
 4205 2968 66C70410 		movw	$10, (%eax,%edx)
 4205      0A00
2646:str_merge.c   ****             i++;
 4207              	LM542:
 4208 296e 8D45F8   		leal	-8(%ebp), %eax
 4209 2971 FF00     		incl	(%eax)
2647:str_merge.c   ****             ret = 1;
 4211              	LM543:
 4212 2973 C745F001 		movl	$1, -16(%ebp)
 4212      000000
 4213 297a EB1A     		jmp	L262
 4214              	L261:
2648:str_merge.c   ****         }
2649:str_merge.c   ****         else
2650:str_merge.c   ****             buf[l] = string[i];
 4216              	LM544:
 4217 297c 8B45F4   		movl	-12(%ebp), %eax
 4218 297f 8D1C00   		leal	(%eax,%eax), %ebx
 4219 2982 8B4D0C   		movl	12(%ebp), %ecx
 4220 2985 8B45F8   		movl	-8(%ebp), %eax
 4221 2988 8D1400   		leal	(%eax,%eax), %edx
 4222 298b 8B4508   		movl	8(%ebp), %eax
 4223 298e 0FB70410 		movzwl	(%eax,%edx), %eax
 4224 2992 66890419 		movw	%ax, (%ecx,%ebx)
 4225              	L262:
2651:str_merge.c   ****         l++;
 4227              	LM545:
 4228 2996 8D45F4   		leal	-12(%ebp), %eax
 4229 2999 FF00     		incl	(%eax)
 4231              	LM546:
 4232 299b 8D45F8   		leal	-8(%ebp), %eax
 4233 299e FF00     		incl	(%eax)
 4234 29a0 EB8A     		jmp	L257
 4235              	L258:
2652:str_merge.c   ****     }
2653:str_merge.c   ****     buf[l] = L'\0';
 4237              	LM547:
 4238 29a2 8B45F4   		movl	-12(%ebp), %eax
 4239 29a5 8D1400   		leal	(%eax,%eax), %edx
 4240 29a8 8B450C   		movl	12(%ebp), %eax
 4241 29ab 66C70410 		movw	$0, (%eax,%edx)
 4241      0000
2654:str_merge.c   ****     return ret;
 4243              	LM548:
 4244 29b1 8B45F0   		movl	-16(%ebp), %eax
2655:str_merge.c   **** }
 4246              	LM549:
 4247 29b4 83C414   		addl	$20, %esp
 4248 29b7 5B       		popl	%ebx
 4249 29b8 5D       		popl	%ebp
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 120


 4250 29b9 C3       		ret
 4251              	LBE33:
 4257              	Lscope23:
 4263              	_UCS2ASCII_CR:
2656:str_merge.c   **** 
2657:str_merge.c   **** 
2658:str_merge.c   **** /*****************************************************************************
2659:str_merge.c   ****  * FUNCTION
2660:str_merge.c   ****  *  UCS2ASCII_CR
2661:str_merge.c   ****  * DESCRIPTION
2662:str_merge.c   ****  *  Convert wide character to ASCII character, removing charcters after CR
2663:str_merge.c   ****  * PARAMETERS
2664:str_merge.c   ****  *  w_in    [IN]
2665:str_merge.c   ****  *  a_out   [OUT]
2666:str_merge.c   ****  * RETURNS
2667:str_merge.c   ****  *  void
2668:str_merge.c   ****  *****************************************************************************/
2669:str_merge.c   **** static void UCS2ASCII_CR(char *w_in, char *a_out)
2670:str_merge.c   **** {
 4265              	LM550:
 4266 29ba 55       		pushl	%ebp
 4267 29bb 89E5     		movl	%esp, %ebp
 4268 29bd 83EC04   		subl	$4, %esp
2671:str_merge.c   ****     /*----------------------------------------------------------------*/
2672:str_merge.c   ****     /* Local Variables                                                */
2673:str_merge.c   ****     /*----------------------------------------------------------------*/
2674:str_merge.c   ****     int i = 0;
 4270              	LM551:
 4271              	LBB34:
 4272 29c0 C745FC00 		movl	$0, -4(%ebp)
 4272      000000
2675:str_merge.c   **** 
2676:str_merge.c   ****     /*----------------------------------------------------------------*/
2677:str_merge.c   ****     /* Code Body                                                      */
2678:str_merge.c   ****     /*----------------------------------------------------------------*/
2679:str_merge.c   ****     while (w_in[i] != '\0' || w_in[i + 1] != '\0')
 4274              	LM552:
 4275              	L264:
 4276 29c7 8B45FC   		movl	-4(%ebp), %eax
 4277 29ca 034508   		addl	8(%ebp), %eax
 4278 29cd 803800   		cmpb	$0, (%eax)
 4279 29d0 750E     		jne	L266
 4280 29d2 8B45FC   		movl	-4(%ebp), %eax
 4281 29d5 034508   		addl	8(%ebp), %eax
 4282 29d8 40       		incl	%eax
 4283 29d9 803800   		cmpb	$0, (%eax)
 4284 29dc 7502     		jne	L266
 4285 29de EB1E     		jmp	L265
 4286              	L266:
2680:str_merge.c   ****     {
2681:str_merge.c   ****         a_out[i >> 1] = w_in[i];
 4288              	LM553:
 4289 29e0 8B45FC   		movl	-4(%ebp), %eax
 4290 29e3 89C1     		movl	%eax, %ecx
 4291 29e5 D1F9     		sarl	%ecx
 4292 29e7 8B550C   		movl	12(%ebp), %edx
 4293 29ea 8B45FC   		movl	-4(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 121


 4294 29ed 034508   		addl	8(%ebp), %eax
 4295 29f0 0FB600   		movzbl	(%eax), %eax
 4296 29f3 880411   		movb	%al, (%ecx,%edx)
2682:str_merge.c   ****         i += 2;
 4298              	LM554:
 4299 29f6 8D45FC   		leal	-4(%ebp), %eax
 4300 29f9 830002   		addl	$2, (%eax)
 4301 29fc EBC9     		jmp	L264
 4302              	L265:
2683:str_merge.c   ****     }
2684:str_merge.c   ****     a_out[i >> 1] = '\0';
 4304              	LM555:
 4305 29fe 8B45FC   		movl	-4(%ebp), %eax
 4306 2a01 89C2     		movl	%eax, %edx
 4307 2a03 D1FA     		sarl	%edx
 4308 2a05 8B450C   		movl	12(%ebp), %eax
 4309 2a08 C6040200 		movb	$0, (%edx,%eax)
2685:str_merge.c   ****     i = i >> 1;
 4311              	LM556:
 4312 2a0c 8D45FC   		leal	-4(%ebp), %eax
 4313 2a0f D138     		sarl	(%eax)
2686:str_merge.c   ****     i--;
 4315              	LM557:
 4316 2a11 8D45FC   		leal	-4(%ebp), %eax
 4317 2a14 FF08     		decl	(%eax)
2687:str_merge.c   ****     while (i >= 0)
 4319              	LM558:
 4320              	L267:
 4321 2a16 837DFC00 		cmpl	$0, -4(%ebp)
 4322 2a1a 7902     		jns	L269
 4323 2a1c EB1D     		jmp	L263
 4324              	L269:
2688:str_merge.c   ****     {
2689:str_merge.c   ****         if (a_out[i] == 0x0D)
 4326              	LM559:
 4327 2a1e 8B45FC   		movl	-4(%ebp), %eax
 4328 2a21 03450C   		addl	12(%ebp), %eax
 4329 2a24 80380D   		cmpb	$13, (%eax)
 4330 2a27 750B     		jne	L270
2690:str_merge.c   ****         {
2691:str_merge.c   ****             a_out[i] = '\0';
 4332              	LM560:
 4333 2a29 8B45FC   		movl	-4(%ebp), %eax
 4334 2a2c 03450C   		addl	12(%ebp), %eax
 4335 2a2f C60000   		movb	$0, (%eax)
2692:str_merge.c   ****             break;
 4337              	LM561:
 4338 2a32 EB07     		jmp	L263
 4339              	L270:
2693:str_merge.c   ****         }
2694:str_merge.c   ****         else
2695:str_merge.c   ****             i--;
 4341              	LM562:
 4342 2a34 8D45FC   		leal	-4(%ebp), %eax
 4343 2a37 FF08     		decl	(%eax)
 4344 2a39 EBDB     		jmp	L267
2696:str_merge.c   ****     }
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 122


2697:str_merge.c   **** }
 4346              	LM563:
 4347              	L263:
 4348 2a3b C9       		leave
 4349 2a3c C3       		ret
 4350              	LBE34:
 4354              	Lscope24:
 4359              	_ifLanguageUsed:
2698:str_merge.c   **** 
2699:str_merge.c   **** 
2700:str_merge.c   **** /*****************************************************************************
2701:str_merge.c   ****  * FUNCTION
2702:str_merge.c   ****  *  ifLanguageUsed
2703:str_merge.c   ****  * DESCRIPTION
2704:str_merge.c   ****  *  Decide if the translated language should be used for string resource, 
2705:str_merge.c   ****  *  according to SSC string
2706:str_merge.c   ****  * PARAMETERS
2707:str_merge.c   ****  *  ssc_ref [IN]
2708:str_merge.c   ****  * RETURNS
2709:str_merge.c   ****  *  Return -1 if the language is not used, otherwise, return non-negative index
2710:str_merge.c   ****  *****************************************************************************/
2711:str_merge.c   **** static int ifLanguageUsed(wchar_t *ssc_ref)
2712:str_merge.c   **** {
 4361              	LM564:
 4362 2a3d 55       		pushl	%ebp
 4363 2a3e 89E5     		movl	%esp, %ebp
 4364 2a40 83EC48   		subl	$72, %esp
2713:str_merge.c   ****     /*----------------------------------------------------------------*/
2714:str_merge.c   ****     /* Local Variables                                                */
2715:str_merge.c   ****     /*----------------------------------------------------------------*/
2716:str_merge.c   ****     int i = 0;
 4366              	LM565:
 4367              	LBB35:
 4368 2a43 C745F400 		movl	$0, -12(%ebp)
 4368      000000
2717:str_merge.c   ****     char ascii_ssc[10];
2718:str_merge.c   **** 
2719:str_merge.c   ****     /*----------------------------------------------------------------*/
2720:str_merge.c   ****     /* Code Body                                                      */
2721:str_merge.c   ****     /*----------------------------------------------------------------*/
2722:str_merge.c   ****     UCS2ASCII_CR((char *)ssc_ref, ascii_ssc);
 4370              	LM566:
 4371 2a4a 8D45D8   		leal	-40(%ebp), %eax
 4372 2a4d 89442404 		movl	%eax, 4(%esp)
 4373 2a51 8B4508   		movl	8(%ebp), %eax
 4374 2a54 890424   		movl	%eax, (%esp)
 4375 2a57 E85EFFFF 		call	_UCS2ASCII_CR
 4375      FF
2723:str_merge.c   ****     for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 4377              	LM567:
 4378 2a5c C745F400 		movl	$0, -12(%ebp)
 4378      000000
 4379              	L273:
 4380 2a63 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 4380      000000
 4381 2a6a 3945F4   		cmpl	%eax, -12(%ebp)
 4382 2a6d 7C02     		jl	L276
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 123


 4383 2a6f EB33     		jmp	L274
 4384              	L276:
2724:str_merge.c   ****     {
2725:str_merge.c   ****         if (strcmp(mtk_gLanguageArray[i].aLangSSC, ascii_ssc) == 0)
 4386              	LM568:
 4387 2a71 8D45D8   		leal	-40(%ebp), %eax
 4388 2a74 89442404 		movl	%eax, 4(%esp)
 4389 2a78 8B55F4   		movl	-12(%ebp), %edx
 4390 2a7b 89D0     		movl	%edx, %eax
 4391 2a7d C1E005   		sall	$5, %eax
 4392 2a80 29D0     		subl	%edx, %eax
 4393 2a82 01C0     		addl	%eax, %eax
 4394 2a84 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 4394      00
 4395 2a89 890424   		movl	%eax, (%esp)
 4396 2a8c E8000000 		call	_strcmp
 4396      00
 4397 2a91 85C0     		testl	%eax, %eax
 4398 2a93 7508     		jne	L275
2726:str_merge.c   ****         {
2727:str_merge.c   ****             return i;
 4400              	LM569:
 4401 2a95 8B45F4   		movl	-12(%ebp), %eax
 4402 2a98 8945D4   		movl	%eax, -44(%ebp)
 4403 2a9b EB0E     		jmp	L272
 4405              	LM570:
 4406              	L275:
 4407 2a9d 8D45F4   		leal	-12(%ebp), %eax
 4408 2aa0 FF00     		incl	(%eax)
 4409 2aa2 EBBF     		jmp	L273
 4410              	L274:
2728:str_merge.c   ****         }
2729:str_merge.c   ****     }
2730:str_merge.c   ****     return -1;
 4412              	LM571:
 4413 2aa4 C745D4FF 		movl	$-1, -44(%ebp)
 4413      FFFFFF
2731:str_merge.c   **** }
 4415              	LM572:
 4416              	L272:
 4417              	LBE35:
 4418 2aab 8B45D4   		movl	-44(%ebp), %eax
 4419 2aae C9       		leave
 4420 2aaf C3       		ret
 4425              	Lscope25:
 4434              	_GetStrByRef:
2732:str_merge.c   **** 
2733:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
2734:str_merge.c   **** /*****************************************************************************
2735:str_merge.c   ****  * FUNCTION
2736:str_merge.c   ****  *  GetStrByRef
2737:str_merge.c   ****  * DESCRIPTION
2738:str_merge.c   ****  *  Get string content according to reference index
2739:str_merge.c   ****  *  The string content depends on whether it is duplicated or not
2740:str_merge.c   ****  * PARAMETERS
2741:str_merge.c   ****  *  strres     [IN] string resource
2742:str_merge.c   ****  *  strres_dup [IN] duplicated string resource
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 124


2743:str_merge.c   ****  *  lang_idx   [IN] language index in process
2744:str_merge.c   ****  *  id_count   [IN] string id in current language
2745:str_merge.c   ****  *  ref_idx    [IN] string reference index in current language
2746:str_merge.c   ****  * RETURNS
2747:str_merge.c   ****  *  Return the string content
2748:str_merge.c   ****  *****************************************************************************/
2749:str_merge.c   **** static wchar_t* GetStrByRef(StrRes *strres, DupStrRes *strres_dup, int lang_idx, int id_count, int 
2750:str_merge.c   **** {
 4436              	LM573:
 4437 2ab0 55       		pushl	%ebp
 4438 2ab1 89E5     		movl	%esp, %ebp
 4439 2ab3 53       		pushl	%ebx
 4440 2ab4 83EC04   		subl	$4, %esp
2751:str_merge.c   ****     /*----------------------------------------------------------------*/
2752:str_merge.c   ****     /* Local Variables                                                */
2753:str_merge.c   ****     /*----------------------------------------------------------------*/
2754:str_merge.c   **** 
2755:str_merge.c   ****     /*----------------------------------------------------------------*/
2756:str_merge.c   ****     /* Code Body                                                      */
2757:str_merge.c   ****     /*----------------------------------------------------------------*/
2758:str_merge.c   **** 
2759:str_merge.c   ****     if (!strres[lang_idx].is_dup[id_count])
 4442              	LM574:
 4443 2ab7 8B5510   		movl	16(%ebp), %edx
 4444 2aba 89D0     		movl	%edx, %eax
 4445 2abc 01C0     		addl	%eax, %eax
 4446 2abe 01D0     		addl	%edx, %eax
 4447 2ac0 8D0CC500 		leal	0(,%eax,8), %ecx
 4447      000000
 4448 2ac7 8B5508   		movl	8(%ebp), %edx
 4449 2aca 8B4514   		movl	20(%ebp), %eax
 4450 2acd 03440A10 		addl	16(%edx,%ecx), %eax
 4451 2ad1 803800   		cmpb	$0, (%eax)
 4452 2ad4 7528     		jne	L279
2760:str_merge.c   ****     {
2761:str_merge.c   ****         return strres[lang_idx].Str[ref_idx];
 4454              	LM575:
 4455 2ad6 8B5510   		movl	16(%ebp), %edx
 4456 2ad9 89D0     		movl	%edx, %eax
 4457 2adb 01C0     		addl	%eax, %eax
 4458 2add 01D0     		addl	%edx, %eax
 4459 2adf 8D1CC500 		leal	0(,%eax,8), %ebx
 4459      000000
 4460 2ae6 8B4D08   		movl	8(%ebp), %ecx
 4461 2ae9 8B4518   		movl	24(%ebp), %eax
 4462 2aec 8D148500 		leal	0(,%eax,4), %edx
 4462      000000
 4463 2af3 8B0419   		movl	(%ecx,%ebx), %eax
 4464 2af6 8B0410   		movl	(%eax,%edx), %eax
 4465 2af9 8945F8   		movl	%eax, -8(%ebp)
 4466 2afc EB15     		jmp	L278
 4467              	L279:
2762:str_merge.c   ****     }
2763:str_merge.c   ****     else
2764:str_merge.c   ****     {
2765:str_merge.c   ****         return strres_dup->Str[ref_idx];
 4469              	LM576:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 125


 4470 2afe 8B4D0C   		movl	12(%ebp), %ecx
 4471 2b01 8B4518   		movl	24(%ebp), %eax
 4472 2b04 8D148500 		leal	0(,%eax,4), %edx
 4472      000000
 4473 2b0b 8B01     		movl	(%ecx), %eax
 4474 2b0d 8B0410   		movl	(%eax,%edx), %eax
 4475 2b10 8945F8   		movl	%eax, -8(%ebp)
2766:str_merge.c   ****     }    
2767:str_merge.c   **** }
 4477              	LM577:
 4478              	L278:
 4479 2b13 8B45F8   		movl	-8(%ebp), %eax
 4480 2b16 83C404   		addl	$4, %esp
 4481 2b19 5B       		popl	%ebx
 4482 2b1a 5D       		popl	%ebp
 4483 2b1b C3       		ret
 4484              	Lscope26:
 4495              	_LookupDupStr:
2768:str_merge.c   **** 
2769:str_merge.c   **** /*****************************************************************************
2770:str_merge.c   ****  * FUNCTION
2771:str_merge.c   ****  *  LookupDupStr
2772:str_merge.c   ****  * DESCRIPTION
2773:str_merge.c   ****  *  Look up potential duplicated strings in languages excluding the current language
2774:str_merge.c   ****  *  If found :
2775:str_merge.c   ****  *  1. turn on dup flag 
2776:str_merge.c   ****  *  2. assign string reference index
2777:str_merge.c   ****  *  If found first time :
2778:str_merge.c   ****  *  1. put the string into duplicated string resource
2779:str_merge.c   ****  *  2. traverse the linked list for the duplicated string in the same language, 
2780:str_merge.c   ****  *     turn on dup flags and re-assign the correct string reference index in duplicated string reso
2781:str_merge.c   ****  * PARAMETERS
2782:str_merge.c   ****  *  strres     [INOUT] string resource
2783:str_merge.c   ****  *  strres_dup [INOUT] duplicated string resource
2784:str_merge.c   ****  *  cur_lang   [IN] current language index in process
2785:str_merge.c   ****  *  id_count   [IN] string id in current language
2786:str_merge.c   ****  *  ht         [IN] hash table
2787:str_merge.c   ****  *  hash_value [IN] hash value of the string in process
2788:str_merge.c   ****  *  tok        [IN] the string in process
2789:str_merge.c   ****  * RETURNS
2790:str_merge.c   ****  *  Return 1 if any duplicated string is found, otherwise return 0
2791:str_merge.c   ****  *****************************************************************************/
2792:str_merge.c   **** static int LookupDupStr(StrRes *strres, DupStrRes *strres_dup, int cur_lang, int id_count, struct H
2793:str_merge.c   **** {
 4497              	LM578:
 4498 2b1c 55       		pushl	%ebp
 4499 2b1d 89E5     		movl	%esp, %ebp
 4500 2b1f 57       		pushl	%edi
 4501 2b20 56       		pushl	%esi
 4502 2b21 53       		pushl	%ebx
 4503 2b22 83EC2C   		subl	$44, %esp
2794:str_merge.c   ****     /*----------------------------------------------------------------*/
2795:str_merge.c   ****     /* Local Variables                                                */
2796:str_merge.c   ****     /*----------------------------------------------------------------*/
2797:str_merge.c   ****     struct HashItem *temp = NULL;   
 4505              	LM579:
 4506              	LBB36:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 126


 4507 2b25 C745F000 		movl	$0, -16(%ebp)
 4507      000000
2798:str_merge.c   ****     wchar_t *str; 
2799:str_merge.c   ****     int lang_idx, ref_idx;    
2800:str_merge.c   **** 
2801:str_merge.c   ****     /*----------------------------------------------------------------*/
2802:str_merge.c   ****     /* Code Body                                                      */
2803:str_merge.c   ****     /*----------------------------------------------------------------*/
2804:str_merge.c   ****     for (lang_idx = 0; lang_idx < mtk_gMaxDeployedLangs; lang_idx++)
 4509              	LM580:
 4510 2b2c C745E800 		movl	$0, -24(%ebp)
 4510      000000
 4511              	L282:
 4512 2b33 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 4512      000000
 4513 2b3a 3945E8   		cmpl	%eax, -24(%ebp)
 4514 2b3d 7C05     		jl	L285
 4515 2b3f E93A0300 		jmp	L283
 4515      00
 4516              	L285:
2805:str_merge.c   ****     {
2806:str_merge.c   ****         if (lang_idx != cur_lang && mtk_gLanguageFlag[lang_idx])
 4518              	LM581:
 4519 2b44 8B45E8   		movl	-24(%ebp), %eax
 4520 2b47 3B4510   		cmpl	16(%ebp), %eax
 4521 2b4a 0F842403 		je	L284
 4521      0000
 4522 2b50 8B45E8   		movl	-24(%ebp), %eax
 4523 2b53 8D148500 		leal	0(,%eax,4), %edx
 4523      000000
 4524 2b5a A1B80000 		movl	_mtk_gLanguageFlag, %eax
 4524      00
 4525 2b5f 833C1000 		cmpl	$0, (%eax,%edx)
 4526 2b63 0F840B03 		je	L284
 4526      0000
2807:str_merge.c   ****         {
2808:str_merge.c   ****             if (ht[lang_idx][hash_value].pointer != -1)
 4528              	LM582:
 4529 2b69 8B45E8   		movl	-24(%ebp), %eax
 4530 2b6c 8D1C8500 		leal	0(,%eax,4), %ebx
 4530      000000
 4531 2b73 8B4D18   		movl	24(%ebp), %ecx
 4532 2b76 8B451C   		movl	28(%ebp), %eax
 4533 2b79 8D14C500 		leal	0(,%eax,8), %edx
 4533      000000
 4534 2b80 8B0419   		movl	(%ecx,%ebx), %eax
 4535 2b83 833C10FF 		cmpl	$-1, (%eax,%edx)
 4536 2b87 0F84E702 		je	L284
 4536      0000
2809:str_merge.c   ****             {
2810:str_merge.c   ****                 /* there is a string with the same hash value in another language */
2811:str_merge.c   ****                 temp = &ht[lang_idx][hash_value];
 4538              	LM583:
 4539 2b8d 8B45E8   		movl	-24(%ebp), %eax
 4540 2b90 8D0C8500 		leal	0(,%eax,4), %ecx
 4540      000000
 4541 2b97 8B5518   		movl	24(%ebp), %edx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 127


 4542 2b9a 8B451C   		movl	28(%ebp), %eax
 4543 2b9d C1E003   		sall	$3, %eax
 4544 2ba0 03040A   		addl	(%edx,%ecx), %eax
 4545 2ba3 8945F0   		movl	%eax, -16(%ebp)
2812:str_merge.c   ****                 while (temp != NULL)
 4547              	LM584:
 4548              	L288:
 4549 2ba6 837DF000 		cmpl	$0, -16(%ebp)
 4550 2baa 7505     		jne	L290
 4551 2bac E9C30200 		jmp	L284
 4551      00
 4552              	L290:
2813:str_merge.c   ****                 {
2814:str_merge.c   ****                     ref_idx = strres[lang_idx].StrRef[temp->pointer];
 4554              	LM585:
 4555 2bb1 8B55E8   		movl	-24(%ebp), %edx
 4556 2bb4 89D0     		movl	%edx, %eax
 4557 2bb6 01C0     		addl	%eax, %eax
 4558 2bb8 01D0     		addl	%edx, %eax
 4559 2bba 8D1CC500 		leal	0(,%eax,8), %ebx
 4559      000000
 4560 2bc1 8B4D08   		movl	8(%ebp), %ecx
 4561 2bc4 8B45F0   		movl	-16(%ebp), %eax
 4562 2bc7 8B00     		movl	(%eax), %eax
 4563 2bc9 8D148500 		leal	0(,%eax,4), %edx
 4563      000000
 4564 2bd0 8B441904 		movl	4(%ecx,%ebx), %eax
 4565 2bd4 8B0410   		movl	(%eax,%edx), %eax
 4566 2bd7 8945E4   		movl	%eax, -28(%ebp)
2815:str_merge.c   ****                     str = GetStrByRef(strres, strres_dup, lang_idx, temp->pointer, ref_idx);
 4568              	LM586:
 4569 2bda 8B45E4   		movl	-28(%ebp), %eax
 4570 2bdd 89442410 		movl	%eax, 16(%esp)
 4571 2be1 8B45F0   		movl	-16(%ebp), %eax
 4572 2be4 8B00     		movl	(%eax), %eax
 4573 2be6 8944240C 		movl	%eax, 12(%esp)
 4574 2bea 8B45E8   		movl	-24(%ebp), %eax
 4575 2bed 89442408 		movl	%eax, 8(%esp)
 4576 2bf1 8B450C   		movl	12(%ebp), %eax
 4577 2bf4 89442404 		movl	%eax, 4(%esp)
 4578 2bf8 8B4508   		movl	8(%ebp), %eax
 4579 2bfb 890424   		movl	%eax, (%esp)
 4580 2bfe E8ADFEFF 		call	_GetStrByRef
 4580      FF
 4581 2c03 8945EC   		movl	%eax, -20(%ebp)
2816:str_merge.c   ****                     if (wcscmp(tok, str) == 0)
 4583              	LM587:
 4584 2c06 8B45EC   		movl	-20(%ebp), %eax
 4585 2c09 89442404 		movl	%eax, 4(%esp)
 4586 2c0d 8B4520   		movl	32(%ebp), %eax
 4587 2c10 890424   		movl	%eax, (%esp)
 4588 2c13 E8000000 		call	_wcscmp
 4588      00
 4589 2c18 85C0     		testl	%eax, %eax
 4590 2c1a 0F854602 		jne	L291
 4590      0000
2817:str_merge.c   ****                     {
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 128


2818:str_merge.c   ****                         /* they are duplicated strings */
2819:str_merge.c   ****                         strres[cur_lang].is_dup[id_count] = 1;
 4592              	LM588:
 4593 2c20 8B5510   		movl	16(%ebp), %edx
 4594 2c23 89D0     		movl	%edx, %eax
 4595 2c25 01C0     		addl	%eax, %eax
 4596 2c27 01D0     		addl	%edx, %eax
 4597 2c29 8D0CC500 		leal	0(,%eax,8), %ecx
 4597      000000
 4598 2c30 8B5508   		movl	8(%ebp), %edx
 4599 2c33 8B4514   		movl	20(%ebp), %eax
 4600 2c36 03440A10 		addl	16(%edx,%ecx), %eax
 4601 2c3a C60001   		movb	$1, (%eax)
2820:str_merge.c   ****                         strres[cur_lang].StrRef[id_count] = ref_idx;
 4603              	LM589:
 4604 2c3d 8B5510   		movl	16(%ebp), %edx
 4605 2c40 89D0     		movl	%edx, %eax
 4606 2c42 01C0     		addl	%eax, %eax
 4607 2c44 01D0     		addl	%edx, %eax
 4608 2c46 8D1CC500 		leal	0(,%eax,8), %ebx
 4608      000000
 4609 2c4d 8B5508   		movl	8(%ebp), %edx
 4610 2c50 8B4514   		movl	20(%ebp), %eax
 4611 2c53 8D0C8500 		leal	0(,%eax,4), %ecx
 4611      000000
 4612 2c5a 8B541A04 		movl	4(%edx,%ebx), %edx
 4613 2c5e 8B45E4   		movl	-28(%ebp), %eax
 4614 2c61 89040A   		movl	%eax, (%edx,%ecx)
2821:str_merge.c   ****                         /* check if this duplicated string has already been found before */
2822:str_merge.c   ****                         if (!strres[lang_idx].is_dup[temp->pointer])
 4616              	LM590:
 4617 2c64 8B55E8   		movl	-24(%ebp), %edx
 4618 2c67 89D0     		movl	%edx, %eax
 4619 2c69 01C0     		addl	%eax, %eax
 4620 2c6b 01D0     		addl	%edx, %eax
 4621 2c6d 8D0CC500 		leal	0(,%eax,8), %ecx
 4621      000000
 4622 2c74 8B5508   		movl	8(%ebp), %edx
 4623 2c77 8B45F0   		movl	-16(%ebp), %eax
 4624 2c7a 8B00     		movl	(%eax), %eax
 4625 2c7c 03440A10 		addl	16(%edx,%ecx), %eax
 4626 2c80 803800   		cmpb	$0, (%eax)
 4627 2c83 0F85D401 		jne	L292
 4627      0000
2823:str_merge.c   ****                         {
2824:str_merge.c   ****                             /* first time found */
2825:str_merge.c   ****                             strres[lang_idx].is_dup[temp->pointer] = 1;
 4629              	LM591:
 4630 2c89 8B55E8   		movl	-24(%ebp), %edx
 4631 2c8c 89D0     		movl	%edx, %eax
 4632 2c8e 01C0     		addl	%eax, %eax
 4633 2c90 01D0     		addl	%edx, %eax
 4634 2c92 8D0CC500 		leal	0(,%eax,8), %ecx
 4634      000000
 4635 2c99 8B5508   		movl	8(%ebp), %edx
 4636 2c9c 8B45F0   		movl	-16(%ebp), %eax
 4637 2c9f 8B00     		movl	(%eax), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 129


 4638 2ca1 03440A10 		addl	16(%edx,%ecx), %eax
 4639 2ca5 C60001   		movb	$1, (%eax)
2826:str_merge.c   ****                             strres[lang_idx].StrRef[temp->pointer] = strres_dup->MaxNum;
 4641              	LM592:
 4642 2ca8 8B55E8   		movl	-24(%ebp), %edx
 4643 2cab 89D0     		movl	%edx, %eax
 4644 2cad 01C0     		addl	%eax, %eax
 4645 2caf 01D0     		addl	%edx, %eax
 4646 2cb1 8D1CC500 		leal	0(,%eax,8), %ebx
 4646      000000
 4647 2cb8 8B5508   		movl	8(%ebp), %edx
 4648 2cbb 8B45F0   		movl	-16(%ebp), %eax
 4649 2cbe 8B00     		movl	(%eax), %eax
 4650 2cc0 8D0C8500 		leal	0(,%eax,4), %ecx
 4650      000000
 4651 2cc7 8B541A04 		movl	4(%edx,%ebx), %edx
 4652 2ccb 8B450C   		movl	12(%ebp), %eax
 4653 2cce 8B4004   		movl	4(%eax), %eax
 4654 2cd1 89040A   		movl	%eax, (%edx,%ecx)
2827:str_merge.c   ****                             strres[lang_idx].TotalLength -= wcslen(tok) * 2 + 2;
 4656              	LM593:
 4657 2cd4 8B55E8   		movl	-24(%ebp), %edx
 4658 2cd7 89D0     		movl	%edx, %eax
 4659 2cd9 01C0     		addl	%eax, %eax
 4660 2cdb 01D0     		addl	%edx, %eax
 4661 2cdd 8D3CC500 		leal	0(,%eax,8), %edi
 4661      000000
 4662 2ce4 8B4508   		movl	8(%ebp), %eax
 4663 2ce7 8945DC   		movl	%eax, -36(%ebp)
 4664 2cea 8B55E8   		movl	-24(%ebp), %edx
 4665 2ced 89D0     		movl	%edx, %eax
 4666 2cef 01C0     		addl	%eax, %eax
 4667 2cf1 01D0     		addl	%edx, %eax
 4668 2cf3 8D1CC500 		leal	0(,%eax,8), %ebx
 4668      000000
 4669 2cfa 8B7508   		movl	8(%ebp), %esi
 4670 2cfd 8B4520   		movl	32(%ebp), %eax
 4671 2d00 890424   		movl	%eax, (%esp)
 4672 2d03 E8000000 		call	_wcslen
 4672      00
 4673 2d08 8D1400   		leal	(%eax,%eax), %edx
 4674 2d0b 8B441E14 		movl	20(%esi,%ebx), %eax
 4675 2d0f 29D0     		subl	%edx, %eax
 4676 2d11 83E802   		subl	$2, %eax
 4677 2d14 8B55DC   		movl	-36(%ebp), %edx
 4678 2d17 89443A14 		movl	%eax, 20(%edx,%edi)
2828:str_merge.c   ****                             strres[cur_lang].StrRef[id_count] = strres_dup->MaxNum;
 4680              	LM594:
 4681 2d1b 8B5510   		movl	16(%ebp), %edx
 4682 2d1e 89D0     		movl	%edx, %eax
 4683 2d20 01C0     		addl	%eax, %eax
 4684 2d22 01D0     		addl	%edx, %eax
 4685 2d24 8D1CC500 		leal	0(,%eax,8), %ebx
 4685      000000
 4686 2d2b 8B5508   		movl	8(%ebp), %edx
 4687 2d2e 8B4514   		movl	20(%ebp), %eax
 4688 2d31 8D0C8500 		leal	0(,%eax,4), %ecx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 130


 4688      000000
 4689 2d38 8B541A04 		movl	4(%edx,%ebx), %edx
 4690 2d3c 8B450C   		movl	12(%ebp), %eax
 4691 2d3f 8B4004   		movl	4(%eax), %eax
 4692 2d42 89040A   		movl	%eax, (%edx,%ecx)
2829:str_merge.c   ****                             strres_dup->Str[strres_dup->MaxNum] = strres[lang_idx].Str[ref_idx];
 4694              	LM595:
 4695 2d45 8B550C   		movl	12(%ebp), %edx
 4696 2d48 8B450C   		movl	12(%ebp), %eax
 4697 2d4b 8B4004   		movl	4(%eax), %eax
 4698 2d4e 8D348500 		leal	0(,%eax,4), %esi
 4698      000000
 4699 2d55 8B3A     		movl	(%edx), %edi
 4700 2d57 8B55E8   		movl	-24(%ebp), %edx
 4701 2d5a 89D0     		movl	%edx, %eax
 4702 2d5c 01C0     		addl	%eax, %eax
 4703 2d5e 01D0     		addl	%edx, %eax
 4704 2d60 8D1CC500 		leal	0(,%eax,8), %ebx
 4704      000000
 4705 2d67 8B4D08   		movl	8(%ebp), %ecx
 4706 2d6a 8B45E4   		movl	-28(%ebp), %eax
 4707 2d6d 8D148500 		leal	0(,%eax,4), %edx
 4707      000000
 4708 2d74 8B0419   		movl	(%ecx,%ebx), %eax
 4709 2d77 8B0410   		movl	(%eax,%edx), %eax
 4710 2d7a 890437   		movl	%eax, (%edi,%esi)
2830:str_merge.c   ****                             strres[lang_idx].Str[ref_idx] = NULL;
 4712              	LM596:
 4713 2d7d 8B55E8   		movl	-24(%ebp), %edx
 4714 2d80 89D0     		movl	%edx, %eax
 4715 2d82 01C0     		addl	%eax, %eax
 4716 2d84 01D0     		addl	%edx, %eax
 4717 2d86 8D1CC500 		leal	0(,%eax,8), %ebx
 4717      000000
 4718 2d8d 8B4D08   		movl	8(%ebp), %ecx
 4719 2d90 8B45E4   		movl	-28(%ebp), %eax
 4720 2d93 8D148500 		leal	0(,%eax,4), %edx
 4720      000000
 4721 2d9a 8B0419   		movl	(%ecx,%ebx), %eax
 4722 2d9d C7041000 		movl	$0, (%eax,%edx)
 4722      000000
2831:str_merge.c   ****                             /* traverse the linked list, turn on dup flags and 
2832:str_merge.c   ****                              * change string reference index for the dup strings in the same lang
2833:str_merge.c   ****                              */
2834:str_merge.c   ****                             while (temp->next != NULL)
 4724              	LM597:
 4725              	L293:
 4726 2da4 8B45F0   		movl	-16(%ebp), %eax
 4727 2da7 83780400 		cmpl	$0, 4(%eax)
 4728 2dab 7505     		jne	L295
 4729 2dad E9A50000 		jmp	L294
 4729      00
 4730              	L295:
2835:str_merge.c   ****                             {
2836:str_merge.c   ****                                 temp = temp->next;
 4732              	LM598:
 4733 2db2 8B45F0   		movl	-16(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 131


 4734 2db5 8B4004   		movl	4(%eax), %eax
 4735 2db8 8945F0   		movl	%eax, -16(%ebp)
2837:str_merge.c   ****                                 if ((!strres[lang_idx].is_dup[temp->pointer])
 4737              	LM599:
 4738 2dbb 8B55E8   		movl	-24(%ebp), %edx
 4739 2dbe 89D0     		movl	%edx, %eax
 4740 2dc0 01C0     		addl	%eax, %eax
 4741 2dc2 01D0     		addl	%edx, %eax
 4742 2dc4 8D0CC500 		leal	0(,%eax,8), %ecx
 4742      000000
 4743 2dcb 8B5508   		movl	8(%ebp), %edx
 4744 2dce 8B45F0   		movl	-16(%ebp), %eax
 4745 2dd1 8B00     		movl	(%eax), %eax
 4746 2dd3 03440A10 		addl	16(%edx,%ecx), %eax
 4747 2dd7 803800   		cmpb	$0, (%eax)
 4748 2dda 75C8     		jne	L293
 4749 2ddc 8B55E8   		movl	-24(%ebp), %edx
 4750 2ddf 89D0     		movl	%edx, %eax
 4751 2de1 01C0     		addl	%eax, %eax
 4752 2de3 01D0     		addl	%edx, %eax
 4753 2de5 8D1CC500 		leal	0(,%eax,8), %ebx
 4753      000000
 4754 2dec 8B4D08   		movl	8(%ebp), %ecx
 4755 2def 8B45F0   		movl	-16(%ebp), %eax
 4756 2df2 8B00     		movl	(%eax), %eax
 4757 2df4 8D148500 		leal	0(,%eax,4), %edx
 4757      000000
 4758 2dfb 8B441904 		movl	4(%ecx,%ebx), %eax
 4759 2dff 8B0410   		movl	(%eax,%edx), %eax
 4760 2e02 3B45E4   		cmpl	-28(%ebp), %eax
 4761 2e05 759D     		jne	L293
2838:str_merge.c   ****                                     && (strres[lang_idx].StrRef[temp->pointer] == ref_idx))
2839:str_merge.c   ****                                 {
2840:str_merge.c   ****                                     strres[lang_idx].is_dup[temp->pointer] = 1;
 4763              	LM600:
 4764 2e07 8B55E8   		movl	-24(%ebp), %edx
 4765 2e0a 89D0     		movl	%edx, %eax
 4766 2e0c 01C0     		addl	%eax, %eax
 4767 2e0e 01D0     		addl	%edx, %eax
 4768 2e10 8D0CC500 		leal	0(,%eax,8), %ecx
 4768      000000
 4769 2e17 8B5508   		movl	8(%ebp), %edx
 4770 2e1a 8B45F0   		movl	-16(%ebp), %eax
 4771 2e1d 8B00     		movl	(%eax), %eax
 4772 2e1f 03440A10 		addl	16(%edx,%ecx), %eax
 4773 2e23 C60001   		movb	$1, (%eax)
2841:str_merge.c   ****                                     strres[lang_idx].StrRef[temp->pointer] = strres_dup->MaxNum;   
 4775              	LM601:
 4776 2e26 8B55E8   		movl	-24(%ebp), %edx
 4777 2e29 89D0     		movl	%edx, %eax
 4778 2e2b 01C0     		addl	%eax, %eax
 4779 2e2d 01D0     		addl	%edx, %eax
 4780 2e2f 8D1CC500 		leal	0(,%eax,8), %ebx
 4780      000000
 4781 2e36 8B5508   		movl	8(%ebp), %edx
 4782 2e39 8B45F0   		movl	-16(%ebp), %eax
 4783 2e3c 8B00     		movl	(%eax), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 132


 4784 2e3e 8D0C8500 		leal	0(,%eax,4), %ecx
 4784      000000
 4785 2e45 8B541A04 		movl	4(%edx,%ebx), %edx
 4786 2e49 8B450C   		movl	12(%ebp), %eax
 4787 2e4c 8B4004   		movl	4(%eax), %eax
 4788 2e4f 89040A   		movl	%eax, (%edx,%ecx)
 4789 2e52 E94DFFFF 		jmp	L293
 4789      FF
 4790              	L294:
2842:str_merge.c   ****                                 }
2843:str_merge.c   ****                             }
2844:str_merge.c   ****                             strres_dup->MaxNum++;
 4792              	LM602:
 4793 2e57 8B450C   		movl	12(%ebp), %eax
 4794 2e5a FF4004   		incl	4(%eax)
 4795              	L292:
2845:str_merge.c   ****                         }
2846:str_merge.c   ****                         return 1;
 4797              	LM603:
 4798 2e5d C745E001 		movl	$1, -32(%ebp)
 4798      000000
 4799 2e64 EB1F     		jmp	L281
 4800              	L291:
2847:str_merge.c   ****                     }
2848:str_merge.c   ****                     temp = temp->next;
 4802              	LM604:
 4803 2e66 8B45F0   		movl	-16(%ebp), %eax
 4804 2e69 8B4004   		movl	4(%eax), %eax
 4805 2e6c 8945F0   		movl	%eax, -16(%ebp)
 4806 2e6f E932FDFF 		jmp	L288
 4806      FF
 4808              	LM605:
 4809              	L284:
 4810 2e74 8D45E8   		leal	-24(%ebp), %eax
 4811 2e77 FF00     		incl	(%eax)
 4812 2e79 E9B5FCFF 		jmp	L282
 4812      FF
 4813              	L283:
2849:str_merge.c   ****                 }
2850:str_merge.c   ****             }
2851:str_merge.c   ****         }
2852:str_merge.c   ****     }   
2853:str_merge.c   ****     return 0;      
 4815              	LM606:
 4816 2e7e C745E000 		movl	$0, -32(%ebp)
 4816      000000
2854:str_merge.c   **** }
 4818              	LM607:
 4819              	L281:
 4820              	LBE36:
 4821 2e85 8B45E0   		movl	-32(%ebp), %eax
 4822 2e88 83C42C   		addl	$44, %esp
 4823 2e8b 5B       		popl	%ebx
 4824 2e8c 5E       		popl	%esi
 4825 2e8d 5F       		popl	%edi
 4826 2e8e 5D       		popl	%ebp
 4827 2e8f C3       		ret
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 133


 4834              	Lscope27:
 4836              	LC47:
 4837 2e90 6D616C6C 		.ascii "malloc fail strres \0"
 4837      6F632066 
 4837      61696C20 
 4837      73747272 
 4837      65732000 
 4838              	LC48:
 4839 2ea4 6D616C6C 		.ascii "malloc fail ht \0"
 4839      6F632066 
 4839      61696C20 
 4839      68742000 
 4840              	LC49:
 4841 2eb4 6D616C6C 		.ascii "malloc fail strres_dup \0"
 4841      6F632066 
 4841      61696C20 
 4841      73747272 
 4841      65735F64 
 4842              	LC50:
 4843 2ecc 6D616C6C 		.ascii "malloc fail strres_dup->Str \0"
 4843      6F632066 
 4843      61696C20 
 4843      73747272 
 4843      65735F64 
 4844 2ee9 90909090 		.align 32
 4844      90909090 
 4844      90909090 
 4844      90909090 
 4844      90909090 
 4845              	LC51:
 4846 2f00 6D616C6C 		.ascii "malloc fail mtk_gLanguageFlag \0"
 4846      6F632066 
 4846      61696C20 
 4846      6D746B5F 
 4846      674C616E 
 4847 2f1f 90       		.align 32
 4848              	LC52:
 4849 2f20 6D616C6C 		.ascii "malloc fail strres[LangIndex].Str \0"
 4849      6F632066 
 4849      61696C20 
 4849      73747272 
 4849      65735B4C 
 4850 2f43 90909090 		.align 32
 4850      90909090 
 4850      90909090 
 4850      90909090 
 4850      90909090 
 4851              	LC53:
 4852 2f60 6D616C6C 		.ascii "malloc fail strres[LangIndex].StrRef \0"
 4852      6F632066 
 4852      61696C20 
 4852      73747272 
 4852      65735B4C 
 4853 2f86 90909090 		.align 32
 4853      90909090 
 4853      90909090 
 4853      90909090 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 134


 4853      90909090 
 4854              	LC54:
 4855 2fa0 6D616C6C 		.ascii "malloc fail strres[LangIndex].is_dup \0"
 4855      6F632066 
 4855      61696C20 
 4855      73747272 
 4855      65735B4C 
 4856              	LC56:
 4857 2fc6 6D616C6C 		.ascii "malloc fail ht[LangIndex] \0"
 4857      6F632066 
 4857      61696C20 
 4857      68745B4C 
 4857      616E6749 
 4858 2fe1 90909090 		.align 32
 4858      90909090 
 4858      90909090 
 4858      90909090 
 4858      90909090 
 4859              	LC57:
 4860 3000 4E6F2052 		.ascii "No REF item found for String: %d\0"
 4860      45462069 
 4860      74656D20 
 4860      666F756E 
 4860      6420666F 
 4861 3021 90909090 		.align 32
 4861      90909090 
 4861      90909090 
 4861      90909090 
 4861      90909090 
 4862              	LC58:
 4863 3040 6D616C6C 		.ascii "malloc fail strres[LangIndex].Str[i] \0"
 4863      6F632066 
 4863      61696C20 
 4863      73747272 
 4863      65735B4C 
 4864              	LC59:
 4865 3066 6D616C6C 		.ascii "malloc fail extra \0"
 4865      6F632066 
 4865      61696C20 
 4865      65787472 
 4865      612000
 4866 3079 8DB42600 		.align 8
 4866      000000
 4867              	LC55:
 4868 3080 9A999999 		.long	-1717986918
 4869 3084 9999F13F 		.long	1072798105
 4873              	_GetStrResList:
2855:str_merge.c   **** 
2856:str_merge.c   **** 
2857:str_merge.c   **** /*****************************************************************************
2858:str_merge.c   ****  * FUNCTION
2859:str_merge.c   ****  *  GetStrResList
2860:str_merge.c   ****  * DESCRIPTION
2861:str_merge.c   ****  *  Generate a non-duplicate string list from input file, using hash table
2862:str_merge.c   ****  * PARAMETERS
2863:str_merge.c   ****  *  result  [OUT]
2864:str_merge.c   ****  * RETURNS
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 135


2865:str_merge.c   ****  *  Return number of all populated string IDs
2866:str_merge.c   ****  *****************************************************************************/
2867:str_merge.c   **** static int GetStrResList(StrResSet *result)
2868:str_merge.c   **** {
 4875              	LM608:
 4876 3088 55       		pushl	%ebp
 4877 3089 89E5     		movl	%esp, %ebp
 4878 308b 57       		pushl	%edi
 4879 308c 56       		pushl	%esi
 4880 308d 53       		pushl	%ebx
 4881 308e 83EC7C   		subl	$124, %esp
2869:str_merge.c   ****     /*----------------------------------------------------------------*/
2870:str_merge.c   ****     /* Local Variables                                                */
2871:str_merge.c   ****     /*----------------------------------------------------------------*/
2872:str_merge.c   ****     struct HashItem **ht = NULL, *extra = NULL, *temp = NULL;
 4883              	LM609:
 4884              	LBB37:
 4885 3091 C745F000 		movl	$0, -16(%ebp)
 4885      000000
 4886 3098 C745EC00 		movl	$0, -20(%ebp)
 4886      000000
 4887 309f C745E800 		movl	$0, -24(%ebp)
 4887      000000
2873:str_merge.c   ****     struct StrRes *strres = NULL;
 4889              	LM610:
 4890 30a6 C745E400 		movl	$0, -28(%ebp)
 4890      000000
2874:str_merge.c   ****     wchar_t *tok = NULL;
 4892              	LM611:
 4893 30ad C745E000 		movl	$0, -32(%ebp)
 4893      000000
2875:str_merge.c   ****     wchar_t *tok_eng = NULL;    
 4895              	LM612:
 4896 30b4 C745DC00 		movl	$0, -36(%ebp)
 4896      000000
2876:str_merge.c   ****     int i = 0, j = 0, k = 0, h = 0, l = 0;
 4898              	LM613:
 4899 30bb C745D800 		movl	$0, -40(%ebp)
 4899      000000
 4900 30c2 C745D400 		movl	$0, -44(%ebp)
 4900      000000
 4901 30c9 C745D000 		movl	$0, -48(%ebp)
 4901      000000
 4902 30d0 C745CC00 		movl	$0, -52(%ebp)
 4902      000000
 4903 30d7 C745C800 		movl	$0, -56(%ebp)
 4903      000000
2877:str_merge.c   ****     int LangIndex = 0;
 4905              	LM614:
 4906 30de C745C400 		movl	$0, -60(%ebp)
 4906      000000
2878:str_merge.c   ****     int hash_range = 0;
 4908              	LM615:
 4909 30e5 C745C000 		movl	$0, -64(%ebp)
 4909      000000
2879:str_merge.c   ****     int ref_item_found = 0;
 4911              	LM616:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 136


 4912 30ec C745BC00 		movl	$0, -68(%ebp)
 4912      000000
2880:str_merge.c   **** 
2881:str_merge.c   ****   #ifdef MEM_REF_LIST_OPT
2882:str_merge.c   ****       RefListItem * tmp_list_item = NULL; /* temp buffer of ref list item */
 4914              	LM617:
 4915 30f3 C745B800 		movl	$0, -72(%ebp)
 4915      000000
2883:str_merge.c   ****   #endif /*MEM_REF_LIST_OPT*/
2884:str_merge.c   **** 
2885:str_merge.c   ****     /* add a data structure to record duplicated strings in different language */
2886:str_merge.c   ****     struct DupStrRes *strres_dup;
2887:str_merge.c   **** 
2888:str_merge.c   ****     U16 nStrId;
2889:str_merge.c   **** 
2890:str_merge.c   ****     /*----------------------------------------------------------------*/
2891:str_merge.c   ****     /* Code Body                                                      */
2892:str_merge.c   ****     /*----------------------------------------------------------------*/
2893:str_merge.c   ****     strres = malloc(sizeof(struct StrRes) * mtk_gMaxDeployedLangs);
 4917              	LM618:
 4918 30fa 0FB71500 		movzwl	_mtk_gMaxDeployedLangs, %edx
 4918      000000
 4919 3101 89D0     		movl	%edx, %eax
 4920 3103 01C0     		addl	%eax, %eax
 4921 3105 01D0     		addl	%edx, %eax
 4922 3107 C1E003   		sall	$3, %eax
 4923 310a 890424   		movl	%eax, (%esp)
 4924 310d E8000000 		call	_malloc
 4924      00
 4925 3112 8945E4   		movl	%eax, -28(%ebp)
2894:str_merge.c   ****     if (strres == NULL) {STRMERG_LOG_E("malloc fail strres "); exit(2);}
 4927              	LM619:
 4928 3115 837DE400 		cmpl	$0, -28(%ebp)
 4929 3119 7528     		jne	L298
 4930 311b C7442408 		movl	$LC47, 8(%esp)
 4930      902E0000 
 4931 3123 C7442404 		movl	$LC3, 4(%esp)
 4931      4B040000 
 4932 312b C7042403 		movl	$3, (%esp)
 4932      000000
 4933 3132 E8000000 		call	_reslog_adaptor_log
 4933      00
 4934 3137 C7042402 		movl	$2, (%esp)
 4934      000000
 4935 313e E8000000 		call	_exit
 4935      00
 4936              	L298:
2895:str_merge.c   ****     ht = malloc(sizeof(struct HashItem *) * mtk_gMaxDeployedLangs);
 4938              	LM620:
 4939 3143 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 4939      000000
 4940 314a C1E002   		sall	$2, %eax
 4941 314d 890424   		movl	%eax, (%esp)
 4942 3150 E8000000 		call	_malloc
 4942      00
 4943 3155 8945F0   		movl	%eax, -16(%ebp)
2896:str_merge.c   ****     if (ht == NULL) {STRMERG_LOG_E("malloc fail ht "); exit(2);}
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 137


 4945              	LM621:
 4946 3158 837DF000 		cmpl	$0, -16(%ebp)
 4947 315c 7528     		jne	L299
 4948 315e C7442408 		movl	$LC48, 8(%esp)
 4948      A42E0000 
 4949 3166 C7442404 		movl	$LC3, 4(%esp)
 4949      4B040000 
 4950 316e C7042403 		movl	$3, (%esp)
 4950      000000
 4951 3175 E8000000 		call	_reslog_adaptor_log
 4951      00
 4952 317a C7042402 		movl	$2, (%esp)
 4952      000000
 4953 3181 E8000000 		call	_exit
 4953      00
 4954              	L299:
2897:str_merge.c   ****     /* allocate memory */
2898:str_merge.c   ****     strres_dup = malloc(sizeof(struct DupStrRes));
 4956              	LM622:
 4957 3186 C7042408 		movl	$8, (%esp)
 4957      000000
 4958 318d E8000000 		call	_malloc
 4958      00
 4959 3192 8945B4   		movl	%eax, -76(%ebp)
2899:str_merge.c   ****     if (strres_dup == NULL) {STRMERG_LOG_E("malloc fail strres_dup "); exit(2);}
 4961              	LM623:
 4962 3195 837DB400 		cmpl	$0, -76(%ebp)
 4963 3199 7528     		jne	L300
 4964 319b C7442408 		movl	$LC49, 8(%esp)
 4964      B42E0000 
 4965 31a3 C7442404 		movl	$LC3, 4(%esp)
 4965      4B040000 
 4966 31ab C7042403 		movl	$3, (%esp)
 4966      000000
 4967 31b2 E8000000 		call	_reslog_adaptor_log
 4967      00
 4968 31b7 C7042402 		movl	$2, (%esp)
 4968      000000
 4969 31be E8000000 		call	_exit
 4969      00
 4970              	L300:
2900:str_merge.c   ****     strres_dup->Str = (wchar_t **)malloc(sizeof(wchar_t *) * CurrMaxTransStrId * 3);
 4972              	LM624:
 4973 31c3 8B5DB4   		movl	-76(%ebp), %ebx
 4974 31c6 0FB71500 		movzwl	_CurrMaxTransStrId, %edx
 4974      000000
 4975 31cd 89D0     		movl	%edx, %eax
 4976 31cf 01C0     		addl	%eax, %eax
 4977 31d1 01D0     		addl	%edx, %eax
 4978 31d3 C1E002   		sall	$2, %eax
 4979 31d6 890424   		movl	%eax, (%esp)
 4980 31d9 E8000000 		call	_malloc
 4980      00
 4981 31de 8903     		movl	%eax, (%ebx)
2901:str_merge.c   ****     if (strres_dup->Str == NULL) {STRMERG_LOG_E("malloc fail strres_dup->Str "); exit(2);}
 4983              	LM625:
 4984 31e0 8B45B4   		movl	-76(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 138


 4985 31e3 833800   		cmpl	$0, (%eax)
 4986 31e6 7528     		jne	L301
 4987 31e8 C7442408 		movl	$LC50, 8(%esp)
 4987      CC2E0000 
 4988 31f0 C7442404 		movl	$LC3, 4(%esp)
 4988      4B040000 
 4989 31f8 C7042403 		movl	$3, (%esp)
 4989      000000
 4990 31ff E8000000 		call	_reslog_adaptor_log
 4990      00
 4991 3204 C7042402 		movl	$2, (%esp)
 4991      000000
 4992 320b E8000000 		call	_exit
 4992      00
 4993              	L301:
2902:str_merge.c   ****     /* init */
2903:str_merge.c   ****     strres_dup->MaxNum = 0;
 4995              	LM626:
 4996 3210 8B45B4   		movl	-76(%ebp), %eax
 4997 3213 C7400400 		movl	$0, 4(%eax)
 4997      000000
2904:str_merge.c   **** 
2905:str_merge.c   ****     mtk_gLanguageFlag = malloc(sizeof(int) * mtk_gMaxDeployedLangs);
 4999              	LM627:
 5000 321a 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 5000      000000
 5001 3221 C1E002   		sall	$2, %eax
 5002 3224 890424   		movl	%eax, (%esp)
 5003 3227 E8000000 		call	_malloc
 5003      00
 5004 322c A3B80000 		movl	%eax, _mtk_gLanguageFlag
 5004      00
2906:str_merge.c   ****     if (mtk_gLanguageFlag == NULL) {STRMERG_LOG_E("malloc fail mtk_gLanguageFlag "); exit(2);}
 5006              	LM628:
 5007 3231 833DB800 		cmpl	$0, _mtk_gLanguageFlag
 5007      000000
 5008 3238 7528     		jne	L302
 5009 323a C7442408 		movl	$LC51, 8(%esp)
 5009      002F0000 
 5010 3242 C7442404 		movl	$LC3, 4(%esp)
 5010      4B040000 
 5011 324a C7042403 		movl	$3, (%esp)
 5011      000000
 5012 3251 E8000000 		call	_reslog_adaptor_log
 5012      00
 5013 3256 C7042402 		movl	$2, (%esp)
 5013      000000
 5014 325d E8000000 		call	_exit
 5014      00
 5015              	L302:
2907:str_merge.c   ****     for (h = 0; h < mtk_gMaxDeployedLangs; h++)
 5017              	LM629:
 5018 3262 C745CC00 		movl	$0, -52(%ebp)
 5018      000000
 5019              	L303:
 5020 3269 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 5020      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 139


 5021 3270 3945CC   		cmpl	%eax, -52(%ebp)
 5022 3273 7C02     		jl	L306
 5023 3275 EB1D     		jmp	L304
 5024              	L306:
2908:str_merge.c   ****     {
2909:str_merge.c   ****         mtk_gLanguageFlag[h] = 0;
 5026              	LM630:
 5027 3277 8B45CC   		movl	-52(%ebp), %eax
 5028 327a 8D148500 		leal	0(,%eax,4), %edx
 5028      000000
 5029 3281 A1B80000 		movl	_mtk_gLanguageFlag, %eax
 5029      00
 5030 3286 C7041000 		movl	$0, (%eax,%edx)
 5030      000000
 5032              	LM631:
 5033 328d 8D45CC   		leal	-52(%ebp), %eax
 5034 3290 FF00     		incl	(%eax)
 5035 3292 EBD5     		jmp	L303
 5036              	L304:
2910:str_merge.c   ****     }
2911:str_merge.c   **** 
2912:str_merge.c   ****     for (j = 0; j < nUsedLang; j++)
 5038              	LM632:
 5039 3294 C745D400 		movl	$0, -44(%ebp)
 5039      000000
 5040              	L307:
 5041 329b 0FB70598 		movzwl	_nUsedLang, %eax
 5041      000000
 5042 32a2 3945D4   		cmpl	%eax, -44(%ebp)
 5043 32a5 7C05     		jl	L310
 5044 32a7 E9010D00 		jmp	L308
 5044      00
 5045              	L310:
2913:str_merge.c   ****     {
2914:str_merge.c   ****         wcscpy(ref_tmp, filter_ref_ssc);
 5047              	LM633:
 5048 32ac A1880000 		movl	_filter_ref_ssc, %eax
 5048      00
 5049 32b1 89442404 		movl	%eax, 4(%esp)
 5050 32b5 A1680000 		movl	_ref_tmp, %eax
 5050      00
 5051 32ba 890424   		movl	%eax, (%esp)
 5052 32bd E8000000 		call	_wcscpy
 5052      00
2915:str_merge.c   ****         tok = wcstok(ref_tmp, DELIMETER);   /* ENUM */
 5054              	LM634:
 5055 32c2 A1940100 		movl	_DELIMETER, %eax
 5055      00
 5056 32c7 89442404 		movl	%eax, 4(%esp)
 5057 32cb A1680000 		movl	_ref_tmp, %eax
 5057      00
 5058 32d0 890424   		movl	%eax, (%esp)
 5059 32d3 E8000000 		call	_wcstok
 5059      00
 5060 32d8 8945E0   		movl	%eax, -32(%ebp)
2916:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* MODULE NAME */
 5062              	LM635:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 140


 5063 32db A1940100 		movl	_DELIMETER, %eax
 5063      00
 5064 32e0 89442404 		movl	%eax, 4(%esp)
 5065 32e4 C7042400 		movl	$0, (%esp)
 5065      000000
 5066 32eb E8000000 		call	_wcstok
 5066      00
 5067 32f0 8945E0   		movl	%eax, -32(%ebp)
2917:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* MAX LENGTH */
 5069              	LM636:
 5070 32f3 A1940100 		movl	_DELIMETER, %eax
 5070      00
 5071 32f8 89442404 		movl	%eax, 4(%esp)
 5072 32fc C7042400 		movl	$0, (%esp)
 5072      000000
 5073 3303 E8000000 		call	_wcstok
 5073      00
 5074 3308 8945E0   		movl	%eax, -32(%ebp)
2918:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* DESCRIPTION */
 5076              	LM637:
 5077 330b A1940100 		movl	_DELIMETER, %eax
 5077      00
 5078 3310 89442404 		movl	%eax, 4(%esp)
 5079 3314 C7042400 		movl	$0, (%esp)
 5079      000000
 5080 331b E8000000 		call	_wcstok
 5080      00
 5081 3320 8945E0   		movl	%eax, -32(%ebp)
2919:str_merge.c   **** 
2920:str_merge.c   ****         /* change to corresponding language column according to j */
2921:str_merge.c   ****         for (k = 0; k < j + 1; k++)
 5083              	LM638:
 5084 3323 C745D000 		movl	$0, -48(%ebp)
 5084      000000
 5085              	L311:
 5086 332a 8B45D4   		movl	-44(%ebp), %eax
 5087 332d 40       		incl	%eax
 5088 332e 3945D0   		cmpl	%eax, -48(%ebp)
 5089 3331 7C02     		jl	L314
 5090 3333 EB1F     		jmp	L312
 5091              	L314:
2922:str_merge.c   ****         {
2923:str_merge.c   ****             tok = wcstok(NULL, DELIMETER);
 5093              	LM639:
 5094 3335 A1940100 		movl	_DELIMETER, %eax
 5094      00
 5095 333a 89442404 		movl	%eax, 4(%esp)
 5096 333e C7042400 		movl	$0, (%esp)
 5096      000000
 5097 3345 E8000000 		call	_wcstok
 5097      00
 5098 334a 8945E0   		movl	%eax, -32(%ebp)
 5100              	LM640:
 5101 334d 8D45D0   		leal	-48(%ebp), %eax
 5102 3350 FF00     		incl	(%eax)
 5103 3352 EBD6     		jmp	L311
 5104              	L312:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 141


2924:str_merge.c   ****         }
2925:str_merge.c   ****         ASSERT(tok != NULL);
 5106              	LM641:
 5107 3354 837DE000 		cmpl	$0, -32(%ebp)
 5108 3358 7502     		jne	L319
 5109              	L316:
 5110 335a EBFE     		jmp	L316
 5111              	L319:
2926:str_merge.c   ****         LangIndex = ifLanguageUsed(tok);
 5113              	LM642:
 5114 335c 8B45E0   		movl	-32(%ebp), %eax
 5115 335f 890424   		movl	%eax, (%esp)
 5116 3362 E8D6F6FF 		call	_ifLanguageUsed
 5116      FF
 5117 3367 8945C4   		movl	%eax, -60(%ebp)
2927:str_merge.c   **** 
2928:str_merge.c   ****         if (LangIndex < 0) /* the language is not used in font resource */
 5119              	LM643:
 5120 336a 837DC400 		cmpl	$0, -60(%ebp)
 5121 336e 7905     		jns	L320
2929:str_merge.c   ****             continue;
 5123              	LM644:
 5124 3370 E92E0C00 		jmp	L309
 5124      00
 5125              	L320:
2930:str_merge.c   **** 
2931:str_merge.c   ****         mtk_gLanguageFlag[LangIndex] = 1;
 5127              	LM645:
 5128 3375 8B45C4   		movl	-60(%ebp), %eax
 5129 3378 8D148500 		leal	0(,%eax,4), %edx
 5129      000000
 5130 337f A1B80000 		movl	_mtk_gLanguageFlag, %eax
 5130      00
 5131 3384 C7041001 		movl	$1, (%eax,%edx)
 5131      000000
2932:str_merge.c   **** 
2933:str_merge.c   ****         strres[LangIndex].Str = (wchar_t **)malloc(sizeof(wchar_t *) * CurrMaxTransStrId);
 5133              	LM646:
 5134 338b 8B55C4   		movl	-60(%ebp), %edx
 5135 338e 89D0     		movl	%edx, %eax
 5136 3390 01C0     		addl	%eax, %eax
 5137 3392 01D0     		addl	%edx, %eax
 5138 3394 8D1CC500 		leal	0(,%eax,8), %ebx
 5138      000000
 5139 339b 8B75E4   		movl	-28(%ebp), %esi
 5140 339e 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5140      000000
 5141 33a5 C1E002   		sall	$2, %eax
 5142 33a8 890424   		movl	%eax, (%esp)
 5143 33ab E8000000 		call	_malloc
 5143      00
 5144 33b0 89041E   		movl	%eax, (%esi,%ebx)
2934:str_merge.c   ****         if (strres[LangIndex].Str == NULL) {STRMERG_LOG_E("malloc fail strres[LangIndex].Str "); ex
 5146              	LM647:
 5147 33b3 8B55C4   		movl	-60(%ebp), %edx
 5148 33b6 89D0     		movl	%edx, %eax
 5149 33b8 01C0     		addl	%eax, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 142


 5150 33ba 01D0     		addl	%edx, %eax
 5151 33bc 8D14C500 		leal	0(,%eax,8), %edx
 5151      000000
 5152 33c3 8B45E4   		movl	-28(%ebp), %eax
 5153 33c6 833C1000 		cmpl	$0, (%eax,%edx)
 5154 33ca 7528     		jne	L321
 5155 33cc C7442408 		movl	$LC52, 8(%esp)
 5155      202F0000 
 5156 33d4 C7442404 		movl	$LC3, 4(%esp)
 5156      4B040000 
 5157 33dc C7042403 		movl	$3, (%esp)
 5157      000000
 5158 33e3 E8000000 		call	_reslog_adaptor_log
 5158      00
 5159 33e8 C7042402 		movl	$2, (%esp)
 5159      000000
 5160 33ef E8000000 		call	_exit
 5160      00
 5161              	L321:
2935:str_merge.c   ****         strres[LangIndex].StrRef = (int *)malloc(sizeof(int) * CurrMaxTransStrId);
 5163              	LM648:
 5164 33f4 8B55C4   		movl	-60(%ebp), %edx
 5165 33f7 89D0     		movl	%edx, %eax
 5166 33f9 01C0     		addl	%eax, %eax
 5167 33fb 01D0     		addl	%edx, %eax
 5168 33fd 8D1CC500 		leal	0(,%eax,8), %ebx
 5168      000000
 5169 3404 8B75E4   		movl	-28(%ebp), %esi
 5170 3407 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5170      000000
 5171 340e C1E002   		sall	$2, %eax
 5172 3411 890424   		movl	%eax, (%esp)
 5173 3414 E8000000 		call	_malloc
 5173      00
 5174 3419 89441E04 		movl	%eax, 4(%esi,%ebx)
2936:str_merge.c   ****         if (strres[LangIndex].StrRef == NULL) {STRMERG_LOG_E("malloc fail strres[LangIndex].StrRef 
 5176              	LM649:
 5177 341d 8B55C4   		movl	-60(%ebp), %edx
 5178 3420 89D0     		movl	%edx, %eax
 5179 3422 01C0     		addl	%eax, %eax
 5180 3424 01D0     		addl	%edx, %eax
 5181 3426 8D14C500 		leal	0(,%eax,8), %edx
 5181      000000
 5182 342d 8B45E4   		movl	-28(%ebp), %eax
 5183 3430 837C1004 		cmpl	$0, 4(%eax,%edx)
 5183      00
 5184 3435 7528     		jne	L322
 5185 3437 C7442408 		movl	$LC53, 8(%esp)
 5185      602F0000 
 5186 343f C7442404 		movl	$LC3, 4(%esp)
 5186      4B040000 
 5187 3447 C7042403 		movl	$3, (%esp)
 5187      000000
 5188 344e E8000000 		call	_reslog_adaptor_log
 5188      00
 5189 3453 C7042402 		movl	$2, (%esp)
 5189      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 143


 5190 345a E8000000 		call	_exit
 5190      00
 5191              	L322:
2937:str_merge.c   ****         /* allocate memory */
2938:str_merge.c   ****         strres[LangIndex].is_dup= (char *)malloc(sizeof(char) * CurrMaxTransStrId);
 5193              	LM650:
 5194 345f 8B55C4   		movl	-60(%ebp), %edx
 5195 3462 89D0     		movl	%edx, %eax
 5196 3464 01C0     		addl	%eax, %eax
 5197 3466 01D0     		addl	%edx, %eax
 5198 3468 8D34C500 		leal	0(,%eax,8), %esi
 5198      000000
 5199 346f 8B5DE4   		movl	-28(%ebp), %ebx
 5200 3472 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5200      000000
 5201 3479 890424   		movl	%eax, (%esp)
 5202 347c E8000000 		call	_malloc
 5202      00
 5203 3481 89443310 		movl	%eax, 16(%ebx,%esi)
2939:str_merge.c   ****         if (strres[LangIndex].is_dup == NULL) {STRMERG_LOG_E("malloc fail strres[LangIndex].is_dup 
 5205              	LM651:
 5206 3485 8B55C4   		movl	-60(%ebp), %edx
 5207 3488 89D0     		movl	%edx, %eax
 5208 348a 01C0     		addl	%eax, %eax
 5209 348c 01D0     		addl	%edx, %eax
 5210 348e 8D14C500 		leal	0(,%eax,8), %edx
 5210      000000
 5211 3495 8B45E4   		movl	-28(%ebp), %eax
 5212 3498 837C1010 		cmpl	$0, 16(%eax,%edx)
 5212      00
 5213 349d 7528     		jne	L323
 5214 349f C7442408 		movl	$LC54, 8(%esp)
 5214      A02F0000 
 5215 34a7 C7442404 		movl	$LC3, 4(%esp)
 5215      4B040000 
 5216 34af C7042403 		movl	$3, (%esp)
 5216      000000
 5217 34b6 E8000000 		call	_reslog_adaptor_log
 5217      00
 5218 34bb C7042402 		movl	$2, (%esp)
 5218      000000
 5219 34c2 E8000000 		call	_exit
 5219      00
 5220              	L323:
2940:str_merge.c   ****         /* set default value */
2941:str_merge.c   ****         for (l = 0; l < CurrMaxTransStrId; l++)
 5222              	LM652:
 5223 34c7 C745C800 		movl	$0, -56(%ebp)
 5223      000000
 5224              	L324:
 5225 34ce 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5225      000000
 5226 34d5 3945C8   		cmpl	%eax, -56(%ebp)
 5227 34d8 7C02     		jl	L327
 5228 34da EB67     		jmp	L325
 5229              	L327:
2942:str_merge.c   ****         {
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 144


2943:str_merge.c   ****             strres[LangIndex].StrRef[l] = -1;
 5231              	LM653:
 5232 34dc 8B55C4   		movl	-60(%ebp), %edx
 5233 34df 89D0     		movl	%edx, %eax
 5234 34e1 01C0     		addl	%eax, %eax
 5235 34e3 01D0     		addl	%edx, %eax
 5236 34e5 8D1CC500 		leal	0(,%eax,8), %ebx
 5236      000000
 5237 34ec 8B4DE4   		movl	-28(%ebp), %ecx
 5238 34ef 8B45C8   		movl	-56(%ebp), %eax
 5239 34f2 8D148500 		leal	0(,%eax,4), %edx
 5239      000000
 5240 34f9 8B441904 		movl	4(%ecx,%ebx), %eax
 5241 34fd C70410FF 		movl	$-1, (%eax,%edx)
 5241      FFFFFF
2944:str_merge.c   ****             strres[LangIndex].TotalLength = 0;
 5243              	LM654:
 5244 3504 8B55C4   		movl	-60(%ebp), %edx
 5245 3507 89D0     		movl	%edx, %eax
 5246 3509 01C0     		addl	%eax, %eax
 5247 350b 01D0     		addl	%edx, %eax
 5248 350d 8D14C500 		leal	0(,%eax,8), %edx
 5248      000000
 5249 3514 8B45E4   		movl	-28(%ebp), %eax
 5250 3517 C7441014 		movl	$0, 20(%eax,%edx)
 5250      00000000 
2945:str_merge.c   ****             /* set default value */
2946:str_merge.c   ****             strres[LangIndex].is_dup[l] = 0;
 5252              	LM655:
 5253 351f 8B55C4   		movl	-60(%ebp), %edx
 5254 3522 89D0     		movl	%edx, %eax
 5255 3524 01C0     		addl	%eax, %eax
 5256 3526 01D0     		addl	%edx, %eax
 5257 3528 8D0CC500 		leal	0(,%eax,8), %ecx
 5257      000000
 5258 352f 8B55E4   		movl	-28(%ebp), %edx
 5259 3532 8B45C8   		movl	-56(%ebp), %eax
 5260 3535 03440A10 		addl	16(%edx,%ecx), %eax
 5261 3539 C60000   		movb	$0, (%eax)
 5263              	LM656:
 5264 353c 8D45C8   		leal	-56(%ebp), %eax
 5265 353f FF00     		incl	(%eax)
 5266 3541 EB8B     		jmp	L324
 5267              	L325:
2947:str_merge.c   ****         }
2948:str_merge.c   **** 
2949:str_merge.c   ****         /* set hash_range as maximum id times 1.1(Can be changed) */
2950:str_merge.c   ****         hash_range = (int)(CurrMaxTransStrId * 1.1);
 5269              	LM657:
 5270 3543 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5270      000000
 5271 354a 50       		pushl	%eax
 5272 354b DB0424   		fildl	(%esp)
 5273 354e 8D642404 		leal	4(%esp), %esp
 5274 3552 DD058030 		fldl	LC55
 5274      0000
 5275 3558 DEC9     		fmulp	%st, %st(1)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 145


 5276 355a D97DA2   		fnstcw	-94(%ebp)
 5277 355d 0FB745A2 		movzwl	-94(%ebp), %eax
 5278 3561 660D000C 		orw	$3072, %ax
 5279 3565 668945A0 		movw	%ax, -96(%ebp)
 5280 3569 D96DA0   		fldcw	-96(%ebp)
 5281 356c DB5DC0   		fistpl	-64(%ebp)
 5282 356f D96DA2   		fldcw	-94(%ebp)
2951:str_merge.c   **** 
2952:str_merge.c   ****         /* initialize hash table */
2953:str_merge.c   ****         ht[LangIndex] = (struct HashItem *)malloc(sizeof(struct HashItem) * hash_range);
 5284              	LM658:
 5285 3572 8B45C4   		movl	-60(%ebp), %eax
 5286 3575 8D348500 		leal	0(,%eax,4), %esi
 5286      000000
 5287 357c 8B5DF0   		movl	-16(%ebp), %ebx
 5288 357f 8B45C0   		movl	-64(%ebp), %eax
 5289 3582 C1E003   		sall	$3, %eax
 5290 3585 890424   		movl	%eax, (%esp)
 5291 3588 E8000000 		call	_malloc
 5291      00
 5292 358d 890433   		movl	%eax, (%ebx,%esi)
2954:str_merge.c   ****         if (ht[LangIndex] == NULL) {STRMERG_LOG_E("malloc fail ht[LangIndex] "); exit(2);}
 5294              	LM659:
 5295 3590 8B45C4   		movl	-60(%ebp), %eax
 5296 3593 8D148500 		leal	0(,%eax,4), %edx
 5296      000000
 5297 359a 8B45F0   		movl	-16(%ebp), %eax
 5298 359d 833C1000 		cmpl	$0, (%eax,%edx)
 5299 35a1 7528     		jne	L328
 5300 35a3 C7442408 		movl	$LC56, 8(%esp)
 5300      C62F0000 
 5301 35ab C7442404 		movl	$LC3, 4(%esp)
 5301      4B040000 
 5302 35b3 C7042403 		movl	$3, (%esp)
 5302      000000
 5303 35ba E8000000 		call	_reslog_adaptor_log
 5303      00
 5304 35bf C7042402 		movl	$2, (%esp)
 5304      000000
 5305 35c6 E8000000 		call	_exit
 5305      00
 5306              	L328:
2955:str_merge.c   ****         for (k = 0; k < hash_range; k++)
 5308              	LM660:
 5309 35cb C745D000 		movl	$0, -48(%ebp)
 5309      000000
 5310              	L329:
 5311 35d2 8B45D0   		movl	-48(%ebp), %eax
 5312 35d5 3B45C0   		cmpl	-64(%ebp), %eax
 5313 35d8 7C02     		jl	L332
 5314 35da EB4A     		jmp	L330
 5315              	L332:
2956:str_merge.c   ****         {
2957:str_merge.c   ****             ht[LangIndex][k].next = NULL;
 5317              	LM661:
 5318 35dc 8B45C4   		movl	-60(%ebp), %eax
 5319 35df 8D1C8500 		leal	0(,%eax,4), %ebx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 146


 5319      000000
 5320 35e6 8B4DF0   		movl	-16(%ebp), %ecx
 5321 35e9 8B45D0   		movl	-48(%ebp), %eax
 5322 35ec 8D14C500 		leal	0(,%eax,8), %edx
 5322      000000
 5323 35f3 8B0419   		movl	(%ecx,%ebx), %eax
 5324 35f6 C7441004 		movl	$0, 4(%eax,%edx)
 5324      00000000 
2958:str_merge.c   ****             ht[LangIndex][k].pointer = -1;
 5326              	LM662:
 5327 35fe 8B45C4   		movl	-60(%ebp), %eax
 5328 3601 8D1C8500 		leal	0(,%eax,4), %ebx
 5328      000000
 5329 3608 8B4DF0   		movl	-16(%ebp), %ecx
 5330 360b 8B45D0   		movl	-48(%ebp), %eax
 5331 360e 8D14C500 		leal	0(,%eax,8), %edx
 5331      000000
 5332 3615 8B0419   		movl	(%ecx,%ebx), %eax
 5333 3618 C70410FF 		movl	$-1, (%eax,%edx)
 5333      FFFFFF
 5335              	LM663:
 5336 361f 8D45D0   		leal	-48(%ebp), %eax
 5337 3622 FF00     		incl	(%eax)
 5338 3624 EBAC     		jmp	L329
 5339              	L330:
2959:str_merge.c   ****         }
2960:str_merge.c   **** 
2961:str_merge.c   ****         k = 0;
 5341              	LM664:
 5342 3626 C745D000 		movl	$0, -48(%ebp)
 5342      000000
2962:str_merge.c   ****         i = 0;  /* number of Ref(non-duplicate strings, excluding NULL) */
 5344              	LM665:
 5345 362d C745D800 		movl	$0, -40(%ebp)
 5345      000000
2963:str_merge.c   ****         l = -1; /* number of ID (all strings) */
 5347              	LM666:
 5348 3634 C745C8FF 		movl	$-1, -56(%ebp)
 5348      FFFFFF
2964:str_merge.c   **** 
2965:str_merge.c   ****         while (l < CurrMaxTransStrId - 1)
 5350              	LM667:
 5351              	L333:
 5352 363b 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 5352      000000
 5353 3642 48       		decl	%eax
 5354 3643 3945C8   		cmpl	%eax, -56(%ebp)
 5355 3646 7C05     		jl	L335
 5356 3648 E9210900 		jmp	L334
 5356      00
 5357              	L335:
2966:str_merge.c   ****         {
2967:str_merge.c   ****             l++;
 5359              	LM668:
 5360 364d 8D45C8   		leal	-56(%ebp), %eax
 5361 3650 FF00     		incl	(%eax)
2968:str_merge.c   ****             nStrId = StrID[l];
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 147


 5363              	LM669:
 5364 3652 8B45C8   		movl	-56(%ebp), %eax
 5365 3655 8D1400   		leal	(%eax,%eax), %edx
 5366 3658 A1180000 		movl	_StrID, %eax
 5366      00
 5367 365d 0FB70410 		movzwl	(%eax,%edx), %eax
 5368 3661 668945B2 		movw	%ax, -78(%ebp)
2969:str_merge.c   **** 
2970:str_merge.c   ****             /* check if ID already found in ref_list.txt, save the result in ref_item_found */
2971:str_merge.c   ****             if (StrLine[nStrId] != 0)
 5370              	LM670:
 5371 3665 0FB745B2 		movzwl	-78(%ebp), %eax
 5372 3669 6683BC00 		cmpw	$0, _StrLine(%eax,%eax)
 5372      D8000000 
 5372      00
 5373 3672 0F848600 		je	L336
 5373      0000
2972:str_merge.c   ****             {
2973:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
2974:str_merge.c   ****                 wcscpy(ref_tmp, ref_all + (StrLine[nStrId] - 1) * g_line_buf_act_length);
2975:str_merge.c   **** #else
2976:str_merge.c   ****                 tmp_list_item = GetRefListItem(ref_all_list,(StrLine[nStrId] - 1));
 5375              	LM671:
 5376 3678 0FB745B2 		movzwl	-78(%ebp), %eax
 5377 367c 0FB78400 		movzwl	_StrLine(%eax,%eax), %eax
 5377      D8000000 
 5378 3684 48       		decl	%eax
 5379 3685 89442404 		movl	%eax, 4(%esp)
 5380 3689 A1480000 		movl	_ref_all_list, %eax
 5380      00
 5381 368e 890424   		movl	%eax, (%esp)
 5382 3691 E88E4700 		call	_GetRefListItem
 5382      00
 5383 3696 8945B8   		movl	%eax, -72(%ebp)
2977:str_merge.c   ****                 if(tmp_list_item!=NULL)
 5385              	LM672:
 5386 3699 837DB800 		cmpl	$0, -72(%ebp)
 5387 369d 741F     		je	L337
2978:str_merge.c   ****                 {
2979:str_merge.c   ****                     wcscpy(ref_tmp,tmp_list_item->ItemData );
 5389              	LM673:
 5390 369f 8B45B8   		movl	-72(%ebp), %eax
 5391 36a2 8B00     		movl	(%eax), %eax
 5392 36a4 89442404 		movl	%eax, 4(%esp)
 5393 36a8 A1680000 		movl	_ref_tmp, %eax
 5393      00
 5394 36ad 890424   		movl	%eax, (%esp)
 5395 36b0 E8000000 		call	_wcscpy
 5395      00
2980:str_merge.c   ****                     ref_item_found = 1;
 5397              	LM674:
 5398 36b5 C745BC01 		movl	$1, -68(%ebp)
 5398      000000
 5399 36bc EB40     		jmp	L336
 5400              	L337:
2981:str_merge.c   ****                 }
2982:str_merge.c   ****                 else
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 148


2983:str_merge.c   ****                 {
2984:str_merge.c   ****                     // Reset the buffer
2985:str_merge.c   ****                     wcscpy(ref_tmp,L"");
 5402              	LM675:
 5403 36be C7442404 		movl	$LC12, 4(%esp)
 5403      460E0000 
 5404 36c6 A1680000 		movl	_ref_tmp, %eax
 5404      00
 5405 36cb 890424   		movl	%eax, (%esp)
 5406 36ce E8000000 		call	_wcscpy
 5406      00
2986:str_merge.c   ****                     STRMERG_LOG_E("No REF item found for String: %d", nStrId);
 5408              	LM676:
 5409 36d3 0FB745B2 		movzwl	-78(%ebp), %eax
 5410 36d7 8944240C 		movl	%eax, 12(%esp)
 5411 36db C7442408 		movl	$LC57, 8(%esp)
 5411      00300000 
 5412 36e3 C7442404 		movl	$LC3, 4(%esp)
 5412      4B040000 
 5413 36eb C7042403 		movl	$3, (%esp)
 5413      000000
 5414 36f2 E8000000 		call	_reslog_adaptor_log
 5414      00
2987:str_merge.c   ****                     ref_item_found = 0;
 5416              	LM677:
 5417 36f7 C745BC00 		movl	$0, -68(%ebp)
 5417      000000
 5418              	L336:
2988:str_merge.c   ****                 }
2989:str_merge.c   **** #endif
2990:str_merge.c   ****             }
2991:str_merge.c   **** 
2992:str_merge.c   ****                 if(ref_item_found == 1){
 5420              	LM678:
 5421 36fe 837DBC01 		cmpl	$1, -68(%ebp)
 5422 3702 0F85D800 		jne	L339
 5422      0000
2993:str_merge.c   ****                 tok = wcstok(ref_tmp, DELIMETER);
 5424              	LM679:
 5425 3708 A1940100 		movl	_DELIMETER, %eax
 5425      00
 5426 370d 89442404 		movl	%eax, 4(%esp)
 5427 3711 A1680000 		movl	_ref_tmp, %eax
 5427      00
 5428 3716 890424   		movl	%eax, (%esp)
 5429 3719 E8000000 		call	_wcstok
 5429      00
 5430 371e 8945E0   		movl	%eax, -32(%ebp)
2994:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Module Name */
 5432              	LM680:
 5433 3721 A1940100 		movl	_DELIMETER, %eax
 5433      00
 5434 3726 89442404 		movl	%eax, 4(%esp)
 5435 372a C7042400 		movl	$0, (%esp)
 5435      000000
 5436 3731 E8000000 		call	_wcstok
 5436      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 149


 5437 3736 8945E0   		movl	%eax, -32(%ebp)
2995:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Max String Length */
 5439              	LM681:
 5440 3739 A1940100 		movl	_DELIMETER, %eax
 5440      00
 5441 373e 89442404 		movl	%eax, 4(%esp)
 5442 3742 C7042400 		movl	$0, (%esp)
 5442      000000
 5443 3749 E8000000 		call	_wcstok
 5443      00
 5444 374e 8945E0   		movl	%eax, -32(%ebp)
2996:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Description */
 5446              	LM682:
 5447 3751 A1940100 		movl	_DELIMETER, %eax
 5447      00
 5448 3756 89442404 		movl	%eax, 4(%esp)
 5449 375a C7042400 		movl	$0, (%esp)
 5449      000000
 5450 3761 E8000000 		call	_wcstok
 5450      00
 5451 3766 8945E0   		movl	%eax, -32(%ebp)
2997:str_merge.c   ****                 /* change to corresponding language column according to j */
2998:str_merge.c   ****                 for (k = 0; k < j + 1; k++)
 5453              	LM683:
 5454 3769 C745D000 		movl	$0, -48(%ebp)
 5454      000000
 5455              	L340:
 5456 3770 8B45D4   		movl	-44(%ebp), %eax
 5457 3773 40       		incl	%eax
 5458 3774 3945D0   		cmpl	%eax, -48(%ebp)
 5459 3777 7C05     		jl	L343
 5460 3779 E9B60000 		jmp	L346
 5460      00
 5461              	L343:
2999:str_merge.c   ****                 {
3000:str_merge.c   ****                     tok = wcstok(NULL, DELIMETER);
 5463              	LM684:
 5464 377e A1940100 		movl	_DELIMETER, %eax
 5464      00
 5465 3783 89442404 		movl	%eax, 4(%esp)
 5466 3787 C7042400 		movl	$0, (%esp)
 5466      000000
 5467 378e E8000000 		call	_wcstok
 5467      00
 5468 3793 8945E0   		movl	%eax, -32(%ebp)
3001:str_merge.c   ****                     if (k == 0)
 5470              	LM685:
 5471 3796 837DD000 		cmpl	$0, -48(%ebp)
 5472 379a 7506     		jne	L344
3002:str_merge.c   ****                     {
3003:str_merge.c   ****                         tok_eng = tok;
 5474              	LM686:
 5475 379c 8B45E0   		movl	-32(%ebp), %eax
 5476 379f 8945DC   		movl	%eax, -36(%ebp)
 5477              	L344:
3004:str_merge.c   ****                     }
3005:str_merge.c   ****                     /* here possible case for tok to be NULL? */
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 150


3006:str_merge.c   **** 
3007:str_merge.c   ****                     if (tok != NULL && tok[wcslen(tok) - 1] == (wchar_t)'\n')
 5479              	LM687:
 5480 37a2 837DE000 		cmpl	$0, -32(%ebp)
 5481 37a6 7431     		je	L342
 5482 37a8 8B45E0   		movl	-32(%ebp), %eax
 5483 37ab 890424   		movl	%eax, (%esp)
 5484 37ae E8000000 		call	_wcslen
 5484      00
 5485 37b3 01C0     		addl	%eax, %eax
 5486 37b5 0345E0   		addl	-32(%ebp), %eax
 5487 37b8 83E802   		subl	$2, %eax
 5488 37bb 6683380A 		cmpw	$10, (%eax)
 5489 37bf 7518     		jne	L342
3008:str_merge.c   ****                     {
3009:str_merge.c   ****                         /* remove carriage-return */
3010:str_merge.c   ****                         tok[wcslen(tok) - 2] = '\0';
 5491              	LM688:
 5492 37c1 8B45E0   		movl	-32(%ebp), %eax
 5493 37c4 890424   		movl	%eax, (%esp)
 5494 37c7 E8000000 		call	_wcslen
 5494      00
 5495 37cc 01C0     		addl	%eax, %eax
 5496 37ce 0345E0   		addl	-32(%ebp), %eax
 5497 37d1 83E804   		subl	$4, %eax
 5498 37d4 66C70000 		movw	$0, (%eax)
 5498      00
 5500              	LM689:
 5501              	L342:
 5502 37d9 8D45D0   		leal	-48(%ebp), %eax
 5503 37dc FF00     		incl	(%eax)
 5504 37de EB90     		jmp	L340
 5505              	L339:
3011:str_merge.c   ****                     }
3012:str_merge.c   ****                 }
3013:str_merge.c   ****             }
3014:str_merge.c   ****             else
3015:str_merge.c   ****             {
3016:str_merge.c   ****                 /* no corresponding line in ref_list.txt */
3017:str_merge.c   ****                 // TODO: maybe we do not need to do this because processed this part in MergeStrRes
3018:str_merge.c   ****                 if(fixed_id.fixed_id_flag[nStrId] == TRANSLATE_FLAG)
 5507              	LM690:
 5508 37e0 0FB755B2 		movzwl	-78(%ebp), %edx
 5509 37e4 A1040000 		movl	_fixed_id+4, %eax
 5509      00
 5510 37e9 803C0202 		cmpb	$2, (%edx,%eax)
 5511 37ed 0F8548FE 		jne	L333
 5511      FFFF
3019:str_merge.c   ****                 {
3020:str_merge.c   ****                     strres[LangIndex].MaxID = strres[LangIndex].MaxID - 1;
 5513              	LM691:
 5514 37f3 8B55C4   		movl	-60(%ebp), %edx
 5515 37f6 89D0     		movl	%edx, %eax
 5516 37f8 01C0     		addl	%eax, %eax
 5517 37fa 01D0     		addl	%edx, %eax
 5518 37fc 8D0CC500 		leal	0(,%eax,8), %ecx
 5518      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 151


 5519 3803 8B5DE4   		movl	-28(%ebp), %ebx
 5520 3806 8B55C4   		movl	-60(%ebp), %edx
 5521 3809 89D0     		movl	%edx, %eax
 5522 380b 01C0     		addl	%eax, %eax
 5523 380d 01D0     		addl	%edx, %eax
 5524 380f 8D14C500 		leal	0(,%eax,8), %edx
 5524      000000
 5525 3816 8B45E4   		movl	-28(%ebp), %eax
 5526 3819 8B441008 		movl	8(%eax,%edx), %eax
 5527 381d 48       		decl	%eax
 5528 381e 89440B08 		movl	%eax, 8(%ebx,%ecx)
3021:str_merge.c   ****                     fixed_id.fixed_id_flag[nStrId] = NO_TRANSLATE_FLAG;
 5530              	LM692:
 5531 3822 0FB755B2 		movzwl	-78(%ebp), %edx
 5532 3826 A1040000 		movl	_fixed_id+4, %eax
 5532      00
 5533 382b C6040201 		movb	$1, (%edx,%eax)
3022:str_merge.c   ****                 }
3023:str_merge.c   ****                 continue;
 5535              	LM693:
 5536 382f E907FEFF 		jmp	L333
 5536      FF
 5537              	L346:
3024:str_merge.c   ****             }
3025:str_merge.c   **** 
3026:str_merge.c   ****             /* decise if the read-in string is " " (blank) */
3027:str_merge.c   ****             if (tok != NULL && tok[0] == 20 && tok[1] == 0)
 5539              	LM694:
 5540 3834 837DE000 		cmpl	$0, -32(%ebp)
 5541 3838 741C     		je	L348
 5542 383a 8B45E0   		movl	-32(%ebp), %eax
 5543 383d 66833814 		cmpw	$20, (%eax)
 5544 3841 7513     		jne	L348
 5545 3843 8B45E0   		movl	-32(%ebp), %eax
 5546 3846 83C002   		addl	$2, %eax
 5547 3849 66833800 		cmpw	$0, (%eax)
 5548 384d 7507     		jne	L348
3028:str_merge.c   ****                 tok = NULL;
 5550              	LM695:
 5551 384f C745E000 		movl	$0, -32(%ebp)
 5551      000000
 5552              	L348:
3029:str_merge.c   ****             /* handling NULL read-in string, it's Ref is default value -1 */
3030:str_merge.c   ****             if (tok == NULL)
 5554              	LM696:
 5555 3856 837DE000 		cmpl	$0, -32(%ebp)
 5556 385a 7502     		jne	L349
 5557 385c EB31     		jmp	L350
 5558              	L349:
3031:str_merge.c   ****             {
3032:str_merge.c   ****                 /* nothing to be done */
3033:str_merge.c   ****             }
3034:str_merge.c   ****             else if (tok[0] == NO_TRANSLATION_MARKER && tok[1] == 0)
 5560              	LM697:
 5561 385e 8B45E0   		movl	-32(%ebp), %eax
 5562 3861 66833813 		cmpw	$19, (%eax)
 5563 3865 7528     		jne	L350
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 152


 5564 3867 8B45E0   		movl	-32(%ebp), %eax
 5565 386a 83C002   		addl	$2, %eax
 5566 386d 66833800 		cmpw	$0, (%eax)
 5567 3871 751C     		jne	L350
3035:str_merge.c   ****             {
3036:str_merge.c   ****                 /* Use English translation in ref_list */
3037:str_merge.c   ****                 if (LangIndex == 0)
 5569              	LM698:
 5570 3873 837DC400 		cmpl	$0, -60(%ebp)
 5571 3877 7510     		jne	L352
3038:str_merge.c   ****                 {
3039:str_merge.c   ****                 /* no translation for current language */
3040:str_merge.c   ****                 tok = (wchar_t *)Str[nStrId];
 5573              	LM699:
 5574 3879 0FB745B2 		movzwl	-78(%ebp), %eax
 5575 387d 8B048500 		movl	_Str(,%eax,4), %eax
 5575      000000
 5576 3884 8945E0   		movl	%eax, -32(%ebp)
 5577 3887 EB06     		jmp	L350
 5578              	L352:
3041:str_merge.c   ****             }
3042:str_merge.c   ****                 else
3043:str_merge.c   ****                 {
3044:str_merge.c   ****                     tok = (wchar_t *)tok_eng;
 5580              	LM700:
 5581 3889 8B45DC   		movl	-36(%ebp), %eax
 5582 388c 8945E0   		movl	%eax, -32(%ebp)
 5583              	L350:
3045:str_merge.c   ****                 }
3046:str_merge.c   ****             }
3047:str_merge.c   **** 
3048:str_merge.c   ****             if (tok != NULL)
 5585              	LM701:
 5586 388f 837DE000 		cmpl	$0, -32(%ebp)
 5587 3893 0F84A2FD 		je	L333
 5587      FFFF
3049:str_merge.c   ****             {
3050:str_merge.c   ****                 /* transform "\""n" */
3051:str_merge.c   ****                 Trans(tok, tok);
 5589              	LM702:
 5590 3899 8B45E0   		movl	-32(%ebp), %eax
 5591 389c 89442404 		movl	%eax, 4(%esp)
 5592 38a0 8B45E0   		movl	-32(%ebp), %eax
 5593 38a3 890424   		movl	%eax, (%esp)
 5594 38a6 E85EF0FF 		call	_Trans
 5594      FF
3052:str_merge.c   **** 
3053:str_merge.c   ****                 /* calculate hash value */
3054:str_merge.c   ****                 h = GetHashValue(tok, hash_range);
 5596              	LM703:
 5597 38ab 8B45C0   		movl	-64(%ebp), %eax
 5598 38ae 89442404 		movl	%eax, 4(%esp)
 5599 38b2 8B45E0   		movl	-32(%ebp), %eax
 5600 38b5 890424   		movl	%eax, (%esp)
 5601 38b8 E8B0EFFF 		call	_GetHashValue
 5601      FF
 5602 38bd 8945CC   		movl	%eax, -52(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 153


3055:str_merge.c   ****                 if (ht[LangIndex][h].pointer == -1)
 5604              	LM704:
 5605 38c0 8B45C4   		movl	-60(%ebp), %eax
 5606 38c3 8D1C8500 		leal	0(,%eax,4), %ebx
 5606      000000
 5607 38ca 8B4DF0   		movl	-16(%ebp), %ecx
 5608 38cd 8B45CC   		movl	-52(%ebp), %eax
 5609 38d0 8D14C500 		leal	0(,%eax,8), %edx
 5609      000000
 5610 38d7 8B0419   		movl	(%ecx,%ebx), %eax
 5611 38da 833C10FF 		cmpl	$-1, (%eax,%edx)
 5612 38de 0F85AF01 		jne	L355
 5612      0000
3056:str_merge.c   ****                 {
3057:str_merge.c   ****                     /* no duplicate hash value */
3058:str_merge.c   ****                     ht[LangIndex][h].pointer = l;
 5614              	LM705:
 5615 38e4 8B45C4   		movl	-60(%ebp), %eax
 5616 38e7 8D1C8500 		leal	0(,%eax,4), %ebx
 5616      000000
 5617 38ee 8B55F0   		movl	-16(%ebp), %edx
 5618 38f1 8B45CC   		movl	-52(%ebp), %eax
 5619 38f4 8D0CC500 		leal	0(,%eax,8), %ecx
 5619      000000
 5620 38fb 8B141A   		movl	(%edx,%ebx), %edx
 5621 38fe 8B45C8   		movl	-56(%ebp), %eax
 5622 3901 89040A   		movl	%eax, (%edx,%ecx)
3059:str_merge.c   ****                     ht[LangIndex][h].next = NULL;
 5624              	LM706:
 5625 3904 8B45C4   		movl	-60(%ebp), %eax
 5626 3907 8D1C8500 		leal	0(,%eax,4), %ebx
 5626      000000
 5627 390e 8B4DF0   		movl	-16(%ebp), %ecx
 5628 3911 8B45CC   		movl	-52(%ebp), %eax
 5629 3914 8D14C500 		leal	0(,%eax,8), %edx
 5629      000000
 5630 391b 8B0419   		movl	(%ecx,%ebx), %eax
 5631 391e C7441004 		movl	$0, 4(%eax,%edx)
 5631      00000000 
3060:str_merge.c   ****                     /* check if this is a duplicated string already in other languages */
3061:str_merge.c   ****                     if (!LookupDupStr(strres, strres_dup, LangIndex, l, ht, h, tok))
 5633              	LM707:
 5634 3926 8B45E0   		movl	-32(%ebp), %eax
 5635 3929 89442418 		movl	%eax, 24(%esp)
 5636 392d 8B45CC   		movl	-52(%ebp), %eax
 5637 3930 89442414 		movl	%eax, 20(%esp)
 5638 3934 8B45F0   		movl	-16(%ebp), %eax
 5639 3937 89442410 		movl	%eax, 16(%esp)
 5640 393b 8B45C8   		movl	-56(%ebp), %eax
 5641 393e 8944240C 		movl	%eax, 12(%esp)
 5642 3942 8B45C4   		movl	-60(%ebp), %eax
 5643 3945 89442408 		movl	%eax, 8(%esp)
 5644 3949 8B45B4   		movl	-76(%ebp), %eax
 5645 394c 89442404 		movl	%eax, 4(%esp)
 5646 3950 8B45E4   		movl	-28(%ebp), %eax
 5647 3953 890424   		movl	%eax, (%esp)
 5648 3956 E8C1F1FF 		call	_LookupDupStr
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 154


 5648      FF
 5649 395b 85C0     		testl	%eax, %eax
 5650 395d 0F85D8FC 		jne	L333
 5650      FFFF
3062:str_merge.c   ****                     {
3063:str_merge.c   ****                         /* record max offset of each language in byte */
3064:str_merge.c   ****                     strres[LangIndex].Str[i] = (wchar_t *)malloc(wcslen(tok) * 2 + 2);
 5652              	LM708:
 5653 3963 8B55C4   		movl	-60(%ebp), %edx
 5654 3966 89D0     		movl	%edx, %eax
 5655 3968 01C0     		addl	%eax, %eax
 5656 396a 01D0     		addl	%edx, %eax
 5657 396c 8D0CC500 		leal	0(,%eax,8), %ecx
 5657      000000
 5658 3973 8B55E4   		movl	-28(%ebp), %edx
 5659 3976 8B45D8   		movl	-40(%ebp), %eax
 5660 3979 8D1C8500 		leal	0(,%eax,4), %ebx
 5660      000000
 5661 3980 8B340A   		movl	(%edx,%ecx), %esi
 5662 3983 8B45E0   		movl	-32(%ebp), %eax
 5663 3986 890424   		movl	%eax, (%esp)
 5664 3989 E8000000 		call	_wcslen
 5664      00
 5665 398e 01C0     		addl	%eax, %eax
 5666 3990 83C002   		addl	$2, %eax
 5667 3993 890424   		movl	%eax, (%esp)
 5668 3996 E8000000 		call	_malloc
 5668      00
 5669 399b 89041E   		movl	%eax, (%esi,%ebx)
3065:str_merge.c   ****                     if (strres[LangIndex].Str[i] == NULL) {STRMERG_LOG_E("malloc fail strres[LangIn
 5671              	LM709:
 5672 399e 8B55C4   		movl	-60(%ebp), %edx
 5673 39a1 89D0     		movl	%edx, %eax
 5674 39a3 01C0     		addl	%eax, %eax
 5675 39a5 01D0     		addl	%edx, %eax
 5676 39a7 8D1CC500 		leal	0(,%eax,8), %ebx
 5676      000000
 5677 39ae 8B4DE4   		movl	-28(%ebp), %ecx
 5678 39b1 8B45D8   		movl	-40(%ebp), %eax
 5679 39b4 8D148500 		leal	0(,%eax,4), %edx
 5679      000000
 5680 39bb 8B0419   		movl	(%ecx,%ebx), %eax
 5681 39be 833C1000 		cmpl	$0, (%eax,%edx)
 5682 39c2 7528     		jne	L357
 5683 39c4 C7442408 		movl	$LC58, 8(%esp)
 5683      40300000 
 5684 39cc C7442404 		movl	$LC3, 4(%esp)
 5684      4B040000 
 5685 39d4 C7042403 		movl	$3, (%esp)
 5685      000000
 5686 39db E8000000 		call	_reslog_adaptor_log
 5686      00
 5687 39e0 C7042402 		movl	$2, (%esp)
 5687      000000
 5688 39e7 E8000000 		call	_exit
 5688      00
 5689              	L357:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 155


3066:str_merge.c   ****                     wcscpy(strres[LangIndex].Str[i], tok);
 5691              	LM710:
 5692 39ec 8B45E0   		movl	-32(%ebp), %eax
 5693 39ef 89442404 		movl	%eax, 4(%esp)
 5694 39f3 8B55C4   		movl	-60(%ebp), %edx
 5695 39f6 89D0     		movl	%edx, %eax
 5696 39f8 01C0     		addl	%eax, %eax
 5697 39fa 01D0     		addl	%edx, %eax
 5698 39fc 8D1CC500 		leal	0(,%eax,8), %ebx
 5698      000000
 5699 3a03 8B4DE4   		movl	-28(%ebp), %ecx
 5700 3a06 8B45D8   		movl	-40(%ebp), %eax
 5701 3a09 8D148500 		leal	0(,%eax,4), %edx
 5701      000000
 5702 3a10 8B0419   		movl	(%ecx,%ebx), %eax
 5703 3a13 8B0410   		movl	(%eax,%edx), %eax
 5704 3a16 890424   		movl	%eax, (%esp)
 5705 3a19 E8000000 		call	_wcscpy
 5705      00
3067:str_merge.c   ****                     /* insert the string into the list */
3068:str_merge.c   ****                     strres[LangIndex].StrRef[l] = i;
 5707              	LM711:
 5708 3a1e 8B55C4   		movl	-60(%ebp), %edx
 5709 3a21 89D0     		movl	%edx, %eax
 5710 3a23 01C0     		addl	%eax, %eax
 5711 3a25 01D0     		addl	%edx, %eax
 5712 3a27 8D1CC500 		leal	0(,%eax,8), %ebx
 5712      000000
 5713 3a2e 8B55E4   		movl	-28(%ebp), %edx
 5714 3a31 8B45C8   		movl	-56(%ebp), %eax
 5715 3a34 8D0C8500 		leal	0(,%eax,4), %ecx
 5715      000000
 5716 3a3b 8B541A04 		movl	4(%edx,%ebx), %edx
 5717 3a3f 8B45D8   		movl	-40(%ebp), %eax
 5718 3a42 89040A   		movl	%eax, (%edx,%ecx)
3069:str_merge.c   ****                         strres[LangIndex].TotalLength += wcslen(tok) * 2 + 2;                      
 5720              	LM712:
 5721 3a45 8B55C4   		movl	-60(%ebp), %edx
 5722 3a48 89D0     		movl	%edx, %eax
 5723 3a4a 01C0     		addl	%eax, %eax
 5724 3a4c 01D0     		addl	%edx, %eax
 5725 3a4e 8D3CC500 		leal	0(,%eax,8), %edi
 5725      000000
 5726 3a55 8B45E4   		movl	-28(%ebp), %eax
 5727 3a58 89459C   		movl	%eax, -100(%ebp)
 5728 3a5b 8B55C4   		movl	-60(%ebp), %edx
 5729 3a5e 89D0     		movl	%edx, %eax
 5730 3a60 01C0     		addl	%eax, %eax
 5731 3a62 01D0     		addl	%edx, %eax
 5732 3a64 8D1CC500 		leal	0(,%eax,8), %ebx
 5732      000000
 5733 3a6b 8B75E4   		movl	-28(%ebp), %esi
 5734 3a6e 8B45E0   		movl	-32(%ebp), %eax
 5735 3a71 890424   		movl	%eax, (%esp)
 5736 3a74 E8000000 		call	_wcslen
 5736      00
 5737 3a79 01C0     		addl	%eax, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 156


 5738 3a7b 03441E14 		addl	20(%esi,%ebx), %eax
 5739 3a7f 83C002   		addl	$2, %eax
 5740 3a82 8B559C   		movl	-100(%ebp), %edx
 5741 3a85 89443A14 		movl	%eax, 20(%edx,%edi)
3070:str_merge.c   ****                     i++;
 5743              	LM713:
 5744 3a89 8D45D8   		leal	-40(%ebp), %eax
 5745 3a8c FF00     		incl	(%eax)
 5746 3a8e E9A8FBFF 		jmp	L333
 5746      FF
 5747              	L355:
3071:str_merge.c   ****                 }
3072:str_merge.c   ****                 }
3073:str_merge.c   ****                 else
3074:str_merge.c   ****                 {
3075:str_merge.c   ****                     /* 
3076:str_merge.c   ****                      * there are duplicate hash value, check if the string 
3077:str_merge.c   ****                      * is really the same with that has the same hash value
3078:str_merge.c   ****                      */
3079:str_merge.c   ****                     int found = 0, ref_idx;
 5749              	LM714:
 5750              	LBB38:
 5751 3a93 C745AC00 		movl	$0, -84(%ebp)
 5751      000000
3080:str_merge.c   ****                     wchar_t *str;
3081:str_merge.c   ****                     ref_idx = strres[LangIndex].StrRef[ht[LangIndex][h].pointer];
 5753              	LM715:
 5754 3a9a 8B55C4   		movl	-60(%ebp), %edx
 5755 3a9d 89D0     		movl	%edx, %eax
 5756 3a9f 01C0     		addl	%eax, %eax
 5757 3aa1 01D0     		addl	%edx, %eax
 5758 3aa3 8D34C500 		leal	0(,%eax,8), %esi
 5758      000000
 5759 3aaa 8B7DE4   		movl	-28(%ebp), %edi
 5760 3aad 8B45C4   		movl	-60(%ebp), %eax
 5761 3ab0 8D1C8500 		leal	0(,%eax,4), %ebx
 5761      000000
 5762 3ab7 8B4DF0   		movl	-16(%ebp), %ecx
 5763 3aba 8B45CC   		movl	-52(%ebp), %eax
 5764 3abd 8D14C500 		leal	0(,%eax,8), %edx
 5764      000000
 5765 3ac4 8B0419   		movl	(%ecx,%ebx), %eax
 5766 3ac7 8B0410   		movl	(%eax,%edx), %eax
 5767 3aca 8D148500 		leal	0(,%eax,4), %edx
 5767      000000
 5768 3ad1 8B443704 		movl	4(%edi,%esi), %eax
 5769 3ad5 8B0410   		movl	(%eax,%edx), %eax
 5770 3ad8 8945A8   		movl	%eax, -88(%ebp)
3082:str_merge.c   ****                     str = GetStrByRef(strres, strres_dup, LangIndex, ht[LangIndex][h].pointer, ref_
 5772              	LM716:
 5773 3adb 8B45A8   		movl	-88(%ebp), %eax
 5774 3ade 89442410 		movl	%eax, 16(%esp)
 5775 3ae2 8B45C4   		movl	-60(%ebp), %eax
 5776 3ae5 8D1C8500 		leal	0(,%eax,4), %ebx
 5776      000000
 5777 3aec 8B4DF0   		movl	-16(%ebp), %ecx
 5778 3aef 8B45CC   		movl	-52(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 157


 5779 3af2 8D14C500 		leal	0(,%eax,8), %edx
 5779      000000
 5780 3af9 8B0419   		movl	(%ecx,%ebx), %eax
 5781 3afc 8B0410   		movl	(%eax,%edx), %eax
 5782 3aff 8944240C 		movl	%eax, 12(%esp)
 5783 3b03 8B45C4   		movl	-60(%ebp), %eax
 5784 3b06 89442408 		movl	%eax, 8(%esp)
 5785 3b0a 8B45B4   		movl	-76(%ebp), %eax
 5786 3b0d 89442404 		movl	%eax, 4(%esp)
 5787 3b11 8B45E4   		movl	-28(%ebp), %eax
 5788 3b14 890424   		movl	%eax, (%esp)
 5789 3b17 E894EFFF 		call	_GetStrByRef
 5789      FF
 5790 3b1c 8945A4   		movl	%eax, -92(%ebp)
3083:str_merge.c   ****                     if (wcscmp(tok, str) == 0)
 5792              	LM717:
 5793 3b1f 8B45A4   		movl	-92(%ebp), %eax
 5794 3b22 89442404 		movl	%eax, 4(%esp)
 5795 3b26 8B45E0   		movl	-32(%ebp), %eax
 5796 3b29 890424   		movl	%eax, (%esp)
 5797 3b2c E8000000 		call	_wcscmp
 5797      00
 5798 3b31 85C0     		testl	%eax, %eax
 5799 3b33 0F85F600 		jne	L359
 5799      0000
3084:str_merge.c   ****                     {
3085:str_merge.c   ****                         /* the two string is the same */
3086:str_merge.c   ****                         strres[LangIndex].StrRef[l] = ref_idx;
 5801              	LM718:
 5802 3b39 8B55C4   		movl	-60(%ebp), %edx
 5803 3b3c 89D0     		movl	%edx, %eax
 5804 3b3e 01C0     		addl	%eax, %eax
 5805 3b40 01D0     		addl	%edx, %eax
 5806 3b42 8D1CC500 		leal	0(,%eax,8), %ebx
 5806      000000
 5807 3b49 8B55E4   		movl	-28(%ebp), %edx
 5808 3b4c 8B45C8   		movl	-56(%ebp), %eax
 5809 3b4f 8D0C8500 		leal	0(,%eax,4), %ecx
 5809      000000
 5810 3b56 8B541A04 		movl	4(%edx,%ebx), %edx
 5811 3b5a 8B45A8   		movl	-88(%ebp), %eax
 5812 3b5d 89040A   		movl	%eax, (%edx,%ecx)
3087:str_merge.c   ****                         strres[LangIndex].is_dup[l] = strres[LangIndex].is_dup[ht[LangIndex][h].poi
 5814              	LM719:
 5815 3b60 8B55C4   		movl	-60(%ebp), %edx
 5816 3b63 89D0     		movl	%edx, %eax
 5817 3b65 01C0     		addl	%eax, %eax
 5818 3b67 01D0     		addl	%edx, %eax
 5819 3b69 8D0CC500 		leal	0(,%eax,8), %ecx
 5819      000000
 5820 3b70 8B55E4   		movl	-28(%ebp), %edx
 5821 3b73 8B45C8   		movl	-56(%ebp), %eax
 5822 3b76 8B7C0A10 		movl	16(%edx,%ecx), %edi
 5823 3b7a 01C7     		addl	%eax, %edi
 5824 3b7c 8B55C4   		movl	-60(%ebp), %edx
 5825 3b7f 89D0     		movl	%edx, %eax
 5826 3b81 01C0     		addl	%eax, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 158


 5827 3b83 01D0     		addl	%edx, %eax
 5828 3b85 C1E003   		sall	$3, %eax
 5829 3b88 894598   		movl	%eax, -104(%ebp)
 5830 3b8b 8B75E4   		movl	-28(%ebp), %esi
 5831 3b8e 8B45C4   		movl	-60(%ebp), %eax
 5832 3b91 8D1C8500 		leal	0(,%eax,4), %ebx
 5832      000000
 5833 3b98 8B4DF0   		movl	-16(%ebp), %ecx
 5834 3b9b 8B45CC   		movl	-52(%ebp), %eax
 5835 3b9e 8D14C500 		leal	0(,%eax,8), %edx
 5835      000000
 5836 3ba5 8B0419   		movl	(%ecx,%ebx), %eax
 5837 3ba8 8B0410   		movl	(%eax,%edx), %eax
 5838 3bab 8B5598   		movl	-104(%ebp), %edx
 5839 3bae 03441610 		addl	16(%esi,%edx), %eax
 5840 3bb2 0FB600   		movzbl	(%eax), %eax
 5841 3bb5 8807     		movb	%al, (%edi)
3088:str_merge.c   ****                         /* put it into linked list anyway */
3089:str_merge.c   ****                         extra = (struct HashItem *)malloc(sizeof(struct HashItem));
 5843              	LM720:
 5844 3bb7 C7042408 		movl	$8, (%esp)
 5844      000000
 5845 3bbe E8000000 		call	_malloc
 5845      00
 5846 3bc3 8945EC   		movl	%eax, -20(%ebp)
3090:str_merge.c   ****                         if (extra == NULL) {STRMERG_LOG_E("malloc fail extra "); exit(2);}
 5848              	LM721:
 5849 3bc6 837DEC00 		cmpl	$0, -20(%ebp)
 5850 3bca 7528     		jne	L360
 5851 3bcc C7442408 		movl	$LC59, 8(%esp)
 5851      66300000 
 5852 3bd4 C7442404 		movl	$LC3, 4(%esp)
 5852      4B040000 
 5853 3bdc C7042403 		movl	$3, (%esp)
 5853      000000
 5854 3be3 E8000000 		call	_reslog_adaptor_log
 5854      00
 5855 3be8 C7042402 		movl	$2, (%esp)
 5855      000000
 5856 3bef E8000000 		call	_exit
 5856      00
 5857              	L360:
3091:str_merge.c   ****                         temp = &ht[LangIndex][h];
 5859              	LM722:
 5860 3bf4 8B45C4   		movl	-60(%ebp), %eax
 5861 3bf7 8D0C8500 		leal	0(,%eax,4), %ecx
 5861      000000
 5862 3bfe 8B55F0   		movl	-16(%ebp), %edx
 5863 3c01 8B45CC   		movl	-52(%ebp), %eax
 5864 3c04 C1E003   		sall	$3, %eax
 5865 3c07 03040A   		addl	(%edx,%ecx), %eax
 5866 3c0a 8945E8   		movl	%eax, -24(%ebp)
3092:str_merge.c   ****                         extra->next = temp->next;
 5868              	LM723:
 5869 3c0d 8B55EC   		movl	-20(%ebp), %edx
 5870 3c10 8B45E8   		movl	-24(%ebp), %eax
 5871 3c13 8B4004   		movl	4(%eax), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 159


 5872 3c16 894204   		movl	%eax, 4(%edx)
3093:str_merge.c   ****                         extra->pointer = l;
 5874              	LM724:
 5875 3c19 8B55EC   		movl	-20(%ebp), %edx
 5876 3c1c 8B45C8   		movl	-56(%ebp), %eax
 5877 3c1f 8902     		movl	%eax, (%edx)
3094:str_merge.c   ****                         temp->next = extra;                                                
 5879              	LM725:
 5880 3c21 8B55E8   		movl	-24(%ebp), %edx
 5881 3c24 8B45EC   		movl	-20(%ebp), %eax
 5882 3c27 894204   		movl	%eax, 4(%edx)
3095:str_merge.c   ****                         /* read in next string */
3096:str_merge.c   ****                         continue;
 5884              	LM726:
 5885 3c2a E90CFAFF 		jmp	L333
 5885      FF
 5886              	L359:
3097:str_merge.c   ****                     }
3098:str_merge.c   **** 
3099:str_merge.c   ****                     /* 
3100:str_merge.c   ****                      * although the two strings have the same hash value, 
3101:str_merge.c   ****                      * but they are different
3102:str_merge.c   ****                      * compare the strings in linked list...
3103:str_merge.c   ****                      */
3104:str_merge.c   ****                     temp = &ht[LangIndex][h];
 5888              	LM727:
 5889 3c2f 8B45C4   		movl	-60(%ebp), %eax
 5890 3c32 8D0C8500 		leal	0(,%eax,4), %ecx
 5890      000000
 5891 3c39 8B55F0   		movl	-16(%ebp), %edx
 5892 3c3c 8B45CC   		movl	-52(%ebp), %eax
 5893 3c3f C1E003   		sall	$3, %eax
 5894 3c42 03040A   		addl	(%edx,%ecx), %eax
 5895 3c45 8945E8   		movl	%eax, -24(%ebp)
3105:str_merge.c   ****                     while (temp->next != NULL)
 5897              	LM728:
 5898              	L361:
 5899 3c48 8B45E8   		movl	-24(%ebp), %eax
 5900 3c4b 83780400 		cmpl	$0, 4(%eax)
 5901 3c4f 7505     		jne	L363
 5902 3c51 E93D0100 		jmp	L362
 5902      00
 5903              	L363:
3106:str_merge.c   ****                     {
3107:str_merge.c   ****                         temp = temp->next;
 5905              	LM729:
 5906 3c56 8B45E8   		movl	-24(%ebp), %eax
 5907 3c59 8B4004   		movl	4(%eax), %eax
 5908 3c5c 8945E8   		movl	%eax, -24(%ebp)
3108:str_merge.c   ****                         ref_idx = strres[LangIndex].StrRef[temp->pointer];
 5910              	LM730:
 5911 3c5f 8B55C4   		movl	-60(%ebp), %edx
 5912 3c62 89D0     		movl	%edx, %eax
 5913 3c64 01C0     		addl	%eax, %eax
 5914 3c66 01D0     		addl	%edx, %eax
 5915 3c68 8D1CC500 		leal	0(,%eax,8), %ebx
 5915      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 160


 5916 3c6f 8B4DE4   		movl	-28(%ebp), %ecx
 5917 3c72 8B45E8   		movl	-24(%ebp), %eax
 5918 3c75 8B00     		movl	(%eax), %eax
 5919 3c77 8D148500 		leal	0(,%eax,4), %edx
 5919      000000
 5920 3c7e 8B441904 		movl	4(%ecx,%ebx), %eax
 5921 3c82 8B0410   		movl	(%eax,%edx), %eax
 5922 3c85 8945A8   		movl	%eax, -88(%ebp)
3109:str_merge.c   ****                         str = GetStrByRef(strres, strres_dup, LangIndex, temp->pointer, ref_idx);
 5924              	LM731:
 5925 3c88 8B45A8   		movl	-88(%ebp), %eax
 5926 3c8b 89442410 		movl	%eax, 16(%esp)
 5927 3c8f 8B45E8   		movl	-24(%ebp), %eax
 5928 3c92 8B00     		movl	(%eax), %eax
 5929 3c94 8944240C 		movl	%eax, 12(%esp)
 5930 3c98 8B45C4   		movl	-60(%ebp), %eax
 5931 3c9b 89442408 		movl	%eax, 8(%esp)
 5932 3c9f 8B45B4   		movl	-76(%ebp), %eax
 5933 3ca2 89442404 		movl	%eax, 4(%esp)
 5934 3ca6 8B45E4   		movl	-28(%ebp), %eax
 5935 3ca9 890424   		movl	%eax, (%esp)
 5936 3cac E8FFEDFF 		call	_GetStrByRef
 5936      FF
 5937 3cb1 8945A4   		movl	%eax, -92(%ebp)
3110:str_merge.c   ****                         if (wcscmp(tok, str) == 0)
 5939              	LM732:
 5940 3cb4 8B45A4   		movl	-92(%ebp), %eax
 5941 3cb7 89442404 		movl	%eax, 4(%esp)
 5942 3cbb 8B45E0   		movl	-32(%ebp), %eax
 5943 3cbe 890424   		movl	%eax, (%esp)
 5944 3cc1 E8000000 		call	_wcscmp
 5944      00
 5945 3cc6 85C0     		testl	%eax, %eax
 5946 3cc8 0F857AFF 		jne	L361
 5946      FFFF
3111:str_merge.c   ****                         {
3112:str_merge.c   ****                             /* find a identical string in linked list, set the flag on */
3113:str_merge.c   ****                             found = 1;
 5948              	LM733:
 5949 3cce C745AC01 		movl	$1, -84(%ebp)
 5949      000000
3114:str_merge.c   ****                             strres[LangIndex].StrRef[l] = ref_idx;
 5951              	LM734:
 5952 3cd5 8B55C4   		movl	-60(%ebp), %edx
 5953 3cd8 89D0     		movl	%edx, %eax
 5954 3cda 01C0     		addl	%eax, %eax
 5955 3cdc 01D0     		addl	%edx, %eax
 5956 3cde 8D1CC500 		leal	0(,%eax,8), %ebx
 5956      000000
 5957 3ce5 8B55E4   		movl	-28(%ebp), %edx
 5958 3ce8 8B45C8   		movl	-56(%ebp), %eax
 5959 3ceb 8D0C8500 		leal	0(,%eax,4), %ecx
 5959      000000
 5960 3cf2 8B541A04 		movl	4(%edx,%ebx), %edx
 5961 3cf6 8B45A8   		movl	-88(%ebp), %eax
 5962 3cf9 89040A   		movl	%eax, (%edx,%ecx)
3115:str_merge.c   ****                             strres[LangIndex].is_dup[l] = strres[LangIndex].is_dup[temp->pointer];
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 161


 5964              	LM735:
 5965 3cfc 8B55C4   		movl	-60(%ebp), %edx
 5966 3cff 89D0     		movl	%edx, %eax
 5967 3d01 01C0     		addl	%eax, %eax
 5968 3d03 01D0     		addl	%edx, %eax
 5969 3d05 8D0CC500 		leal	0(,%eax,8), %ecx
 5969      000000
 5970 3d0c 8B55E4   		movl	-28(%ebp), %edx
 5971 3d0f 8B45C8   		movl	-56(%ebp), %eax
 5972 3d12 8B5C0A10 		movl	16(%edx,%ecx), %ebx
 5973 3d16 01C3     		addl	%eax, %ebx
 5974 3d18 8B55C4   		movl	-60(%ebp), %edx
 5975 3d1b 89D0     		movl	%edx, %eax
 5976 3d1d 01C0     		addl	%eax, %eax
 5977 3d1f 01D0     		addl	%edx, %eax
 5978 3d21 8D0CC500 		leal	0(,%eax,8), %ecx
 5978      000000
 5979 3d28 8B55E4   		movl	-28(%ebp), %edx
 5980 3d2b 8B45E8   		movl	-24(%ebp), %eax
 5981 3d2e 8B00     		movl	(%eax), %eax
 5982 3d30 03440A10 		addl	16(%edx,%ecx), %eax
 5983 3d34 0FB600   		movzbl	(%eax), %eax
 5984 3d37 8803     		movb	%al, (%ebx)
3116:str_merge.c   ****                             /* put it into linked list anyway */
3117:str_merge.c   ****                             extra = (struct HashItem *)malloc(sizeof(struct HashItem));            
 5986              	LM736:
 5987 3d39 C7042408 		movl	$8, (%esp)
 5987      000000
 5988 3d40 E8000000 		call	_malloc
 5988      00
 5989 3d45 8945EC   		movl	%eax, -20(%ebp)
3118:str_merge.c   ****                             if (extra == NULL) {STRMERG_LOG_E("malloc fail extra "); exit(2);}
 5991              	LM737:
 5992 3d48 837DEC00 		cmpl	$0, -20(%ebp)
 5993 3d4c 7528     		jne	L365
 5994 3d4e C7442408 		movl	$LC59, 8(%esp)
 5994      66300000 
 5995 3d56 C7442404 		movl	$LC3, 4(%esp)
 5995      4B040000 
 5996 3d5e C7042403 		movl	$3, (%esp)
 5996      000000
 5997 3d65 E8000000 		call	_reslog_adaptor_log
 5997      00
 5998 3d6a C7042402 		movl	$2, (%esp)
 5998      000000
 5999 3d71 E8000000 		call	_exit
 5999      00
 6000              	L365:
3119:str_merge.c   ****                             extra->next = temp->next;
 6002              	LM738:
 6003 3d76 8B55EC   		movl	-20(%ebp), %edx
 6004 3d79 8B45E8   		movl	-24(%ebp), %eax
 6005 3d7c 8B4004   		movl	4(%eax), %eax
 6006 3d7f 894204   		movl	%eax, 4(%edx)
3120:str_merge.c   ****                             extra->pointer = l;
 6008              	LM739:
 6009 3d82 8B55EC   		movl	-20(%ebp), %edx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 162


 6010 3d85 8B45C8   		movl	-56(%ebp), %eax
 6011 3d88 8902     		movl	%eax, (%edx)
3121:str_merge.c   ****                             temp->next = extra;                                                    
 6013              	LM740:
 6014 3d8a 8B55E8   		movl	-24(%ebp), %edx
 6015 3d8d 8B45EC   		movl	-20(%ebp), %eax
 6016 3d90 894204   		movl	%eax, 4(%edx)
 6017              	L362:
3122:str_merge.c   ****                             break;
3123:str_merge.c   ****                         }
3124:str_merge.c   ****                     }
3125:str_merge.c   ****                     if (found == 0)
 6019              	LM741:
 6020 3d93 837DAC00 		cmpl	$0, -84(%ebp)
 6021 3d97 0F85C501 		jne	L366
 6021      0000
3126:str_merge.c   ****                     {
3127:str_merge.c   ****                         /* 
3128:str_merge.c   ****                          * the input string is different with all other 
3129:str_merge.c   ****                          * strings in hash table, add the string in linked 
3130:str_merge.c   ****                          * list
3131:str_merge.c   ****                          */
3132:str_merge.c   ****                         extra = (struct HashItem *)malloc(sizeof(struct HashItem));
 6023              	LM742:
 6024 3d9d C7042408 		movl	$8, (%esp)
 6024      000000
 6025 3da4 E8000000 		call	_malloc
 6025      00
 6026 3da9 8945EC   		movl	%eax, -20(%ebp)
3133:str_merge.c   ****                         if (extra == NULL) {STRMERG_LOG_E("malloc fail extra "); exit(2);}
 6028              	LM743:
 6029 3dac 837DEC00 		cmpl	$0, -20(%ebp)
 6030 3db0 7528     		jne	L367
 6031 3db2 C7442408 		movl	$LC59, 8(%esp)
 6031      66300000 
 6032 3dba C7442404 		movl	$LC3, 4(%esp)
 6032      4B040000 
 6033 3dc2 C7042403 		movl	$3, (%esp)
 6033      000000
 6034 3dc9 E8000000 		call	_reslog_adaptor_log
 6034      00
 6035 3dce C7042402 		movl	$2, (%esp)
 6035      000000
 6036 3dd5 E8000000 		call	_exit
 6036      00
 6037              	L367:
3134:str_merge.c   ****                         extra->next = NULL;
 6039              	LM744:
 6040 3dda 8B45EC   		movl	-20(%ebp), %eax
 6041 3ddd C7400400 		movl	$0, 4(%eax)
 6041      000000
3135:str_merge.c   ****                         extra->pointer = l;
 6043              	LM745:
 6044 3de4 8B55EC   		movl	-20(%ebp), %edx
 6045 3de7 8B45C8   		movl	-56(%ebp), %eax
 6046 3dea 8902     		movl	%eax, (%edx)
3136:str_merge.c   ****                         temp->next = extra;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 163


 6048              	LM746:
 6049 3dec 8B55E8   		movl	-24(%ebp), %edx
 6050 3def 8B45EC   		movl	-20(%ebp), %eax
 6051 3df2 894204   		movl	%eax, 4(%edx)
3137:str_merge.c   ****                         if (!LookupDupStr(strres, strres_dup, LangIndex, l, ht, h, tok))
 6053              	LM747:
 6054 3df5 8B45E0   		movl	-32(%ebp), %eax
 6055 3df8 89442418 		movl	%eax, 24(%esp)
 6056 3dfc 8B45CC   		movl	-52(%ebp), %eax
 6057 3dff 89442414 		movl	%eax, 20(%esp)
 6058 3e03 8B45F0   		movl	-16(%ebp), %eax
 6059 3e06 89442410 		movl	%eax, 16(%esp)
 6060 3e0a 8B45C8   		movl	-56(%ebp), %eax
 6061 3e0d 8944240C 		movl	%eax, 12(%esp)
 6062 3e11 8B45C4   		movl	-60(%ebp), %eax
 6063 3e14 89442408 		movl	%eax, 8(%esp)
 6064 3e18 8B45B4   		movl	-76(%ebp), %eax
 6065 3e1b 89442404 		movl	%eax, 4(%esp)
 6066 3e1f 8B45E4   		movl	-28(%ebp), %eax
 6067 3e22 890424   		movl	%eax, (%esp)
 6068 3e25 E8F2ECFF 		call	_LookupDupStr
 6068      FF
 6069 3e2a 85C0     		testl	%eax, %eax
 6070 3e2c 0F8509F8 		jne	L333
 6070      FFFF
3138:str_merge.c   ****                         { 
3139:str_merge.c   ****                         strres[LangIndex].Str[i] = malloc(wcslen(tok) * 2 + 2);
 6072              	LM748:
 6073 3e32 8B55C4   		movl	-60(%ebp), %edx
 6074 3e35 89D0     		movl	%edx, %eax
 6075 3e37 01C0     		addl	%eax, %eax
 6076 3e39 01D0     		addl	%edx, %eax
 6077 3e3b 8D0CC500 		leal	0(,%eax,8), %ecx
 6077      000000
 6078 3e42 8B55E4   		movl	-28(%ebp), %edx
 6079 3e45 8B45D8   		movl	-40(%ebp), %eax
 6080 3e48 8D1C8500 		leal	0(,%eax,4), %ebx
 6080      000000
 6081 3e4f 8B340A   		movl	(%edx,%ecx), %esi
 6082 3e52 8B45E0   		movl	-32(%ebp), %eax
 6083 3e55 890424   		movl	%eax, (%esp)
 6084 3e58 E8000000 		call	_wcslen
 6084      00
 6085 3e5d 01C0     		addl	%eax, %eax
 6086 3e5f 83C002   		addl	$2, %eax
 6087 3e62 890424   		movl	%eax, (%esp)
 6088 3e65 E8000000 		call	_malloc
 6088      00
 6089 3e6a 89041E   		movl	%eax, (%esi,%ebx)
3140:str_merge.c   ****                         if (strres[LangIndex].Str[i] == NULL) {STRMERG_LOG_E("malloc fail strres[La
 6091              	LM749:
 6092 3e6d 8B55C4   		movl	-60(%ebp), %edx
 6093 3e70 89D0     		movl	%edx, %eax
 6094 3e72 01C0     		addl	%eax, %eax
 6095 3e74 01D0     		addl	%edx, %eax
 6096 3e76 8D1CC500 		leal	0(,%eax,8), %ebx
 6096      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 164


 6097 3e7d 8B4DE4   		movl	-28(%ebp), %ecx
 6098 3e80 8B45D8   		movl	-40(%ebp), %eax
 6099 3e83 8D148500 		leal	0(,%eax,4), %edx
 6099      000000
 6100 3e8a 8B0419   		movl	(%ecx,%ebx), %eax
 6101 3e8d 833C1000 		cmpl	$0, (%eax,%edx)
 6102 3e91 7528     		jne	L369
 6103 3e93 C7442408 		movl	$LC58, 8(%esp)
 6103      40300000 
 6104 3e9b C7442404 		movl	$LC3, 4(%esp)
 6104      4B040000 
 6105 3ea3 C7042403 		movl	$3, (%esp)
 6105      000000
 6106 3eaa E8000000 		call	_reslog_adaptor_log
 6106      00
 6107 3eaf C7042402 		movl	$2, (%esp)
 6107      000000
 6108 3eb6 E8000000 		call	_exit
 6108      00
 6109              	L369:
3141:str_merge.c   ****                         wcscpy(strres[LangIndex].Str[i], tok);
 6111              	LM750:
 6112 3ebb 8B45E0   		movl	-32(%ebp), %eax
 6113 3ebe 89442404 		movl	%eax, 4(%esp)
 6114 3ec2 8B55C4   		movl	-60(%ebp), %edx
 6115 3ec5 89D0     		movl	%edx, %eax
 6116 3ec7 01C0     		addl	%eax, %eax
 6117 3ec9 01D0     		addl	%edx, %eax
 6118 3ecb 8D1CC500 		leal	0(,%eax,8), %ebx
 6118      000000
 6119 3ed2 8B4DE4   		movl	-28(%ebp), %ecx
 6120 3ed5 8B45D8   		movl	-40(%ebp), %eax
 6121 3ed8 8D148500 		leal	0(,%eax,4), %edx
 6121      000000
 6122 3edf 8B0419   		movl	(%ecx,%ebx), %eax
 6123 3ee2 8B0410   		movl	(%eax,%edx), %eax
 6124 3ee5 890424   		movl	%eax, (%esp)
 6125 3ee8 E8000000 		call	_wcscpy
 6125      00
3142:str_merge.c   ****                         strres[LangIndex].StrRef[l] = i;
 6127              	LM751:
 6128 3eed 8B55C4   		movl	-60(%ebp), %edx
 6129 3ef0 89D0     		movl	%edx, %eax
 6130 3ef2 01C0     		addl	%eax, %eax
 6131 3ef4 01D0     		addl	%edx, %eax
 6132 3ef6 8D1CC500 		leal	0(,%eax,8), %ebx
 6132      000000
 6133 3efd 8B55E4   		movl	-28(%ebp), %edx
 6134 3f00 8B45C8   		movl	-56(%ebp), %eax
 6135 3f03 8D0C8500 		leal	0(,%eax,4), %ecx
 6135      000000
 6136 3f0a 8B541A04 		movl	4(%edx,%ebx), %edx
 6137 3f0e 8B45D8   		movl	-40(%ebp), %eax
 6138 3f11 89040A   		movl	%eax, (%edx,%ecx)
3143:str_merge.c   ****                             strres[LangIndex].TotalLength += wcslen(tok) * 2 + 2;
 6140              	LM752:
 6141 3f14 8B55C4   		movl	-60(%ebp), %edx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 165


 6142 3f17 89D0     		movl	%edx, %eax
 6143 3f19 01C0     		addl	%eax, %eax
 6144 3f1b 01D0     		addl	%edx, %eax
 6145 3f1d 8D3CC500 		leal	0(,%eax,8), %edi
 6145      000000
 6146 3f24 8B45E4   		movl	-28(%ebp), %eax
 6147 3f27 894594   		movl	%eax, -108(%ebp)
 6148 3f2a 8B55C4   		movl	-60(%ebp), %edx
 6149 3f2d 89D0     		movl	%edx, %eax
 6150 3f2f 01C0     		addl	%eax, %eax
 6151 3f31 01D0     		addl	%edx, %eax
 6152 3f33 8D1CC500 		leal	0(,%eax,8), %ebx
 6152      000000
 6153 3f3a 8B75E4   		movl	-28(%ebp), %esi
 6154 3f3d 8B45E0   		movl	-32(%ebp), %eax
 6155 3f40 890424   		movl	%eax, (%esp)
 6156 3f43 E8000000 		call	_wcslen
 6156      00
 6157 3f48 01C0     		addl	%eax, %eax
 6158 3f4a 03441E14 		addl	20(%esi,%ebx), %eax
 6159 3f4e 83C002   		addl	$2, %eax
 6160 3f51 8B5594   		movl	-108(%ebp), %edx
 6161 3f54 89443A14 		movl	%eax, 20(%edx,%edi)
3144:str_merge.c   ****                         i++;
 6163              	LM753:
 6164 3f58 8D45D8   		leal	-40(%ebp), %eax
 6165 3f5b FF00     		incl	(%eax)
 6166 3f5d E9D9F6FF 		jmp	L333
 6166      FF
 6167              	L366:
3145:str_merge.c   ****                     }
3146:str_merge.c   ****                     }
3147:str_merge.c   ****                     else
3148:str_merge.c   ****                         found = 0; /* reset the flag */
 6169              	LM754:
 6170 3f62 C745AC00 		movl	$0, -84(%ebp)
 6170      000000
 6171              	LBE38:
 6172 3f69 E9CDF6FF 		jmp	L333
 6172      FF
 6173              	L334:
3149:str_merge.c   ****                 }
3150:str_merge.c   ****             }
3151:str_merge.c   ****         }
3152:str_merge.c   **** 
3153:str_merge.c   ****         strres[LangIndex].MaxID = l + 1;
 6175              	LM755:
 6176 3f6e 8B55C4   		movl	-60(%ebp), %edx
 6177 3f71 89D0     		movl	%edx, %eax
 6178 3f73 01C0     		addl	%eax, %eax
 6179 3f75 01D0     		addl	%edx, %eax
 6180 3f77 8D0CC500 		leal	0(,%eax,8), %ecx
 6180      000000
 6181 3f7e 8B55E4   		movl	-28(%ebp), %edx
 6182 3f81 8B45C8   		movl	-56(%ebp), %eax
 6183 3f84 40       		incl	%eax
 6184 3f85 89440A08 		movl	%eax, 8(%edx,%ecx)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 166


3154:str_merge.c   ****         strres[LangIndex].MaxNum = i;
 6186              	LM756:
 6187 3f89 8B55C4   		movl	-60(%ebp), %edx
 6188 3f8c 89D0     		movl	%edx, %eax
 6189 3f8e 01C0     		addl	%eax, %eax
 6190 3f90 01D0     		addl	%edx, %eax
 6191 3f92 8D0CC500 		leal	0(,%eax,8), %ecx
 6191      000000
 6192 3f99 8B55E4   		movl	-28(%ebp), %edx
 6193 3f9c 8B45D8   		movl	-40(%ebp), %eax
 6194 3f9f 89440A0C 		movl	%eax, 12(%edx,%ecx)
 6196              	LM757:
 6197              	L309:
 6198 3fa3 8D45D4   		leal	-44(%ebp), %eax
 6199 3fa6 FF00     		incl	(%eax)
 6200 3fa8 E9EEF2FF 		jmp	L307
 6200      FF
 6201              	L308:
3155:str_merge.c   ****     }
3156:str_merge.c   ****     result->iLang = mtk_gMaxDeployedLangs;
 6203              	LM758:
 6204 3fad 8B5508   		movl	8(%ebp), %edx
 6205 3fb0 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 6205      000000
 6206 3fb7 894208   		movl	%eax, 8(%edx)
3157:str_merge.c   ****     result->strres = strres;
 6208              	LM759:
 6209 3fba 8B5508   		movl	8(%ebp), %edx
 6210 3fbd 8B45E4   		movl	-28(%ebp), %eax
 6211 3fc0 8902     		movl	%eax, (%edx)
3158:str_merge.c   ****     /* record duplicated string resource */
3159:str_merge.c   ****     result->strres_dup = strres_dup;
 6213              	LM760:
 6214 3fc2 8B5508   		movl	8(%ebp), %edx
 6215 3fc5 8B45B4   		movl	-76(%ebp), %eax
 6216 3fc8 894204   		movl	%eax, 4(%edx)
3160:str_merge.c   **** 
3161:str_merge.c   ****     return CurrMaxTransStrId;
 6218              	LM761:
 6219 3fcb 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 6219      000000
3162:str_merge.c   **** }
 6221              	LM762:
 6222 3fd2 83C47C   		addl	$124, %esp
 6223 3fd5 5B       		popl	%ebx
 6224 3fd6 5E       		popl	%esi
 6225 3fd7 5F       		popl	%edi
 6226 3fd8 5D       		popl	%ebp
 6227 3fd9 C3       		ret
 6228              	LBE37:
 6253              	Lscope28:
 6255              	LC61:
 6256 3fda 776200   		.ascii "wb\0"
 6257              	LC62:
 6258 3fdd 2E5C5C64 		.ascii ".\\\\debug\\\\language_usage.txt\0"
 6258      65627567 
 6258      5C5C6C61 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 167


 6258      6E677561 
 6258      67655F75 
 6259              		.align 2
 6260              	LC63:
 6261 3ffa 4C004300 		.ascii "L\0C\0C\0\0\0"
 6261      43000000 
 6262              		.align 2
 6263              	LC64:
 6264 4002 53005300 		.ascii "S\0S\0C\0\0\0"
 6264      43000000 
 6265              		.align 2
 6266              	LC65:
 6267 400a 4E006100 		.ascii "N\0a\0m\0e\0\0\0"
 6267      6D006500 
 6267      0000
 6268              		.align 2
 6269              	LC66:
 6270 4014 25006C00 		.ascii "%\0l\0s\0\11\0%\0l\0s\0\11\0%\0l\0s\0\12\0\0\0"
 6270      73000900 
 6270      25006C00 
 6270      73000900 
 6270      25006C00 
 6271 402e 90909090 		.align 32
 6271      90909090 
 6271      90909090 
 6271      90909090 
 6271      9090
 6272              	LC67:
 6273 4040 6F757470 		.ascii "output language_usage.txt done.\12\0"
 6273      7574206C 
 6273      616E6775 
 6273      6167655F 
 6273      75736167 
 6275              	.globl _print_language_usage
 6277              	_print_language_usage:
3163:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3164:str_merge.c   **** 
3165:str_merge.c   **** /*****************************************************************************
3166:str_merge.c   ****  * FUNCTION
3167:str_merge.c   ****  *  GetStrResList
3168:str_merge.c   ****  * DESCRIPTION
3169:str_merge.c   ****  *  Generate a non-duplicate string list from input file, using hash table
3170:str_merge.c   ****  * PARAMETERS
3171:str_merge.c   ****  *  result  [OUT]
3172:str_merge.c   ****  * RETURNS
3173:str_merge.c   ****  *  Return number of all populated string IDs
3174:str_merge.c   ****  *****************************************************************************/
3175:str_merge.c   **** static int GetStrResList(StrResSet *result)
3176:str_merge.c   **** {
3177:str_merge.c   ****     /*----------------------------------------------------------------*/
3178:str_merge.c   ****     /* Local Variables                                                */
3179:str_merge.c   ****     /*----------------------------------------------------------------*/
3180:str_merge.c   ****     struct HashItem **ht = NULL, *extra = NULL, *temp = NULL;
3181:str_merge.c   ****     struct StrRes *strres = NULL;
3182:str_merge.c   ****     wchar_t *tok = NULL;
3183:str_merge.c   ****     wchar_t *tok_eng = NULL;  
3184:str_merge.c   ****     int i = 0, j = 0, k = 0, h = 0, l = 0;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 168


3185:str_merge.c   ****     int LangIndex = 0;
3186:str_merge.c   ****     int hash_range = 0;
3187:str_merge.c   ****     int ref_item_found = 0;
3188:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
3189:str_merge.c   ****     RefListItem * tmp_list_item = NULL;
3190:str_merge.c   **** #endif
3191:str_merge.c   **** 
3192:str_merge.c   ****     U16 nStrId;
3193:str_merge.c   **** 
3194:str_merge.c   ****     /*----------------------------------------------------------------*/
3195:str_merge.c   ****     /* Code Body                                                      */
3196:str_merge.c   ****     /*----------------------------------------------------------------*/
3197:str_merge.c   ****     strres = malloc(sizeof(struct StrRes) * mtk_gMaxDeployedLangs);
3198:str_merge.c   ****     ht = malloc(sizeof(struct HashItem *) * mtk_gMaxDeployedLangs);
3199:str_merge.c   **** 
3200:str_merge.c   ****     mtk_gLanguageFlag = malloc(sizeof(int) * mtk_gMaxDeployedLangs);
3201:str_merge.c   ****     for (h = 0; h < mtk_gMaxDeployedLangs; h++)
3202:str_merge.c   ****     {
3203:str_merge.c   ****         mtk_gLanguageFlag[h] = 0;
3204:str_merge.c   ****     }
3205:str_merge.c   **** 
3206:str_merge.c   ****     for (j = 0; j < nUsedLang; j++)
3207:str_merge.c   ****     {
3208:str_merge.c   ****         wcscpy(ref_tmp, filter_ref_ssc);
3209:str_merge.c   ****         tok = wcstok(ref_tmp, DELIMETER);   /* ENUM */
3210:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* MODULE NAME */
3211:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* MAX LENGTH */
3212:str_merge.c   ****         tok = wcstok(NULL, DELIMETER);      /* DESCRIPTION */
3213:str_merge.c   **** 
3214:str_merge.c   ****         /* change to corresponding language column according to j */
3215:str_merge.c   ****         for (k = 0; k < j + 1; k++)
3216:str_merge.c   ****         {
3217:str_merge.c   ****             tok = wcstok(NULL, DELIMETER);
3218:str_merge.c   ****         }
3219:str_merge.c   ****         ASSERT(tok != NULL);
3220:str_merge.c   ****         LangIndex = ifLanguageUsed(tok);
3221:str_merge.c   **** 
3222:str_merge.c   ****         if (LangIndex < 0) /* the language is not used in font resource */
3223:str_merge.c   ****             continue;
3224:str_merge.c   **** 
3225:str_merge.c   ****         mtk_gLanguageFlag[LangIndex] = 1;
3226:str_merge.c   **** 
3227:str_merge.c   ****         strres[LangIndex].Str = (wchar_t **)malloc(sizeof(wchar_t *) * CurrMaxStringId);
3228:str_merge.c   ****         strres[LangIndex].StrRef = (int *)malloc(sizeof(int) * CurrMaxStringId);
3229:str_merge.c   ****         /* set default value */
3230:str_merge.c   ****         for (l = 0; l < CurrMaxStringId; l++)
3231:str_merge.c   ****         {
3232:str_merge.c   ****             strres[LangIndex].StrRef[l] = -1;
3233:str_merge.c   ****             strres[LangIndex].TotalLength = 0;
3234:str_merge.c   ****         }
3235:str_merge.c   **** 
3236:str_merge.c   ****         /* set hash_range as maximum id times 1.1(Can be changed) */
3237:str_merge.c   ****         hash_range = (int)(CurrMaxStringId * 1.1);
3238:str_merge.c   **** 
3239:str_merge.c   ****         /* initialize hash table */
3240:str_merge.c   ****         ht[LangIndex] = (struct HashItem *)malloc(sizeof(struct HashItem) * hash_range);
3241:str_merge.c   ****         for (k = 0; k < hash_range; k++)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 169


3242:str_merge.c   ****         {
3243:str_merge.c   ****             ht[LangIndex][k].next = NULL;
3244:str_merge.c   ****             ht[LangIndex][k].pointer = -1;
3245:str_merge.c   ****         }
3246:str_merge.c   **** 
3247:str_merge.c   ****         k = 0;
3248:str_merge.c   ****         i = 0;  /* number of Ref(non-duplicate strings, excluding NULL) */
3249:str_merge.c   ****         l = -1; /* number of ID (all strings) */
3250:str_merge.c   **** 
3251:str_merge.c   ****         while (l < CurrMaxStringId - 1)
3252:str_merge.c   ****         {
3253:str_merge.c   ****             l++;
3254:str_merge.c   ****             nStrId = StrID[l];
3255:str_merge.c   **** 
3256:str_merge.c   ****             /* check if ID already found in ref_list.txt */
3257:str_merge.c   ****             if (StrLine[nStrId] != 0)
3258:str_merge.c   ****             {
3259:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
3260:str_merge.c   ****                 wcscpy(ref_tmp, ref_all + (StrLine[nStrId] - 1) * g_line_buf_act_length);
3261:str_merge.c   **** #else
3262:str_merge.c   ****                 tmp_list_item = GetRefListItem(ref_all_list,(StrLine[nStrId] - 1));
3263:str_merge.c   ****                 if(tmp_list_item != NULL)
3264:str_merge.c   ****                 {
3265:str_merge.c   ****                     ref_item_found = 1;
3266:str_merge.c   ****                     wcscpy(ref_tmp,tmp_list_item->ItemData );  
3267:str_merge.c   ****                 }else
3268:str_merge.c   ****                 {
3269:str_merge.c   ****                     ref_item_found = 0;
3270:str_merge.c   ****                     STRMERG_LOG_E("No Ref List item for %d: ",nStrId);
3271:str_merge.c   ****                     fflush(stdout);
3272:str_merge.c   ****                     wcscpy(ref_tmp,L""); 
3273:str_merge.c   ****                 }
3274:str_merge.c   **** #endif
3275:str_merge.c   ****             }
3276:str_merge.c   **** 
3277:str_merge.c   ****             if(ref_item_found == 1)
3278:str_merge.c   ****             {
3279:str_merge.c   ****                 tok = wcstok(ref_tmp, DELIMETER);
3280:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Module Name */
3281:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Max String Length */
3282:str_merge.c   ****                 tok = wcstok(NULL, DELIMETER);  /* skip originally existing Description */
3283:str_merge.c   ****                 /* change to corresponding language column according to j */
3284:str_merge.c   ****                 for (k = 0; k < j + 1; k++)
3285:str_merge.c   ****                 {
3286:str_merge.c   ****                     tok = wcstok(NULL, DELIMETER);
3287:str_merge.c   ****                     if (k == 0)
3288:str_merge.c   ****                     {
3289:str_merge.c   ****                         tok_eng = tok;
3290:str_merge.c   ****                     }
3291:str_merge.c   **** 
3292:str_merge.c   ****                     /* here possible case for tok to be NULL? */
3293:str_merge.c   **** 
3294:str_merge.c   ****                     if (tok != NULL && tok[wcslen(tok) - 1] == (wchar_t)'\n')
3295:str_merge.c   ****                     {
3296:str_merge.c   ****                         /* remove carriage-return */
3297:str_merge.c   ****                         tok[wcslen(tok) - 2] = '\0';
3298:str_merge.c   ****                     }
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 170


3299:str_merge.c   ****                 }
3300:str_merge.c   ****             }
3301:str_merge.c   ****             else
3302:str_merge.c   ****             {
3303:str_merge.c   ****                 /* no corresponding line in ref_list.txt */
3304:str_merge.c   ****                 tok = (wchar_t *)Str[nStrId];
3305:str_merge.c   ****             }
3306:str_merge.c   **** 
3307:str_merge.c   ****             /* decise if the read-in string is " " (blank) */
3308:str_merge.c   ****             if (tok != NULL && tok[0] == 20 && tok[1] == 0)
3309:str_merge.c   ****                 tok = NULL;
3310:str_merge.c   ****             /* handling NULL read-in string, it's Ref is default value -1 */
3311:str_merge.c   ****             if (tok == NULL)
3312:str_merge.c   ****             {
3313:str_merge.c   ****                 /* nothing to be done */
3314:str_merge.c   ****             }
3315:str_merge.c   ****             else if (tok[0] == NO_TRANSLATION_MARKER && tok[1] == 0)
3316:str_merge.c   ****             {
3317:str_merge.c   ****                 /* Use English translation in ref_list */
3318:str_merge.c   ****                 if (LangIndex == 0)
3319:str_merge.c   ****                 {
3320:str_merge.c   ****                 /* no translation for current language */
3321:str_merge.c   ****                 tok = (wchar_t *)Str[nStrId];
3322:str_merge.c   ****                 }
3323:str_merge.c   ****                 else
3324:str_merge.c   ****                 {
3325:str_merge.c   ****                     tok = (wchar_t *)tok_eng;
3326:str_merge.c   ****                 }
3327:str_merge.c   **** 
3328:str_merge.c   ****             }
3329:str_merge.c   **** 
3330:str_merge.c   ****             if (tok != NULL)
3331:str_merge.c   ****             {
3332:str_merge.c   ****                 /* transform "\""n" */
3333:str_merge.c   ****                 Trans(tok, tok);
3334:str_merge.c   **** 
3335:str_merge.c   ****                 /* calculate hash value */
3336:str_merge.c   ****                 h = GetHashValue(tok, hash_range);
3337:str_merge.c   ****                 if (ht[LangIndex][h].pointer == -1)
3338:str_merge.c   ****                 {
3339:str_merge.c   ****                     /* no duplicate hash value */
3340:str_merge.c   ****                     ht[LangIndex][h].pointer = i;
3341:str_merge.c   ****                     ht[LangIndex][h].next = NULL;
3342:str_merge.c   ****                     strres[LangIndex].Str[i] = (wchar_t *)malloc(wcslen(tok) * 2 + 2);
3343:str_merge.c   ****                     wcscpy(strres[LangIndex].Str[i], tok);
3344:str_merge.c   ****                     /* insert the string into the list */
3345:str_merge.c   ****                     strres[LangIndex].StrRef[l] = i;
3346:str_merge.c   ****                     strres[LangIndex].TotalLength += wcslen(tok) + 1;
3347:str_merge.c   ****                     i++;
3348:str_merge.c   ****                 }
3349:str_merge.c   ****                 else
3350:str_merge.c   ****                 {
3351:str_merge.c   ****                     /* 
3352:str_merge.c   ****                      * there are duplicate hash value, check if the string 
3353:str_merge.c   ****                      * is really the same with that has the same hash value
3354:str_merge.c   ****                      */
3355:str_merge.c   ****                     int found = 0;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 171


3356:str_merge.c   ****                     if (wcscmp(tok, strres[LangIndex].Str[ht[LangIndex][h].pointer]) == 0)
3357:str_merge.c   ****                     {
3358:str_merge.c   ****                         /* the two string is the same */
3359:str_merge.c   ****                         strres[LangIndex].StrRef[l] = ht[LangIndex][h].pointer;
3360:str_merge.c   ****                         /* read in next string */
3361:str_merge.c   ****                         continue;
3362:str_merge.c   ****                     }
3363:str_merge.c   **** 
3364:str_merge.c   ****                     /* 
3365:str_merge.c   ****                      * although the two strings have the same hash value, 
3366:str_merge.c   ****                      * but they are different
3367:str_merge.c   ****                      * compare the strings in linked list...
3368:str_merge.c   ****                      */
3369:str_merge.c   ****                     temp = &ht[LangIndex][h];
3370:str_merge.c   ****                     while (temp->next != NULL)
3371:str_merge.c   ****                     {
3372:str_merge.c   ****                         temp = temp->next;
3373:str_merge.c   ****                         if (wcscmp(tok, strres[LangIndex].Str[temp->pointer]) == 0)
3374:str_merge.c   ****                         {
3375:str_merge.c   ****                             /* find a identical string in linked list, set the flag on */
3376:str_merge.c   ****                             found = 1;
3377:str_merge.c   ****                             strres[LangIndex].StrRef[l] = temp->pointer;
3378:str_merge.c   ****                             break;
3379:str_merge.c   ****                         }
3380:str_merge.c   ****                     }
3381:str_merge.c   ****                     if (found == 0)
3382:str_merge.c   ****                     {
3383:str_merge.c   ****                         /* 
3384:str_merge.c   ****                          * the input string is different with all other 
3385:str_merge.c   ****                          * strings in hash table, add the string in linked 
3386:str_merge.c   ****                          * list
3387:str_merge.c   ****                          */
3388:str_merge.c   ****                         extra = (struct HashItem *)malloc(sizeof(struct HashItem));
3389:str_merge.c   ****                         extra->next = NULL;
3390:str_merge.c   ****                         extra->pointer = i;
3391:str_merge.c   ****                         temp->next = extra;
3392:str_merge.c   ****                         strres[LangIndex].Str[i] = malloc(wcslen(tok) * 2 + 2);
3393:str_merge.c   ****                         wcscpy(strres[LangIndex].Str[i], tok);
3394:str_merge.c   ****                         strres[LangIndex].StrRef[l] = i;
3395:str_merge.c   ****                         strres[LangIndex].TotalLength += wcslen(tok) + 1;
3396:str_merge.c   ****                         i++;
3397:str_merge.c   ****                     }
3398:str_merge.c   ****                     else
3399:str_merge.c   ****                         found = 0; /* reset the flag */
3400:str_merge.c   ****                 }
3401:str_merge.c   ****             }
3402:str_merge.c   ****         }
3403:str_merge.c   **** 
3404:str_merge.c   ****         strres[LangIndex].MaxID = l + 1;
3405:str_merge.c   ****         strres[LangIndex].MaxNum = i;
3406:str_merge.c   ****     }
3407:str_merge.c   ****     result->iLang = mtk_gMaxDeployedLangs;
3408:str_merge.c   ****     result->strres = strres;
3409:str_merge.c   **** 
3410:str_merge.c   ****     return CurrMaxStringId;
3411:str_merge.c   **** }
3412:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__*/
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 172


3413:str_merge.c   **** 
3414:str_merge.c   **** /*****************************************************************************
3415:str_merge.c   ****  * FUNCTION
3416:str_merge.c   ****  *  print_language_usage
3417:str_merge.c   ****  * DESCRIPTION
3418:str_merge.c   ****  *  dump mtk_gLanguageArray to language_usage.txt
3419:str_merge.c   ****  * PARAMETERS
3420:str_merge.c   ****  *  void
3421:str_merge.c   ****  * RETURNS
3422:str_merge.c   ****  *  void
3423:str_merge.c   ****  *****************************************************************************/
3424:str_merge.c   **** void print_language_usage(void)
3425:str_merge.c   **** {
 6279              	LM763:
 6280 4061 55       		pushl	%ebp
 6281 4062 89E5     		movl	%esp, %ebp
 6282 4064 57       		pushl	%edi
 6283 4065 83EC74   		subl	$116, %esp
3426:str_merge.c   ****     /*----------------------------------------------------------------*/
3427:str_merge.c   ****     /* Local Variables                                                */
3428:str_merge.c   ****     /*----------------------------------------------------------------*/
3429:str_merge.c   ****     FILE *fp = fopen(".\\\\debug\\\\language_usage.txt", "wb");
 6285              	LM764:
 6286              	LBB39:
 6287 4068 C7442404 		movl	$LC61, 4(%esp)
 6287      DA3F0000 
 6288 4070 C70424DD 		movl	$LC62, (%esp)
 6288      3F0000
 6289 4077 E8000000 		call	_fopen
 6289      00
 6290 407c 8945F4   		movl	%eax, -12(%ebp)
3430:str_merge.c   ****     S32 i;
3431:str_merge.c   **** 
3432:str_merge.c   ****     /*----------------------------------------------------------------*/
3433:str_merge.c   ****     /* Code Body                                                      */
3434:str_merge.c   ****     /*----------------------------------------------------------------*/
3435:str_merge.c   ****     if (fp != NULL)
 6292              	LM765:
 6293 407f 837DF400 		cmpl	$0, -12(%ebp)
 6294 4083 0F847601 		je	L371
 6294      0000
3436:str_merge.c   ****     {
3437:str_merge.c   ****         fwprintf(fp, L"%ls\t%ls\t%ls\n", L"Name", L"SSC", L"LCC");
 6296              	LM766:
 6297 4089 C7442410 		movl	$LC63, 16(%esp)
 6297      FA3F0000 
 6298 4091 C744240C 		movl	$LC64, 12(%esp)
 6298      02400000 
 6299 4099 C7442408 		movl	$LC65, 8(%esp)
 6299      0A400000 
 6300 40a1 C7442404 		movl	$LC66, 4(%esp)
 6300      14400000 
 6301 40a9 8B45F4   		movl	-12(%ebp), %eax
 6302 40ac 890424   		movl	%eax, (%esp)
 6303 40af E8000000 		call	_fwprintf
 6303      00
3438:str_merge.c   ****         for (i = 0 ; i < mtk_gMaxDeployedLangs ; i++)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 173


 6305              	LM767:
 6306 40b4 C745F000 		movl	$0, -16(%ebp)
 6306      000000
 6307              	L373:
 6308 40bb 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 6308      000000
 6309 40c2 3945F0   		cmpl	%eax, -16(%ebp)
 6310 40c5 7C05     		jl	L376
 6311 40c7 E9100100 		jmp	L374
 6311      00
 6312              	L376:
3439:str_merge.c   ****         {
3440:str_merge.c   ****             S8 ssc[SSC_SIZE*2] = {0}, lcc[LCC_SIZE*2] = {0};
 6314              	LM768:
 6315              	LBB40:
 6316 40cc 8D7DC8   		leal	-56(%ebp), %edi
 6317 40cf FC       		cld
 6318 40d0 BA000000 		movl	$0, %edx
 6318      00
 6319 40d5 B8050000 		movl	$5, %eax
 6319      00
 6320 40da 89C1     		movl	%eax, %ecx
 6321 40dc 89D0     		movl	%edx, %eax
 6322 40de F3       		rep
 6323 40df AB       		stosl
 6324 40e0 8D7DB8   		leal	-72(%ebp), %edi
 6325 40e3 FC       		cld
 6326 40e4 BA000000 		movl	$0, %edx
 6326      00
 6327 40e9 B8040000 		movl	$4, %eax
 6327      00
 6328 40ee 89C1     		movl	%eax, %ecx
 6329 40f0 89D0     		movl	%edx, %eax
 6330 40f2 F3       		rep
 6331 40f3 AB       		stosl
3441:str_merge.c   ****             S32 j;
3442:str_merge.c   **** 
3443:str_merge.c   ****             for (j = 0 ; j < strlen(mtk_gLanguageArray[i].aLangSSC) ; j++)
 6333              	LM769:
 6334 40f4 C745B400 		movl	$0, -76(%ebp)
 6334      000000
 6335              	L377:
 6336 40fb 8B55F0   		movl	-16(%ebp), %edx
 6337 40fe 89D0     		movl	%edx, %eax
 6338 4100 C1E005   		sall	$5, %eax
 6339 4103 29D0     		subl	%edx, %eax
 6340 4105 01C0     		addl	%eax, %eax
 6341 4107 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 6341      00
 6342 410c 890424   		movl	%eax, (%esp)
 6343 410f E8000000 		call	_strlen
 6343      00
 6344 4114 3945B4   		cmpl	%eax, -76(%ebp)
 6345 4117 7202     		jb	L380
 6346 4119 EB2D     		jmp	L378
 6347              	L380:
3444:str_merge.c   ****                 ssc[2*j] = (mtk_gLanguageArray[i].aLangSSC[j]), ssc[2*j + 1] = 0;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 174


 6349              	LM770:
 6350 411b 8B4DB4   		movl	-76(%ebp), %ecx
 6351 411e 8B55F0   		movl	-16(%ebp), %edx
 6352 4121 89D0     		movl	%edx, %eax
 6353 4123 C1E005   		sall	$5, %eax
 6354 4126 29D0     		subl	%edx, %eax
 6355 4128 01C0     		addl	%eax, %eax
 6356 412a 0345B4   		addl	-76(%ebp), %eax
 6357 412d 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 6357      00
 6358 4132 0FB600   		movzbl	(%eax), %eax
 6359 4135 88444DC8 		movb	%al, -56(%ebp,%ecx,2)
 6360 4139 8B45B4   		movl	-76(%ebp), %eax
 6361 413c C64445C9 		movb	$0, -55(%ebp,%eax,2)
 6361      00
 6363              	LM771:
 6364 4141 8D45B4   		leal	-76(%ebp), %eax
 6365 4144 FF00     		incl	(%eax)
 6366 4146 EBB3     		jmp	L377
 6367              	L378:
3445:str_merge.c   ****             for (j = 0 ; j < strlen(mtk_gLanguageArray[i].aLangCountryCode) ; j++)
 6369              	LM772:
 6370 4148 C745B400 		movl	$0, -76(%ebp)
 6370      000000
 6371              	L381:
 6372 414f 8B55F0   		movl	-16(%ebp), %edx
 6373 4152 89D0     		movl	%edx, %eax
 6374 4154 C1E005   		sall	$5, %eax
 6375 4157 29D0     		subl	%edx, %eax
 6376 4159 01C0     		addl	%eax, %eax
 6377 415b 05320000 		addl	$_mtk_gLanguageArray+50, %eax
 6377      00
 6378 4160 890424   		movl	%eax, (%esp)
 6379 4163 E8000000 		call	_strlen
 6379      00
 6380 4168 3945B4   		cmpl	%eax, -76(%ebp)
 6381 416b 7202     		jb	L384
 6382 416d EB2D     		jmp	L382
 6383              	L384:
3446:str_merge.c   ****                 lcc[2*j] = (mtk_gLanguageArray[i].aLangCountryCode[j]), lcc[2*j + 1] = 0;
 6385              	LM773:
 6386 416f 8B4DB4   		movl	-76(%ebp), %ecx
 6387 4172 8B55F0   		movl	-16(%ebp), %edx
 6388 4175 89D0     		movl	%edx, %eax
 6389 4177 C1E005   		sall	$5, %eax
 6390 417a 29D0     		subl	%edx, %eax
 6391 417c 01C0     		addl	%eax, %eax
 6392 417e 0345B4   		addl	-76(%ebp), %eax
 6393 4181 05320000 		addl	$_mtk_gLanguageArray+50, %eax
 6393      00
 6394 4186 0FB600   		movzbl	(%eax), %eax
 6395 4189 88444DB8 		movb	%al, -72(%ebp,%ecx,2)
 6396 418d 8B45B4   		movl	-76(%ebp), %eax
 6397 4190 C64445B9 		movb	$0, -71(%ebp,%eax,2)
 6397      00
 6399              	LM774:
 6400 4195 8D45B4   		leal	-76(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 175


 6401 4198 FF00     		incl	(%eax)
 6402 419a EBB3     		jmp	L381
 6403              	L382:
3447:str_merge.c   **** 			#ifdef __IOT__
3448:str_merge.c   **** 			fwprintf(fp, L"%ls\t%ls\n",ssc, lcc);
3449:str_merge.c   **** 			#else
3450:str_merge.c   ****             fwprintf(fp, L"%ls\t%ls\t%ls\n", mtk_gLanguageArray[i].aName, ssc, lcc);
 6405              	LM775:
 6406 419c 8D45B8   		leal	-72(%ebp), %eax
 6407 419f 89442410 		movl	%eax, 16(%esp)
 6408 41a3 8D45C8   		leal	-56(%ebp), %eax
 6409 41a6 8944240C 		movl	%eax, 12(%esp)
 6410 41aa 8B55F0   		movl	-16(%ebp), %edx
 6411 41ad 89D0     		movl	%edx, %eax
 6412 41af C1E005   		sall	$5, %eax
 6413 41b2 29D0     		subl	%edx, %eax
 6414 41b4 01C0     		addl	%eax, %eax
 6415 41b6 05000000 		addl	$_mtk_gLanguageArray, %eax
 6415      00
 6416 41bb 89442408 		movl	%eax, 8(%esp)
 6417 41bf C7442404 		movl	$LC66, 4(%esp)
 6417      14400000 
 6418 41c7 8B45F4   		movl	-12(%ebp), %eax
 6419 41ca 890424   		movl	%eax, (%esp)
 6420 41cd E8000000 		call	_fwprintf
 6420      00
 6422              	LM776:
 6423 41d2 8D45F0   		leal	-16(%ebp), %eax
 6424              	LBE40:
 6425 41d5 FF00     		incl	(%eax)
 6426 41d7 E9DFFEFF 		jmp	L373
 6426      FF
 6427              	L374:
3451:str_merge.c   **** 			#endif
3452:str_merge.c   ****         }
3453:str_merge.c   ****         fclose(fp);
 6429              	LM777:
 6430 41dc 8B45F4   		movl	-12(%ebp), %eax
 6431 41df 890424   		movl	%eax, (%esp)
 6432 41e2 E8000000 		call	_fclose
 6432      00
3454:str_merge.c   **** 
3455:str_merge.c   ****         fprintf(stderr, "output language_usage.txt done.\n");
 6434              	LM778:
 6435 41e7 C7442404 		movl	$LC67, 4(%esp)
 6435      40400000 
 6436 41ef A1000000 		movl	__imp___iob, %eax
 6436      00
 6437 41f4 83C040   		addl	$64, %eax
 6438 41f7 890424   		movl	%eax, (%esp)
 6439 41fa E8000000 		call	_fprintf
 6439      00
3456:str_merge.c   ****     }
3457:str_merge.c   **** }
 6441              	LM779:
 6442              	L371:
 6443 41ff 83C474   		addl	$116, %esp
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 176


 6444 4202 5F       		popl	%edi
 6445 4203 5D       		popl	%ebp
 6446 4204 C3       		ret
 6447              	LBE39:
 6457              	Lscope29:
 6459              	LC68:
 6460 4205 0900     		.ascii "\11\0"
 6466              	_GetItemAsc:
3458:str_merge.c   **** 
3459:str_merge.c   **** 
3460:str_merge.c   **** /*****************************************************************************
3461:str_merge.c   ****  * FUNCTION
3462:str_merge.c   **** *  GetItemAsc
3463:str_merge.c   **** * DESCRIPTION
3464:str_merge.c   **** *  Get token between index and index+1 DELIMETER
3465:str_merge.c   **** * PARAMETERS
3466:str_merge.c   **** *  string  [IN]
3467:str_merge.c   **** *  index   [IN]
3468:str_merge.c   **** *  buf     [OUT]
3469:str_merge.c   **** * RETURNS
3470:str_merge.c   **** *  void
3471:str_merge.c   **** *****************************************************************************/
3472:str_merge.c   **** static void GetItemAsc(char *string, int index, char *buf)
3473:str_merge.c   **** {
 6468              	LM780:
 6469 4207 55       		pushl	%ebp
 6470 4208 89E5     		movl	%esp, %ebp
 6471 420a 83EC18   		subl	$24, %esp
3474:str_merge.c   ****     /*----------------------------------------------------------------*/
3475:str_merge.c   ****     /* Local Variables                                                */
3476:str_merge.c   ****     /*----------------------------------------------------------------*/
3477:str_merge.c   ****     char *p1 = string;
 6473              	LM781:
 6474              	LBB41:
 6475 420d 8B4508   		movl	8(%ebp), %eax
 6476 4210 8945FC   		movl	%eax, -4(%ebp)
3478:str_merge.c   ****     char *p2 = strstr(string, "\t");
 6478              	LM782:
 6479 4213 C7442404 		movl	$LC68, 4(%esp)
 6479      05420000 
 6480 421b 8B4508   		movl	8(%ebp), %eax
 6481 421e 890424   		movl	%eax, (%esp)
 6482 4221 E8000000 		call	_strstr
 6482      00
 6483 4226 8945F8   		movl	%eax, -8(%ebp)
3479:str_merge.c   ****     int n = p2 - p1;
 6485              	LM783:
 6486 4229 8B55FC   		movl	-4(%ebp), %edx
 6487 422c 8B45F8   		movl	-8(%ebp), %eax
 6488 422f 29D0     		subl	%edx, %eax
 6489 4231 8945F4   		movl	%eax, -12(%ebp)
3480:str_merge.c   ****     
3481:str_merge.c   ****     /*----------------------------------------------------------------*/
3482:str_merge.c   ****     /* Code Body                                                      */
3483:str_merge.c   ****     /*----------------------------------------------------------------*/
3484:str_merge.c   ****     ASSERT(p2 != NULL);
 6491              	LM784:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 177


 6492 4234 837DF800 		cmpl	$0, -8(%ebp)
 6493 4238 7502     		jne	L390
 6494              	L387:
 6495 423a EBFE     		jmp	L387
 6496              	L390:
 6497 423c 90       		nop
3485:str_merge.c   **** 
3486:str_merge.c   ****     while (index > 0)
 6499              	LM785:
 6500              	L391:
 6501 423d 837D0C00 		cmpl	$0, 12(%ebp)
 6502 4241 7F02     		jg	L393
 6503 4243 EB33     		jmp	L392
 6504              	L393:
3487:str_merge.c   ****     {
3488:str_merge.c   ****         p1 = p2 + 1;
 6506              	LM786:
 6507 4245 8B45F8   		movl	-8(%ebp), %eax
 6508 4248 40       		incl	%eax
 6509 4249 8945FC   		movl	%eax, -4(%ebp)
3489:str_merge.c   ****         p2 = strstr(p1, "\t");
 6511              	LM787:
 6512 424c C7442404 		movl	$LC68, 4(%esp)
 6512      05420000 
 6513 4254 8B45FC   		movl	-4(%ebp), %eax
 6514 4257 890424   		movl	%eax, (%esp)
 6515 425a E8000000 		call	_strstr
 6515      00
 6516 425f 8945F8   		movl	%eax, -8(%ebp)
3490:str_merge.c   ****         n = p2 - p1;
 6518              	LM788:
 6519 4262 8B55FC   		movl	-4(%ebp), %edx
 6520 4265 8B45F8   		movl	-8(%ebp), %eax
 6521 4268 29D0     		subl	%edx, %eax
 6522 426a 8945F4   		movl	%eax, -12(%ebp)
3491:str_merge.c   ****         index--;
 6524              	LM789:
 6525 426d 8D450C   		leal	12(%ebp), %eax
 6526 4270 FF08     		decl	(%eax)
3492:str_merge.c   ****         if (p2 == NULL)
 6528              	LM790:
 6529 4272 837DF800 		cmpl	$0, -8(%ebp)
 6530 4276 75C5     		jne	L391
 6531              	L392:
3493:str_merge.c   ****             break;
3494:str_merge.c   ****     }
3495:str_merge.c   ****     
3496:str_merge.c   ****     if (index > 0)
 6533              	LM791:
 6534 4278 837D0C00 		cmpl	$0, 12(%ebp)
 6535 427c 7E08     		jle	L395
3497:str_merge.c   ****     {
3498:str_merge.c   ****         buf[0] = '\0';
 6537              	LM792:
 6538 427e 8B4510   		movl	16(%ebp), %eax
 6539 4281 C60000   		movb	$0, (%eax)
 6540 4284 EB32     		jmp	L385
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 178


 6541              	L395:
3499:str_merge.c   ****     }
3500:str_merge.c   ****     else if (p2 == NULL)
 6543              	LM793:
 6544 4286 837DF800 		cmpl	$0, -8(%ebp)
 6545 428a 7502     		jne	L397
 6546 428c EB2A     		jmp	L385
 6547              	L397:
3501:str_merge.c   ****     {
3502:str_merge.c   ****         /*
3503:str_merge.c   ****         strcpy(buf, p1);
3504:str_merge.c   ****         n = strstr(p1, "\n") - p1;
3505:str_merge.c   ****         buf[n] = '\0';
3506:str_merge.c   ****         */
3507:str_merge.c   ****     }
3508:str_merge.c   ****     else
3509:str_merge.c   ****     {
3510:str_merge.c   ****         ASSERT(p1 != NULL);
 6549              	LM794:
 6550 428e 837DFC00 		cmpl	$0, -4(%ebp)
 6551 4292 7502     		jne	L403
 6552              	L400:
 6553 4294 EBFE     		jmp	L400
 6554              	L403:
3511:str_merge.c   ****         strncpy(buf, p1, n);
 6556              	LM795:
 6557 4296 8B45F4   		movl	-12(%ebp), %eax
 6558 4299 89442408 		movl	%eax, 8(%esp)
 6559 429d 8B45FC   		movl	-4(%ebp), %eax
 6560 42a0 89442404 		movl	%eax, 4(%esp)
 6561 42a4 8B4510   		movl	16(%ebp), %eax
 6562 42a7 890424   		movl	%eax, (%esp)
 6563 42aa E8000000 		call	_strncpy
 6563      00
3512:str_merge.c   ****         buf[n] = '\0';
 6565              	LM796:
 6566 42af 8B45F4   		movl	-12(%ebp), %eax
 6567 42b2 034510   		addl	16(%ebp), %eax
 6568 42b5 C60000   		movb	$0, (%eax)
3513:str_merge.c   ****     }
3514:str_merge.c   **** }
 6570              	LM797:
 6571              	L385:
 6572 42b8 C9       		leave
 6573 42b9 C3       		ret
 6574              	LBE41:
 6580              	Lscope30:
 6586              	_append_cat_padding_bytes:
3515:str_merge.c   **** 
3516:str_merge.c   **** // Add margin size only when __CAT_SUPPORT__ is defined
3517:str_merge.c   **** static void append_cat_padding_bytes(FILE * file, long originalElementNumber){
 6588              	LM798:
 6589 42ba 55       		pushl	%ebp
 6590 42bb 89E5     		movl	%esp, %ebp
 6592              	LM799:
 6593 42bd 5D       		popl	%ebp
 6594 42be C3       		ret
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 179


 6595              	Lscope31:
 6597              	LC69:
 6598 42bf 30782530 		.ascii "0x%02X, \0"
 6598      32582C20 
 6598      00
 6604              	.globl _str_add_pedding_bytes
 6606              	_str_add_pedding_bytes:
3518:str_merge.c   **** #if defined(__CAT_SUPPORT__) && defined (MMIRESOURCE_CAT_STR_COMPRESS_RESERVED_MARGIN_SIZE_BYTE) &&
3519:str_merge.c   ****     str_add_pedding_bytes(file, 0xFF, MMIRESOURCE_CAT_STR_COMPRESS_RESERVED_MARGIN_SIZE_BYTE, origi
3520:str_merge.c   **** #endif //CAT_STR_COMPRESS_MARGIN_SIZE
3521:str_merge.c   **** }
3522:str_merge.c   **** 
3523:str_merge.c   **** void str_add_pedding_bytes(FILE * file, int peddingValue, int peddingSize, long originalElementNumb
 6608              	LM800:
 6609 42c8 55       		pushl	%ebp
 6610 42c9 89E5     		movl	%esp, %ebp
 6611 42cb 83EC28   		subl	$40, %esp
3524:str_merge.c   ****     int z = 0;
 6613              	LM801:
 6614              	LBB42:
 6615 42ce C745FC00 		movl	$0, -4(%ebp)
 6615      000000
3525:str_merge.c   ****     int formattingOffset = originalElementNumber %16;
 6617              	LM802:
 6618 42d5 8B4514   		movl	20(%ebp), %eax
 6619 42d8 8945F4   		movl	%eax, -12(%ebp)
 6620 42db 8B55F4   		movl	-12(%ebp), %edx
 6621 42de 8955F0   		movl	%edx, -16(%ebp)
 6622 42e1 837DF000 		cmpl	$0, -16(%ebp)
 6623 42e5 7904     		jns	L406
 6624 42e7 8345F00F 		addl	$15, -16(%ebp)
 6625              	L406:
 6626 42eb 8B45F0   		movl	-16(%ebp), %eax
 6627 42ee C1F804   		sarl	$4, %eax
 6628 42f1 C1E004   		sall	$4, %eax
 6629 42f4 8B55F4   		movl	-12(%ebp), %edx
 6630 42f7 29C2     		subl	%eax, %edx
 6631 42f9 89D0     		movl	%edx, %eax
 6632 42fb 8945F8   		movl	%eax, -8(%ebp)
3526:str_merge.c   ****     fprintf(file, "\n");
 6634              	LM803:
 6635 42fe C7442404 		movl	$LC34, 4(%esp)
 6635      50160000 
 6636 4306 8B4508   		movl	8(%ebp), %eax
 6637 4309 890424   		movl	%eax, (%esp)
 6638 430c E8000000 		call	_fprintf
 6638      00
3527:str_merge.c   ****     for (z = 0; z < peddingSize; z++)
 6640              	LM804:
 6641 4311 C745FC00 		movl	$0, -4(%ebp)
 6641      000000
 6642              	L407:
 6643 4318 8B45FC   		movl	-4(%ebp), %eax
 6644 431b 3B4510   		cmpl	16(%ebp), %eax
 6645 431e 7C02     		jl	L410
 6646 4320 EB3F     		jmp	L405
 6647              	L410:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 180


3528:str_merge.c   ****     {
3529:str_merge.c   ****       fprintf(file, "0x%02X, ", peddingValue);
 6649              	LM805:
 6650 4322 8B450C   		movl	12(%ebp), %eax
 6651 4325 89442408 		movl	%eax, 8(%esp)
 6652 4329 C7442404 		movl	$LC69, 4(%esp)
 6652      BF420000 
 6653 4331 8B4508   		movl	8(%ebp), %eax
 6654 4334 890424   		movl	%eax, (%esp)
 6655 4337 E8000000 		call	_fprintf
 6655      00
3530:str_merge.c   ****       if ((z+1)%16 == 0)
 6657              	LM806:
 6658 433c 8B45FC   		movl	-4(%ebp), %eax
 6659 433f 40       		incl	%eax
 6660 4340 83E00F   		andl	$15, %eax
 6661 4343 85C0     		testl	%eax, %eax
 6662 4345 7513     		jne	L409
3531:str_merge.c   ****       {
3532:str_merge.c   ****         fprintf(file, "\n");
 6664              	LM807:
 6665 4347 C7442404 		movl	$LC34, 4(%esp)
 6665      50160000 
 6666 434f 8B4508   		movl	8(%ebp), %eax
 6667 4352 890424   		movl	%eax, (%esp)
 6668 4355 E8000000 		call	_fprintf
 6668      00
 6670              	LM808:
 6671              	L409:
 6672 435a 8D45FC   		leal	-4(%ebp), %eax
 6673 435d FF00     		incl	(%eax)
 6674 435f EBB7     		jmp	L407
3533:str_merge.c   ****       }
3534:str_merge.c   ****     }
3535:str_merge.c   **** 
3536:str_merge.c   **** }
 6676              	LM809:
 6677              	L405:
 6678 4361 C9       		leave
 6679 4362 C3       		ret
 6680              	LBE42:
 6685              	Lscope32:
 6687 4363 90909090 		.align 32
 6687      90909090 
 6687      90909090 
 6687      90909090 
 6687      90909090 
 6688              	LC70:
 6689 4380 5B4D454D 		.ascii "[MEM]Free ref_all_list: (%lu) bytes \0"
 6689      5D467265 
 6689      65207265 
 6689      665F616C 
 6689      6C5F6C69 
 6690 43a5 90909090 		.align 32
 6690      90909090 
 6690      90909090 
 6690      90909090 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 181


 6690      90909090 
 6691              	LC71:
 6692 43c0 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustStrRes.c\0"
 6692      2E5C4375 
 6692      73746F6D 
 6692      65725C43 
 6692      75737452 
 6693 43e9 90909090 		.align 32
 6693      90909090 
 6693      90909090 
 6693      90909090 
 6693      90909090 
 6694              	LC72:
 6695 4400 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustStrMap.c\0"
 6695      2E5C4375 
 6695      73746F6D 
 6695      65725C43 
 6695      75737452 
 6696 4429 90909090 		.align 32
 6696      90909090 
 6696      90909090 
 6696      90909090 
 6696      90909090 
 6697              	LC73:
 6698 4440 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustStrResMeta.txt\0"
 6698      2E5C4375 
 6698      73746F6D 
 6698      65725C43 
 6698      75737452 
 6699 446f 90909090 		.align 32
 6699      90909090 
 6699      90909090 
 6699      90909090 
 6699      90
 6700              	LC74:
 6701 4480 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustStrMapMeta.txt\0"
 6701      2E5C4375 
 6701      73746F6D 
 6701      65725C43 
 6701      75737452 
 6702 44af 90909090 		.align 32
 6702      90909090 
 6702      90909090 
 6702      90909090 
 6702      90
 6703              	LC75:
 6704 44c0 666F7574 		.ascii "fout_res or fout_map open error (%d)(%d) ...!\0"
 6704      5F726573 
 6704      206F7220 
 6704      666F7574 
 6704      5F6D6170 
 6705              	LC76:
 6706 44ee 23696E63 		.ascii "#include \"mmi_features.h\"\12\0"
 6706      6C756465 
 6706      20226D6D 
 6706      695F6665 
 6706      61747572 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 182


 6707 4509 90909090 		.align 32
 6707      90909090 
 6707      90909090 
 6707      90909090 
 6707      90909090 
 6708              	LC77:
 6709 4520 23696E63 		.ascii "#include \"CompressResUtil.h\"\12\12\12\0"
 6709      6C756465 
 6709      2022436F 
 6709      6D707265 
 6709      73735265 
 6710              	LC78:
 6711 4540 23696E63 		.ascii "#include \"CustDataRes.h\"\12\0"
 6711      6C756465 
 6711      20224375 
 6711      73744461 
 6711      74615265 
 6712              	LC79:
 6713 455a 23696E63 		.ascii "#include \"FontDCl.h\"\12\12\12\0"
 6713      6C756465 
 6713      2022466F 
 6713      6E744443 
 6713      6C2E6822 
 6714 4572 8DB42600 		.align 32
 6714      0000008D 
 6714      BC270000 
 6714      0000
 6715              	LC80:
 6716 4580 23696620 		.ascii "#if (!defined (__MTK_TARGET__))\12\11#define __align(x)\12#endif\12\12\12\0"
 6716      28216465 
 6716      66696E65 
 6716      6420285F 
 6716      5F4D544B 
 6717 45be 89F6     		.align 32
 6718              	LC81:
 6719 45c0 23696620 		.ascii "#if !defined(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !defined(__MMI_RESOURCE_STR_THIRD_ROM_
 6719      21646566 
 6719      696E6564 
 6719      285F5F4D 
 6719      4D495F52 
 6720 461e 89F6     		.align 32
 6721              	LC82:
 6722 4620 5B4D454D 		.ascii "[MEM]StrRes_Dup: Started fout_res output\0"
 6722      5D537472 
 6722      5265735F 
 6722      4475703A 
 6722      20537461 
 6723 4649 90909090 		.align 32
 6723      90909090 
 6723      90909090 
 6723      90909090 
 6723      90909090 
 6724              	LC83:
 6725 4660 5F5F616C 		.ascii "__align(4) const CUSTOM_STRING StrRes_Dup[] = {\12\0"
 6725      69676E28 
 6725      34292063 
 6725      6F6E7374 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 183


 6725      20435553 
 6726 4691 EB0D9090 		.align 32
 6726      90909090 
 6726      90909090 
 6726      909090
 6727              	LC84:
 6728 46a0 23232323 		.ascii "########################################################\12\0"
 6728      23232323 
 6728      23232323 
 6728      23232323 
 6728      23232323 
 6729              	LC85:
 6730 46da 54595045 		.ascii "TYPE: RES\12\0"
 6730      3A205245 
 6730      530A00
 6731              	LC86:
 6732 46e5 4C414E47 		.ascii "LANG: DUP\12\0"
 6732      3A204455 
 6732      500A00
 6733              	LC87:
 6734 46f0 4D41584E 		.ascii "MAXNUM: %d\12\0"
 6734      554D3A20 
 6734      25640A00 
 6735              	LC88:
 6736 46fc 4D415849 		.ascii "MAXID: %d\12\0"
 6736      443A2025 
 6736      640A00
 6737 4707 90909090 		.align 32
 6737      90909090 
 6737      90909090 
 6737      90909090 
 6737      90909090 
 6738              	LC89:
 6739 4720 44415441 		.ascii "DATA:\12__align(4) const CUSTOM_STRING StrRes_Dup[] = {\12\0"
 6739      3A0A5F5F 
 6739      616C6967 
 6739      6E283429 
 6739      20636F6E 
 6740              	LC90:
 6741 4757 30783030 		.ascii "0x00, 0x00,\12\0"
 6741      2C203078 
 6741      30302C0A 
 6741      00
 6742              	LC91:
 6743 4764 30782558 		.ascii "0x%X, \0"
 6743      2C2000
 6744              	LC92:
 6745 476b 7D3B0A00 		.ascii "};\12\0"
 6746 476f 90909090 		.align 32
 6746      90909090 
 6746      90909090 
 6746      90909090 
 6746      90
 6747              	LC93:
 6748 4780 5B4D454D 		.ascii "[MEM]StrRes_Dup: Finished fout_res output\0"
 6748      5D537472 
 6748      5265735F 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 184


 6748      4475703A 
 6748      2046696E 
 6749 47aa 90909090 		.align 32
 6749      90909090 
 6749      90909090 
 6749      90909090 
 6749      90909090 
 6750              	LC94:
 6751 47c0 5B4D454D 		.ascii "[MEM]MAX Total length of each language: %d \0"
 6751      5D4D4158 
 6751      20546F74 
 6751      616C206C 
 6751      656E6774 
 6752 47ec 90909090 		.align 32
 6752      90909090 
 6752      90909090 
 6752      90909090 
 6752      90909090 
 6753              	LC95:
 6754 4800 44006500 		.ascii "D\0e\0p\0l\0o\0y\0e\0d\0 \0l\0a\0n\0g\0u\0a\0g\0e\0s\0 \0n\0o\0t\0 \0f\0o\0u\0n\0d\0 \0i\0
 6754      70006C00 
 6754      6F007900 
 6754      65006400 
 6754      20006C00 
 6755 4876 8D76008D 		.align 32
 6755      BC270000 
 6755      0000
 6756              	LC96:
 6757 4880 5B4D454D 		.ascii "[MEM]Please provide translated strings of %s in ref_list.txt !!!\0"
 6757      5D506C65 
 6757      61736520 
 6757      70726F76 
 6757      69646520 
 6758 48c1 90909090 		.align 32
 6758      90909090 
 6758      90909090 
 6758      90909090 
 6758      90909090 
 6759              	LC97:
 6760 48e0 5F5F616C 		.ascii "__align(4) const CUSTOM_STRING StrRes_%d[] = {\12\0"
 6760      69676E28 
 6760      34292063 
 6760      6F6E7374 
 6760      20435553 
 6761              	LC98:
 6762 4910 4C414E47 		.ascii "LANG: %d\12\0"
 6762      3A202564 
 6762      0A00
 6763              	LC99:
 6764 491a 44415441 		.ascii "DATA:\12\0"
 6764      3A0A00
 6765              	LC100:
 6766 4921 54595045 		.ascii "TYPE: MAP\12\0"
 6766      3A204D41 
 6766      500A00
 6767 492c 90909090 		.align 32
 6767      90909090 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 185


 6767      90909090 
 6767      90909090 
 6767      90909090 
 6768              	LC101:
 6769 4940 5F5F616C 		.ascii "__align(4) const CUSTOM_STRING_MAP_16 StrMap_%d[] = {\12\0"
 6769      69676E28 
 6769      34292063 
 6769      6F6E7374 
 6769      20435553 
 6770              	LC102:
 6771 4977 4249545F 		.ascii "BIT_MODE: 16\12\0"
 6771      4D4F4445 
 6771      3A203136 
 6771      0A00
 6772 4985 90909090 		.align 32
 6772      90909090 
 6772      90909090 
 6772      90909090 
 6772      90909090 
 6773              	LC103:
 6774 49a0 636F6E73 		.ascii "const CUSTOM_STRING_MAP StrMap_%d[] = {\12\0"
 6774      74204355 
 6774      53544F4D 
 6774      5F535452 
 6774      494E475F 
 6775              	LC104:
 6776 49c9 4249545F 		.ascii "BIT_MODE: 32\12\0"
 6776      4D4F4445 
 6776      3A203332 
 6776      0A00
 6777              	LC105:
 6778 49d7 09256C64 		.ascii "\11%ld,\12\0"
 6778      2C0A00
 6779 49de 89F6     		.align 32
 6780              	LC106:
 6781 49e0 65787465 		.ascii "extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\12\12\0"
 6781      726E2063 
 6781      6F6E7374 
 6781      20435553 
 6781      544F4D5F 
 6782 4a11 EB0D9090 		.align 32
 6782      90909090 
 6782      90909090 
 6782      909090
 6783              	LC107:
 6784 4a20 65787465 		.ascii "extern const CUSTOM_STRING_MAP StrMap_%d[];\12\12\0"
 6784      726E2063 
 6784      6F6E7374 
 6784      20435553 
 6784      544F4D5F 
 6785              	LC108:
 6786 4a4e 54595045 		.ascii "TYPE: VALUE\12\0"
 6786      3A205641 
 6786      4C55450A 
 6786      00
 6787 4a5b 908D7426 		.align 32
 6787      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 186


 6788              	LC109:
 6789 4a60 4E414D45 		.ascii "NAME: mtk_gTrans_string_count\12\0"
 6789      3A206D74 
 6789      6B5F6754 
 6789      72616E73 
 6789      5F737472 
 6790              	LC110:
 6791 4a7f 56414C55 		.ascii "VALUE: %d\12\0"
 6791      453A2025 
 6791      640A00
 6792              	LC111:
 6793 4a8a 4E414D45 		.ascii "NAME: mtk_gMaxDeployedLangs\12\0"
 6793      3A206D74 
 6793      6B5F674D 
 6793      61784465 
 6793      706C6F79 
 6794              	LC112:
 6795 4aa7 4E414D45 		.ascii "NAME: max_total_len\12\0"
 6795      3A206D61 
 6795      785F746F 
 6795      74616C5F 
 6795      6C656E0A 
 6796 4abc 8D742600 		.align 32
 6797              	LC113:
 6798 4ac0 2369666E 		.ascii "#ifndef __MMI_RESOURCE_ENFB_SUPPORT__\12\11const U16 mtk_gTrans_string_count = %d;\12#endi
 6798      64656620 
 6798      5F5F4D4D 
 6798      495F5245 
 6798      534F5552 
 6799 4b18 908DB426 		.align 32
 6799      00000000 
 6800              	LC114:
 6801 4b20 6F757470 		.ascii "output language list array (strres, strres_dup, num_map_search) \0"
 6801      7574206C 
 6801      616E6775 
 6801      61676520 
 6801      6C697374 
 6802 4b61 90909090 		.align 32
 6802      90909090 
 6802      90909090 
 6802      90909090 
 6802      90909090 
 6803              	LC115:
 6804 4b80 4661696C 		.ascii "Failed to output generate_language_list_array:                 num_map_search = %d, max_to
 6804      65642074 
 6804      6F206F75 
 6804      74707574 
 6804      2067656E 
 6805 4c1b 908D7426 		.align 32
 6805      00
 6806              	LC116:
 6807 4c20 0A23656E 		.ascii "\12#endif //!(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !(__MMI_RESOURCE_STR_THIRD_ROM__)\0"
 6807      64696620 
 6807      2F2F2128 
 6807      5F5F4D4D 
 6807      495F5245 
 6808              	LC117:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 187


 6809 4c75 47656E65 		.ascii "GenerateStrResFile succeeded\0"
 6809      72617465 
 6809      53747252 
 6809      65734669 
 6809      6C652073 
 6810              	LC118:
 6811 4c92 47454E5F 		.ascii "GEN_STR_ERR_RET handling\0"
 6811      5354525F 
 6811      4552525F 
 6811      52455420 
 6811      68616E64 
 6813              	.globl _GenerateStrResFile
 6815              	_GenerateStrResFile:
3537:str_merge.c   **** 
3538:str_merge.c   **** 
3539:str_merge.c   **** /*****************************************************************************
3540:str_merge.c   ****  * FUNCTION
3541:str_merge.c   ****  *  GenerateStrResFile
3542:str_merge.c   ****  * DESCRIPTION
3543:str_merge.c   ****  *  Generate string resource C files
3544:str_merge.c   ****  * PARAMETERS
3545:str_merge.c   ****  *  void
3546:str_merge.c   ****  * RETURNS
3547:str_merge.c   ****  *  Return 0 on success, otherwise, return -1
3548:str_merge.c   ****  *****************************************************************************/
3549:str_merge.c   **** int GenerateStrResFile(void)
3550:str_merge.c   **** {
 6817              	LM810:
 6818 4cab 55       		pushl	%ebp
 6819 4cac 89E5     		movl	%esp, %ebp
 6820 4cae 53       		pushl	%ebx
 6821 4caf B8B42000 		movl	$8372, %eax
 6821      00
 6822 4cb4 E8000000 		call	__alloca
 6822      00
3551:str_merge.c   ****     /*----------------------------------------------------------------*/
3552:str_merge.c   ****     /* Local Variables                                                */
3553:str_merge.c   ****     /*----------------------------------------------------------------*/
3554:str_merge.c   ****     FILE *fout_res = NULL;
 6824              	LM811:
 6825              	LBB43:
 6826 4cb9 C745F400 		movl	$0, -12(%ebp)
 6826      000000
3555:str_merge.c   ****     FILE *fout_map = NULL;
 6828              	LM812:
 6829 4cc0 C745F000 		movl	$0, -16(%ebp)
 6829      000000
3556:str_merge.c   ****     FILE *fout_meta_res = NULL;
 6831              	LM813:
 6832 4cc7 C745EC00 		movl	$0, -20(%ebp)
 6832      000000
3557:str_merge.c   ****     FILE *fout_meta_map = NULL;
 6834              	LM814:
 6835 4cce C745E800 		movl	$0, -24(%ebp)
 6835      000000
3558:str_merge.c   **** 	
3559:str_merge.c   ****     int i = 0, MaxID = 0, str_res_id = 0;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 188


 6837              	LM815:
 6838 4cd5 C745E400 		movl	$0, -28(%ebp)
 6838      000000
 6839 4cdc C745E000 		movl	$0, -32(%ebp)
 6839      000000
 6840 4ce3 C745DC00 		movl	$0, -36(%ebp)
 6840      000000
3560:str_merge.c   ****     unsigned short z = 0;
 6842              	LM816:
 6843 4cea 66C745DA 		movw	$0, -38(%ebp)
 6843      0000
3561:str_merge.c   ****     int start = 0, index_map = 0, index = 0, num_map_search = 0;
 6845              	LM817:
 6846 4cf0 C745D400 		movl	$0, -44(%ebp)
 6846      000000
 6847 4cf7 C745D000 		movl	$0, -48(%ebp)
 6847      000000
 6848 4cfe C745CC00 		movl	$0, -52(%ebp)
 6848      000000
 6849 4d05 C745C800 		movl	$0, -56(%ebp)
 6849      000000
3562:str_merge.c   ****     int min_id = 0, max_id = 0;
 6851              	LM818:
 6852 4d0c C745C400 		movl	$0, -60(%ebp)
 6852      000000
 6853 4d13 C745C000 		movl	$0, -64(%ebp)
 6853      000000
3563:str_merge.c   ****     struct StrRes *strres = NULL;
 6855              	LM819:
 6856 4d1a C745BC00 		movl	$0, -68(%ebp)
 6856      000000
3564:str_merge.c   ****     struct StrResSet Strresset;
3565:str_merge.c   **** 
3566:str_merge.c   ****     U32 res_size[512];
3567:str_merge.c   ****     U32 map_size[512];
3568:str_merge.c   ****     U32 reszip_size[512];
3569:str_merge.c   ****     U32 mapzip_size[512];
3570:str_merge.c   ****     FILE *pFile;
3571:str_merge.c   **** 
3572:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3573:str_merge.c   ****     /* add DupStrRes and max_total_len */
3574:str_merge.c   ****     struct DupStrRes *strres_dup = NULL;
 6858              	LM820:
 6859 4d21 C785A0DF 		movl	$0, -8288(%ebp)
 6859      FFFF0000 
 6859      0000
3575:str_merge.c   ****     int max_total_len = 0;
 6861              	LM821:
 6862 4d2b C7859CDF 		movl	$0, -8292(%ebp)
 6862      FFFF0000 
 6862      0000
3576:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3577:str_merge.c   ****     int max_zip_len = 0;
 6864              	LM822:
 6865 4d35 C78598DF 		movl	$0, -8296(%ebp)
 6865      FFFF0000 
 6865      0000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 189


3578:str_merge.c   **** 
3579:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3580:str_merge.c   ****     FILE *fout_enfb = NULL;
3581:str_merge.c   ****     U32 enfb_size = 0, enfb_offset = 0;
3582:str_merge.c   ****     U32 enfb_str_mem_size, enfb_max_mem_size = 0;
3583:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3584:str_merge.c   **** 
3585:str_merge.c   ****     /*----------------------------------------------------------------*/
3586:str_merge.c   ****     /* Code Body                                                      */
3587:str_merge.c   ****     /*----------------------------------------------------------------*/
3588:str_merge.c   ****     print_language_usage();
 6867              	LM823:
 6868 4d3f E81DF3FF 		call	_print_language_usage
 6868      FF
3589:str_merge.c   **** 
3590:str_merge.c   ****     memset(StrSize, 0, sizeof(U16) * MAX_STRING_MAP_SIZE);
 6870              	LM824:
 6871 4d44 C7442408 		movl	$131070, 8(%esp)
 6871      FEFF0100 
 6872 4d4c C7442404 		movl	$0, 4(%esp)
 6872      00000000 
 6873 4d54 C70424D8 		movl	$_StrSize, (%esp)
 6873      000200
 6874 4d5b E8000000 		call	_memset
 6874      00
3591:str_merge.c   **** 
3592:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3593:str_merge.c   ****     memset(&fixed_result, 0, sizeof(FixedResult));
 6876              	LM825:
 6877 4d60 C7442408 		movl	$8, 8(%esp)
 6877      08000000 
 6878 4d68 C7442404 		movl	$0, 4(%esp)
 6878      00000000 
 6879 4d70 C7042400 		movl	$_fixed_result, (%esp)
 6879      000000
 6880 4d77 E8000000 		call	_memset
 6880      00
3594:str_merge.c   ****     /* init */
3595:str_merge.c   ****     Strresset.strres_dup = NULL;
 6882              	LM826:
 6883 4d7c C745AC00 		movl	$0, -84(%ebp)
 6883      000000
3596:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3597:str_merge.c   **** 
3598:str_merge.c   ****     /* get string table */
3599:str_merge.c   ****     MaxID = GetStrResList(&Strresset);
 6885              	LM827:
 6886 4d83 8D45A8   		leal	-88(%ebp), %eax
 6887 4d86 890424   		movl	%eax, (%esp)
 6888 4d89 E8FAE2FF 		call	_GetStrResList
 6888      FF
 6889 4d8e 8945E0   		movl	%eax, -32(%ebp)
3600:str_merge.c   **** 
3601:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
3602:str_merge.c   ****     if (ref_all)
3603:str_merge.c   ****         free(ref_all);
3604:str_merge.c   **** #else
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 190


3605:str_merge.c   ****     if(ref_all_list){
 6891              	LM828:
 6892 4d91 833D4800 		cmpl	$0, _ref_all_list
 6892      000000
 6893 4d98 7435     		je	L413
3606:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Free ref_all_list: (%lu) bytes ",ref_all_list->Allocated
 6895              	LM829:
 6896 4d9a A1480000 		movl	_ref_all_list, %eax
 6896      00
 6897 4d9f 8B400C   		movl	12(%eax), %eax
 6898 4da2 8944240C 		movl	%eax, 12(%esp)
 6899 4da6 C7442408 		movl	$LC70, 8(%esp)
 6899      80430000 
 6900 4dae C7442404 		movl	$LC3, 4(%esp)
 6900      4B040000 
 6901 4db6 C7042401 		movl	$1, (%esp)
 6901      000000
 6902 4dbd E8000000 		call	_reslog_adaptor_log
 6902      00
3607:str_merge.c   ****         DeleteRefList(ref_all_list);
 6904              	LM830:
 6905 4dc2 A1480000 		movl	_ref_all_list, %eax
 6905      00
 6906 4dc7 890424   		movl	%eax, (%esp)
 6907 4dca E8892B00 		call	_DeleteRefList
 6907      00
 6908              	L413:
3608:str_merge.c   ****   }
3609:str_merge.c   **** #endif
3610:str_merge.c   **** 
3611:str_merge.c   ****     /* open output file */
3612:str_merge.c   ****     fout_res = fopen(STR_DATA_FILENAME, "wb");
 6910              	LM831:
 6911 4dcf C7442404 		movl	$LC61, 4(%esp)
 6911      DA3F0000 
 6912 4dd7 C70424C0 		movl	$LC71, (%esp)
 6912      430000
 6913 4dde E8000000 		call	_fopen
 6913      00
 6914 4de3 8945F4   		movl	%eax, -12(%ebp)
3613:str_merge.c   ****     fout_map = fopen(STR_MAP_FILENAME, "wb");
 6916              	LM832:
 6917 4de6 C7442404 		movl	$LC61, 4(%esp)
 6917      DA3F0000 
 6918 4dee C7042400 		movl	$LC72, (%esp)
 6918      440000
 6919 4df5 E8000000 		call	_fopen
 6919      00
 6920 4dfa 8945F0   		movl	%eax, -16(%ebp)
3614:str_merge.c   ****     /* Meta file for string compression */
3615:str_merge.c   ****     fout_meta_res = fopen(STR_DATA_META_FILENAME, "wb");
 6922              	LM833:
 6923 4dfd C7442404 		movl	$LC61, 4(%esp)
 6923      DA3F0000 
 6924 4e05 C7042440 		movl	$LC73, (%esp)
 6924      440000
 6925 4e0c E8000000 		call	_fopen
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 191


 6925      00
 6926 4e11 8945EC   		movl	%eax, -20(%ebp)
3616:str_merge.c   ****     fout_meta_map = fopen(STR_MAP_META_FILENAME, "wb");
 6928              	LM834:
 6929 4e14 C7442404 		movl	$LC61, 4(%esp)
 6929      DA3F0000 
 6930 4e1c C7042480 		movl	$LC74, (%esp)
 6930      440000
 6931 4e23 E8000000 		call	_fopen
 6931      00
 6932 4e28 8945E8   		movl	%eax, -24(%ebp)
3617:str_merge.c   **** 	
3618:str_merge.c   ****     if (fout_res == NULL || fout_map == NULL ||fout_meta_res == NULL || fout_meta_map == NULL)
 6934              	LM835:
 6935 4e2b 837DF400 		cmpl	$0, -12(%ebp)
 6936 4e2f 7412     		je	L415
 6937 4e31 837DF000 		cmpl	$0, -16(%ebp)
 6938 4e35 740C     		je	L415
 6939 4e37 837DEC00 		cmpl	$0, -20(%ebp)
 6940 4e3b 7406     		je	L415
 6941 4e3d 837DE800 		cmpl	$0, -24(%ebp)
 6942 4e41 752F     		jne	L414
 6943              	L415:
3619:str_merge.c   ****     {
3620:str_merge.c   ****         STRMERG_LOG_E("fout_res or fout_map open error (%d)(%d) ...!", fout_res, fout_map);
 6945              	LM836:
 6946 4e43 8B45F0   		movl	-16(%ebp), %eax
 6947 4e46 89442410 		movl	%eax, 16(%esp)
 6948 4e4a 8B45F4   		movl	-12(%ebp), %eax
 6949 4e4d 8944240C 		movl	%eax, 12(%esp)
 6950 4e51 C7442408 		movl	$LC75, 8(%esp)
 6950      C0440000 
 6951 4e59 C7442404 		movl	$LC3, 4(%esp)
 6951      4B040000 
 6952 4e61 C7042403 		movl	$3, (%esp)
 6952      000000
 6953 4e68 E8000000 		call	_reslog_adaptor_log
 6953      00
3621:str_merge.c   ****         goto GEN_STR_ERR_RET;
 6955              	LM837:
 6956 4e6d E98E1000 		jmp	L416
 6956      00
 6957              	L414:
3622:str_merge.c   ****     }
3623:str_merge.c   ****     strres = Strresset.strres;
 6959              	LM838:
 6960 4e72 8B45A8   		movl	-88(%ebp), %eax
 6961 4e75 8945BC   		movl	%eax, -68(%ebp)
3624:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3625:str_merge.c   ****     /* assign */
3626:str_merge.c   ****     strres_dup = Strresset.strres_dup;
 6963              	LM839:
 6964 4e78 8B45AC   		movl	-84(%ebp), %eax
 6965 4e7b 8985A0DF 		movl	%eax, -8288(%ebp)
 6965      FFFF
3627:str_merge.c   **** #endif
3628:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 192


3629:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3630:str_merge.c   ****     fout_enfb = fopen(ENFB_STRING_DATA_FILENAME, "wb");
3631:str_merge.c   ****     if (fout_enfb == NULL)
3632:str_merge.c   ****     {
3633:str_merge.c   ****         STRMERG_LOG_E("File open error (%s) ...!", ENFB_STRING_DATA_FILENAME);
3634:str_merge.c   ****         goto GEN_STR_ERR_RET;
3635:str_merge.c   ****     }
3636:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3637:str_merge.c   **** 
3638:str_merge.c   ****     /* print output file header */
3639:str_merge.c   ****     fprintf(fout_res, "#include \"mmi_features.h\"\n");
 6967              	LM840:
 6968 4e81 C7442404 		movl	$LC76, 4(%esp)
 6968      EE440000 
 6969 4e89 8B45F4   		movl	-12(%ebp), %eax
 6970 4e8c 890424   		movl	%eax, (%esp)
 6971 4e8f E8000000 		call	_fprintf
 6971      00
3640:str_merge.c   ****     fprintf(fout_res, "#include \"CompressResUtil.h\"\n\n\n");
 6973              	LM841:
 6974 4e94 C7442404 		movl	$LC77, 4(%esp)
 6974      20450000 
 6975 4e9c 8B45F4   		movl	-12(%ebp), %eax
 6976 4e9f 890424   		movl	%eax, (%esp)
 6977 4ea2 E8000000 		call	_fprintf
 6977      00
3641:str_merge.c   ****     fprintf(fout_res, "#include \"CustDataRes.h\"\n");
 6979              	LM842:
 6980 4ea7 C7442404 		movl	$LC78, 4(%esp)
 6980      40450000 
 6981 4eaf 8B45F4   		movl	-12(%ebp), %eax
 6982 4eb2 890424   		movl	%eax, (%esp)
 6983 4eb5 E8000000 		call	_fprintf
 6983      00
3642:str_merge.c   ****     fprintf(fout_res, "#include \"FontDCl.h\"\n\n\n");
 6985              	LM843:
 6986 4eba C7442404 		movl	$LC79, 4(%esp)
 6986      5A450000 
 6987 4ec2 8B45F4   		movl	-12(%ebp), %eax
 6988 4ec5 890424   		movl	%eax, (%esp)
 6989 4ec8 E8000000 		call	_fprintf
 6989      00
3643:str_merge.c   ****     fprintf(fout_res, "#if (!defined (__MTK_TARGET__))\n\t#define __align(x)\n#endif\n\n\n");
 6991              	LM844:
 6992 4ecd C7442404 		movl	$LC80, 4(%esp)
 6992      80450000 
 6993 4ed5 8B45F4   		movl	-12(%ebp), %eax
 6994 4ed8 890424   		movl	%eax, (%esp)
 6995 4edb E8000000 		call	_fprintf
 6995      00
3644:str_merge.c   ****     fprintf(fout_res, "#if !defined(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !defined(__MMI_RESOURCE_
 6997              	LM845:
 6998 4ee0 C7442404 		movl	$LC81, 4(%esp)
 6998      C0450000 
 6999 4ee8 8B45F4   		movl	-12(%ebp), %eax
 7000 4eeb 890424   		movl	%eax, (%esp)
 7001 4eee E8000000 		call	_fprintf
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 193


 7001      00
3645:str_merge.c   ****     fprintf(fout_map, "#include \"mmi_features.h\"\n");
 7003              	LM846:
 7004 4ef3 C7442404 		movl	$LC76, 4(%esp)
 7004      EE440000 
 7005 4efb 8B45F0   		movl	-16(%ebp), %eax
 7006 4efe 890424   		movl	%eax, (%esp)
 7007 4f01 E8000000 		call	_fprintf
 7007      00
3646:str_merge.c   ****     fprintf(fout_map, "#include \"CompressResUtil.h\"\n\n\n");
 7009              	LM847:
 7010 4f06 C7442404 		movl	$LC77, 4(%esp)
 7010      20450000 
 7011 4f0e 8B45F0   		movl	-16(%ebp), %eax
 7012 4f11 890424   		movl	%eax, (%esp)
 7013 4f14 E8000000 		call	_fprintf
 7013      00
3647:str_merge.c   ****     fprintf(fout_map, "#if !defined(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !defined(__MMI_RESOURCE_
 7015              	LM848:
 7016 4f19 C7442404 		movl	$LC81, 4(%esp)
 7016      C0450000 
 7017 4f21 8B45F0   		movl	-16(%ebp), %eax
 7018 4f24 890424   		movl	%eax, (%esp)
 7019 4f27 E8000000 		call	_fprintf
 7019      00
3648:str_merge.c   ****     fprintf(fout_map, "#include \"CustDataRes.h\"\n");
 7021              	LM849:
 7022 4f2c C7442404 		movl	$LC78, 4(%esp)
 7022      40450000 
 7023 4f34 8B45F0   		movl	-16(%ebp), %eax
 7024 4f37 890424   		movl	%eax, (%esp)
 7025 4f3a E8000000 		call	_fprintf
 7025      00
3649:str_merge.c   ****     fprintf(fout_map, "#if (!defined (__MTK_TARGET__))\n\t#define __align(x)\n#endif\n\n\n");
 7027              	LM850:
 7028 4f3f C7442404 		movl	$LC80, 4(%esp)
 7028      80450000 
 7029 4f47 8B45F0   		movl	-16(%ebp), %eax
 7030 4f4a 890424   		movl	%eax, (%esp)
 7031 4f4d E8000000 		call	_fprintf
 7031      00
3650:str_merge.c   **** #ifdef __CAT_SUPPORT__
3651:str_merge.c   ****     fprintf(fout_map, ResgenCATGetRegionStartStatment(MMIRESOURCE_CAT_RES_TYPE_ID_STR));
3652:str_merge.c   ****     fprintf(fout_res, ResgenCATGetRegionStartStatment(MMIRESOURCE_CAT_RES_TYPE_ID_STR));
3653:str_merge.c   **** #endif //__CAT_SUPPORT__
3654:str_merge.c   **** 
3655:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3656:str_merge.c   ****     /* generate duplicated string resource */
3657:str_merge.c   ****     if (strres_dup->MaxNum > 0)
 7033              	LM851:
 7034 4f52 8B85A0DF 		movl	-8288(%ebp), %eax
 7034      FFFF
 7035 4f58 83780400 		cmpl	$0, 4(%eax)
 7036 4f5c 0F8EB502 		jle	L417
 7036      0000
3658:str_merge.c   ****     {
3659:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 194


3660:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
3661:str_merge.c   ****     if (mmi_res_zip_language[MAX_LANGUAGES] == 1)
3662:str_merge.c   ****     {
3663:str_merge.c   ****         /* The len for compresss2 function must be unsigned long*/
3664:str_merge.c   ****         unsigned long array_size = 0, dest_size = 0, input_buf_size = 0;
3665:str_merge.c   ****         U8 *buffer = NULL;
3666:str_merge.c   ****         U8 *dest_buf = NULL;
3667:str_merge.c   ****         U8 *p = NULL;
3668:str_merge.c   ****         U16 strsize = 0;
3669:str_merge.c   **** 
3670:str_merge.c   ****         array_size = 2; /* for  buffer[0] and buffer[1] */
3671:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres_dup->MaxNum; str_res_id++)
3672:str_merge.c   ****         {
3673:str_merge.c   ****             array_size += ((wcslen(strres_dup->Str[str_res_id])+1)*2);
3674:str_merge.c   ****         }
3675:str_merge.c   ****         dest_size = compressBound(array_size);
3676:str_merge.c   **** 
3677:str_merge.c   ****         buffer = malloc(array_size);
3678:str_merge.c   ****         dest_buf = malloc(dest_size);
3679:str_merge.c   ****         buffer[0] = '\0';
3680:str_merge.c   ****         buffer[1] = '\0';
3681:str_merge.c   **** 
3682:str_merge.c   ****         p = buffer+2;
3683:str_merge.c   ****         /* copy string to buffer */
3684:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres_dup->MaxNum; str_res_id++)
3685:str_merge.c   ****         {
3686:str_merge.c   ****             strsize = (wcslen(strres_dup->Str[str_res_id]) + 1) * 2;
3687:str_merge.c   ****             memcpy(p, strres_dup->Str[str_res_id], strsize);
3688:str_merge.c   ****             p += strsize;
3689:str_merge.c   ****         }
3690:str_merge.c   **** 
3691:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_Dup: compress2 input: dest_size=%lu, array_si
3692:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Total size of compressing data= %d bytes (p-buffer), siz
3693:str_merge.c   **** 
3694:str_merge.c   ****         compress2(dest_buf, &dest_size, buffer, array_size, Z_BEST_COMPRESSION);
3695:str_merge.c   **** 
3696:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_Dup: compress2 output: dest_size=%lu, array_s
3697:str_merge.c   **** 
3698:str_merge.c   ****         /* output CustStrRes.c */
3699:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_Dup: Start to fout_res output");
3700:str_merge.c   ****         fprintf(fout_res, "//__align(4) CUSTOM_STRING StrRes_Dup[%lu];\n", array_size);
3701:str_merge.c   ****         fprintf(fout_res, "// StrRes_zip_Dup, DATA SIZE = %lu\n", dest_size);
3702:str_merge.c   ****         fprintf(fout_res, "__align(4) const CUSTOM_STRING StrRes_zip_Dup[] = {\n");
3703:str_merge.c   **** 
3704:str_merge.c   ****         for (z = 0; z < dest_size-1; ++z)
3705:str_merge.c   ****         {
3706:str_merge.c   ****             if (z%16 == 0)
3707:str_merge.c   ****             {
3708:str_merge.c   ****                 fprintf(fout_res, "\n");
3709:str_merge.c   ****             }
3710:str_merge.c   ****             fprintf(fout_res, "0x%02X, ", dest_buf[z]);
3711:str_merge.c   **** 
3712:str_merge.c   ****         }
3713:str_merge.c   ****         fprintf(fout_res, "0x%02X, ", dest_buf[z]);
3714:str_merge.c   ****         
3715:str_merge.c   ****         append_cat_padding_bytes(fout_res, dest_size);
3716:str_merge.c   ****         
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 195


3717:str_merge.c   ****         fprintf(fout_res, "};\n");
3718:str_merge.c   **** 
3719:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_Dup: Finish fout_res output");
3720:str_merge.c   **** 
3721:str_merge.c   ****         res_size[511] = array_size;
3722:str_merge.c   ****         reszip_size[511] = dest_size;
3723:str_merge.c   **** 
3724:str_merge.c   ****         free(buffer);
3725:str_merge.c   ****         free(dest_buf);  
3726:str_merge.c   **** 
3727:str_merge.c   ****         array_size = 0;
3728:str_merge.c   ****         dest_size = 0;
3729:str_merge.c   ****            
3730:str_merge.c   ****     }
3731:str_merge.c   ****     else
3732:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
3733:str_merge.c   ****     {
3734:str_merge.c   ****         /* output language structure title */
3735:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_Dup: Started fout_res output");
 7038              	LM852:
 7039 4f62 C7442408 		movl	$LC82, 8(%esp)
 7039      20460000 
 7040 4f6a C7442404 		movl	$LC3, 4(%esp)
 7040      4B040000 
 7041 4f72 C7042401 		movl	$1, (%esp)
 7041      000000
 7042 4f79 E8000000 		call	_reslog_adaptor_log
 7042      00
3736:str_merge.c   **** 
3737:str_merge.c   ****         fprintf(fout_res, "__align(4) const CUSTOM_STRING StrRes_Dup[] = {\n");
 7044              	LM853:
 7045 4f7e C7442404 		movl	$LC83, 4(%esp)
 7045      60460000 
 7046 4f86 8B45F4   		movl	-12(%ebp), %eax
 7047 4f89 890424   		movl	%eax, (%esp)
 7048 4f8c E8000000 		call	_fprintf
 7048      00
3738:str_merge.c   ****         fprintf(fout_meta_res, "########################################################\n");
 7050              	LM854:
 7051 4f91 C7442404 		movl	$LC84, 4(%esp)
 7051      A0460000 
 7052 4f99 8B45EC   		movl	-20(%ebp), %eax
 7053 4f9c 890424   		movl	%eax, (%esp)
 7054 4f9f E8000000 		call	_fprintf
 7054      00
3739:str_merge.c   ****         fprintf(fout_meta_res, "TYPE: RES\n");
 7056              	LM855:
 7057 4fa4 C7442404 		movl	$LC85, 4(%esp)
 7057      DA460000 
 7058 4fac 8B45EC   		movl	-20(%ebp), %eax
 7059 4faf 890424   		movl	%eax, (%esp)
 7060 4fb2 E8000000 		call	_fprintf
 7060      00
3740:str_merge.c   ****         fprintf(fout_meta_res, "LANG: DUP\n");
 7062              	LM856:
 7063 4fb7 C7442404 		movl	$LC86, 4(%esp)
 7063      E5460000 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 196


 7064 4fbf 8B45EC   		movl	-20(%ebp), %eax
 7065 4fc2 890424   		movl	%eax, (%esp)
 7066 4fc5 E8000000 		call	_fprintf
 7066      00
3741:str_merge.c   ****         fprintf(fout_meta_res, "MAXNUM: %d\n",strres_dup->MaxNum -1);
 7068              	LM857:
 7069 4fca 8B85A0DF 		movl	-8288(%ebp), %eax
 7069      FFFF
 7070 4fd0 8B4004   		movl	4(%eax), %eax
 7071 4fd3 48       		decl	%eax
 7072 4fd4 89442408 		movl	%eax, 8(%esp)
 7073 4fd8 C7442404 		movl	$LC87, 4(%esp)
 7073      F0460000 
 7074 4fe0 8B45EC   		movl	-20(%ebp), %eax
 7075 4fe3 890424   		movl	%eax, (%esp)
 7076 4fe6 E8000000 		call	_fprintf
 7076      00
3742:str_merge.c   ****         fprintf(fout_meta_res, "MAXID: %d\n", 1);
 7078              	LM858:
 7079 4feb C7442408 		movl	$1, 8(%esp)
 7079      01000000 
 7080 4ff3 C7442404 		movl	$LC88, 4(%esp)
 7080      FC460000 
 7081 4ffb 8B45EC   		movl	-20(%ebp), %eax
 7082 4ffe 890424   		movl	%eax, (%esp)
 7083 5001 E8000000 		call	_fprintf
 7083      00
3743:str_merge.c   ****         fprintf(fout_meta_res, "DATA:\n__align(4) const CUSTOM_STRING StrRes_Dup[] = {\n");
 7085              	LM859:
 7086 5006 C7442404 		movl	$LC89, 4(%esp)
 7086      20470000 
 7087 500e 8B45EC   		movl	-20(%ebp), %eax
 7088 5011 890424   		movl	%eax, (%esp)
 7089 5014 E8000000 		call	_fprintf
 7089      00
3744:str_merge.c   **** 
3745:str_merge.c   ****         fputs("0x00, 0x00,\n", fout_res);
 7091              	LM860:
 7092 5019 8B45F4   		movl	-12(%ebp), %eax
 7093 501c 89442404 		movl	%eax, 4(%esp)
 7094 5020 C7042457 		movl	$LC90, (%esp)
 7094      470000
 7095 5027 E8000000 		call	_fputs
 7095      00
3746:str_merge.c   ****         fputs("0x00, 0x00,\n", fout_meta_res);
 7097              	LM861:
 7098 502c 8B45EC   		movl	-20(%ebp), %eax
 7099 502f 89442404 		movl	%eax, 4(%esp)
 7100 5033 C7042457 		movl	$LC90, (%esp)
 7100      470000
 7101 503a E8000000 		call	_fputs
 7101      00
3747:str_merge.c   ****     
3748:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres_dup->MaxNum; str_res_id++)
 7103              	LM862:
 7104 503f C745DC00 		movl	$0, -36(%ebp)
 7104      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 197


 7105              	L418:
 7106 5046 8B95A0DF 		movl	-8288(%ebp), %edx
 7106      FFFF
 7107 504c 8B45DC   		movl	-36(%ebp), %eax
 7108 504f 3B4204   		cmpl	4(%edx), %eax
 7109 5052 7C05     		jl	L421
 7110 5054 E9E90000 		jmp	L419
 7110      00
 7111              	L421:
3749:str_merge.c   ****         {
3750:str_merge.c   ****             unsigned short nStringLen = 0;
 7113              	LM863:
 7114              	LBB44:
 7115 5059 66C78596 		movw	$0, -8298(%ebp)
 7115      DFFFFF00 
 7115      00
3751:str_merge.c   ****             
3752:str_merge.c   ****         #ifndef __UCS2_ENCODING
3753:str_merge.c   ****             fprintf(fout_res, "\"%s\",\n", strres_dup.Str[str_res_id]);
3754:str_merge.c   ****             fprintf(fout_meta_res, "\"%s\",\n", strres_dup.Str[str_res_id]);
3755:str_merge.c   ****         #else /* __UCS2_ENCODING */
3756:str_merge.c   ****             nStringLen = wcslen(strres_dup->Str[str_res_id]);
 7117              	LM864:
 7118 5062 8B8DA0DF 		movl	-8288(%ebp), %ecx
 7118      FFFF
 7119 5068 8B45DC   		movl	-36(%ebp), %eax
 7120 506b 8D148500 		leal	0(,%eax,4), %edx
 7120      000000
 7121 5072 8B01     		movl	(%ecx), %eax
 7122 5074 8B0410   		movl	(%eax,%edx), %eax
 7123 5077 890424   		movl	%eax, (%esp)
 7124 507a E8000000 		call	_wcslen
 7124      00
 7125 507f 66898596 		movw	%ax, -8298(%ebp)
 7125      DFFFFF
3757:str_merge.c   **** 
3758:str_merge.c   ****             for (z = 0; z < nStringLen * 2; ++z)
 7127              	LM865:
 7128 5086 66C745DA 		movw	$0, -38(%ebp)
 7128      0000
 7129              	L422:
 7130 508c 0FB755DA 		movzwl	-38(%ebp), %edx
 7131 5090 0FB78596 		movzwl	-8298(%ebp), %eax
 7131      DFFFFF
 7132 5097 01C0     		addl	%eax, %eax
 7133 5099 39C2     		cmpl	%eax, %edx
 7134 509b 7C02     		jl	L425
 7135 509d EB73     		jmp	L423
 7136              	L425:
3759:str_merge.c   ****             {
3760:str_merge.c   ****                 unsigned char *abc = (unsigned char*)strres_dup->Str[str_res_id];
 7138              	LM866:
 7139              	LBB45:
 7140 509f 8B8DA0DF 		movl	-8288(%ebp), %ecx
 7140      FFFF
 7141 50a5 8B45DC   		movl	-36(%ebp), %eax
 7142 50a8 8D148500 		leal	0(,%eax,4), %edx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 198


 7142      000000
 7143 50af 8B01     		movl	(%ecx), %eax
 7144 50b1 8B0410   		movl	(%eax,%edx), %eax
 7145 50b4 898590DF 		movl	%eax, -8304(%ebp)
 7145      FFFF
3761:str_merge.c   **** 
3762:str_merge.c   ****                 fprintf(fout_res, "0x%X, ", abc[z]);
 7147              	LM867:
 7148 50ba 0FB755DA 		movzwl	-38(%ebp), %edx
 7149 50be 8B8590DF 		movl	-8304(%ebp), %eax
 7149      FFFF
 7150 50c4 0FB60402 		movzbl	(%edx,%eax), %eax
 7151 50c8 89442408 		movl	%eax, 8(%esp)
 7152 50cc C7442404 		movl	$LC91, 4(%esp)
 7152      64470000 
 7153 50d4 8B45F4   		movl	-12(%ebp), %eax
 7154 50d7 890424   		movl	%eax, (%esp)
 7155 50da E8000000 		call	_fprintf
 7155      00
3763:str_merge.c   ****                 fprintf(fout_meta_res, "0x%X, ", abc[z]);
 7157              	LM868:
 7158 50df 0FB755DA 		movzwl	-38(%ebp), %edx
 7159 50e3 8B8590DF 		movl	-8304(%ebp), %eax
 7159      FFFF
 7160 50e9 0FB60402 		movzbl	(%edx,%eax), %eax
 7161 50ed 89442408 		movl	%eax, 8(%esp)
 7162 50f1 C7442404 		movl	$LC91, 4(%esp)
 7162      64470000 
 7163 50f9 8B45EC   		movl	-20(%ebp), %eax
 7164 50fc 890424   		movl	%eax, (%esp)
 7165 50ff E8000000 		call	_fprintf
 7165      00
 7167              	LM869:
 7168              	LBE45:
 7169 5104 0FB745DA 		movzwl	-38(%ebp), %eax
 7170 5108 40       		incl	%eax
 7171 5109 668945DA 		movw	%ax, -38(%ebp)
 7172 510d E97AFFFF 		jmp	L422
 7172      FF
 7173              	L423:
3764:str_merge.c   ****             }
3765:str_merge.c   **** 
3766:str_merge.c   ****             fputs("0x00, 0x00,\n", fout_res);
 7175              	LM870:
 7176 5112 8B45F4   		movl	-12(%ebp), %eax
 7177 5115 89442404 		movl	%eax, 4(%esp)
 7178 5119 C7042457 		movl	$LC90, (%esp)
 7178      470000
 7179 5120 E8000000 		call	_fputs
 7179      00
3767:str_merge.c   ****             fputs("0x00, 0x00,\n", fout_meta_res);
 7181              	LM871:
 7182 5125 8B45EC   		movl	-20(%ebp), %eax
 7183 5128 89442404 		movl	%eax, 4(%esp)
 7184 512c C7042457 		movl	$LC90, (%esp)
 7184      470000
 7185 5133 E8000000 		call	_fputs
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 199


 7185      00
 7187              	LM872:
 7188 5138 8D45DC   		leal	-36(%ebp), %eax
 7189              	LBE44:
 7190 513b FF00     		incl	(%eax)
 7191 513d E904FFFF 		jmp	L418
 7191      FF
 7192              	L419:
3768:str_merge.c   **** 
3769:str_merge.c   ****          #endif /* __UCS2_ENCODING */
3770:str_merge.c   ****         }
3771:str_merge.c   ****         fprintf(fout_res, "};\n");
 7194              	LM873:
 7195 5142 C7442404 		movl	$LC92, 4(%esp)
 7195      6B470000 
 7196 514a 8B45F4   		movl	-12(%ebp), %eax
 7197 514d 890424   		movl	%eax, (%esp)
 7198 5150 E8000000 		call	_fprintf
 7198      00
3772:str_merge.c   ****         fprintf(fout_meta_res, "};\n");
 7200              	LM874:
 7201 5155 C7442404 		movl	$LC92, 4(%esp)
 7201      6B470000 
 7202 515d 8B45EC   		movl	-20(%ebp), %eax
 7203 5160 890424   		movl	%eax, (%esp)
 7204 5163 E8000000 		call	_fprintf
 7204      00
3773:str_merge.c   **** 
3774:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_Dup: Finished fout_res output");
 7206              	LM875:
 7207 5168 C7442408 		movl	$LC93, 8(%esp)
 7207      80470000 
 7208 5170 C7442404 		movl	$LC3, 4(%esp)
 7208      4B040000 
 7209 5178 C7042401 		movl	$1, (%esp)
 7209      000000
 7210 517f E8000000 		call	_reslog_adaptor_log
 7210      00
3775:str_merge.c   ****     }
3776:str_merge.c   **** 
3777:str_merge.c   ****         /* look for a max value of TotalLength in each language */
3778:str_merge.c   ****         for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 7212              	LM876:
 7213 5184 C745E400 		movl	$0, -28(%ebp)
 7213      000000
 7214              	L426:
 7215 518b 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 7215      000000
 7216 5192 3945E4   		cmpl	%eax, -28(%ebp)
 7217 5195 7C02     		jl	L429
 7218 5197 EB58     		jmp	L427
 7219              	L429:
3779:str_merge.c   ****         {
3780:str_merge.c   ****             if (mtk_gLanguageFlag[i])
 7221              	LM877:
 7222 5199 8B45E4   		movl	-28(%ebp), %eax
 7223 519c 8D148500 		leal	0(,%eax,4), %edx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 200


 7223      000000
 7224 51a3 A1B80000 		movl	_mtk_gLanguageFlag, %eax
 7224      00
 7225 51a8 833C1000 		cmpl	$0, (%eax,%edx)
 7226 51ac 743C     		je	L428
3781:str_merge.c   ****             {
3782:str_merge.c   ****                 if (strres[i].TotalLength > max_total_len)
 7228              	LM878:
 7229 51ae 8B55E4   		movl	-28(%ebp), %edx
 7230 51b1 89D0     		movl	%edx, %eax
 7231 51b3 01C0     		addl	%eax, %eax
 7232 51b5 01D0     		addl	%edx, %eax
 7233 51b7 8D14C500 		leal	0(,%eax,8), %edx
 7233      000000
 7234 51be 8B45BC   		movl	-68(%ebp), %eax
 7235 51c1 8B441014 		movl	20(%eax,%edx), %eax
 7236 51c5 3B859CDF 		cmpl	-8292(%ebp), %eax
 7236      FFFF
 7237 51cb 7E1D     		jle	L428
3783:str_merge.c   ****                 {
3784:str_merge.c   ****                     max_total_len = strres[i].TotalLength;
 7239              	LM879:
 7240 51cd 8B55E4   		movl	-28(%ebp), %edx
 7241 51d0 89D0     		movl	%edx, %eax
 7242 51d2 01C0     		addl	%eax, %eax
 7243 51d4 01D0     		addl	%edx, %eax
 7244 51d6 8D14C500 		leal	0(,%eax,8), %edx
 7244      000000
 7245 51dd 8B45BC   		movl	-68(%ebp), %eax
 7246 51e0 8B441014 		movl	20(%eax,%edx), %eax
 7247 51e4 89859CDF 		movl	%eax, -8292(%ebp)
 7247      FFFF
 7249              	LM880:
 7250              	L428:
 7251 51ea 8D45E4   		leal	-28(%ebp), %eax
 7252 51ed FF00     		incl	(%eax)
 7253 51ef EB9A     		jmp	L426
 7254              	L427:
3785:str_merge.c   ****                 }
3786:str_merge.c   ****             }
3787:str_merge.c   ****         }
3788:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "MAX Total length of each language: %d ", max_total_len);
 7256              	LM881:
 7257 51f1 8B859CDF 		movl	-8292(%ebp), %eax
 7257      FFFF
 7258 51f7 8944240C 		movl	%eax, 12(%esp)
 7259 51fb C7442408 		movl	$LC94, 8(%esp)
 7259      C0470000 
 7260 5203 C7442404 		movl	$LC3, 4(%esp)
 7260      4B040000 
 7261 520b C7042401 		movl	$1, (%esp)
 7261      000000
 7262 5212 E8000000 		call	_reslog_adaptor_log
 7262      00
 7263              	L417:
3789:str_merge.c   ****     }
3790:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 201


3791:str_merge.c   **** 
3792:str_merge.c   ****     is16bit = malloc(sizeof(MMI_BOOL) * mtk_gMaxDeployedLangs);
 7265              	LM882:
 7266 5217 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 7266      000000
 7267 521e C1E002   		sall	$2, %eax
 7268 5221 890424   		movl	%eax, (%esp)
 7269 5224 E8000000 		call	_malloc
 7269      00
 7270 5229 A3C80000 		movl	%eax, _is16bit
 7270      00
3793:str_merge.c   ****     ASSERT(is16bit != NULL);
 7272              	LM883:
 7273 522e 833DC800 		cmpl	$0, _is16bit
 7273      000000
 7274 5235 7502     		jne	L436
 7275              	L433:
 7276 5237 EBFE     		jmp	L433
 7277              	L436:
3794:str_merge.c   ****     /* output string resource file */
3795:str_merge.c   ****     for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 7279              	LM884:
 7280 5239 C745E400 		movl	$0, -28(%ebp)
 7280      000000
 7281              	L437:
 7282 5240 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 7282      000000
 7283 5247 3945E4   		cmpl	%eax, -28(%ebp)
 7284 524a 7C05     		jl	L440
 7285 524c E9EA0900 		jmp	L438
 7285      00
 7286              	L440:
3796:str_merge.c   ****     {
3797:str_merge.c   ****         int old_i = i;
 7288              	LM885:
 7289              	LBB46:
 7290 5251 8B45E4   		movl	-28(%ebp), %eax
 7291 5254 898590DF 		movl	%eax, -8304(%ebp)
 7291      FFFF
3798:str_merge.c   ****         unsigned long nTotalLen = 0;
 7293              	LM886:
 7294 525a C7858CDF 		movl	$0, -8308(%ebp)
 7294      FFFF0000 
 7294      0000
3799:str_merge.c   **** 
3800:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3801:str_merge.c   ****         is16bit[i] = MMI_FALSE;
3802:str_merge.c   **** #else
3803:str_merge.c   ****         is16bit[i] = MMI_TRUE;
 7296              	LM887:
 7297 5264 8B45E4   		movl	-28(%ebp), %eax
 7298 5267 8D148500 		leal	0(,%eax,4), %edx
 7298      000000
 7299 526e A1C80000 		movl	_is16bit, %eax
 7299      00
 7300 5273 C7041001 		movl	$1, (%eax,%edx)
 7300      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 202


3804:str_merge.c   **** #endif
3805:str_merge.c   **** 
3806:str_merge.c   ****         if (mtk_gLanguageFlag[i] == 0)
 7302              	LM888:
 7303 527a 8B45E4   		movl	-28(%ebp), %eax
 7304 527d 8D148500 		leal	0(,%eax,4), %edx
 7304      000000
 7305 5284 A1B80000 		movl	_mtk_gLanguageFlag, %eax
 7305      00
 7306 5289 833C1000 		cmpl	$0, (%eax,%edx)
 7307 528d 0F858400 		jne	L441
 7307      0000
3807:str_merge.c   ****         {
3808:str_merge.c   ****             wchar_t * err_msg = malloc((STRMERGE_ERR_MSG_LEN_MAX+1) * sizeof(wchar_t));
 7309              	LM889:
 7310              	LBB47:
 7311 5293 C7042492 		movl	$402, (%esp)
 7311      010000
 7312 529a E8000000 		call	_malloc
 7312      00
 7313 529f 898588DF 		movl	%eax, -8312(%ebp)
 7313      FFFF
3809:str_merge.c   ****             swprintf(err_msg,L"Deployed languages not found in ref_list_translation.txt!\n");
 7315              	LM890:
 7316 52a5 C7442404 		movl	$LC95, 4(%esp)
 7316      00480000 
 7317 52ad 8B8588DF 		movl	-8312(%ebp), %eax
 7317      FFFF
 7318 52b3 890424   		movl	%eax, (%esp)
 7319 52b6 E8000000 		call	_swprintf
 7319      00
3810:str_merge.c   ****             str_merge_set_err(STRMERGE_LOAD_SSC_ERR, err_msg);
 7321              	LM891:
 7322 52bb 8B8588DF 		movl	-8312(%ebp), %eax
 7322      FFFF
 7323 52c1 89442404 		movl	%eax, 4(%esp)
 7324 52c5 C7042402 		movl	$2, (%esp)
 7324      000000
 7325 52cc E82FADFF 		call	_str_merge_set_err
 7325      FF
3811:str_merge.c   ****             STRMERG_LOG_E(STRMERG_SUB_TAG_MEM "Please provide translated strings of %s in ref_list.
 7327              	LM892:
 7328 52d1 8B55E4   		movl	-28(%ebp), %edx
 7329 52d4 89D0     		movl	%edx, %eax
 7330 52d6 C1E005   		sall	$5, %eax
 7331 52d9 29D0     		subl	%edx, %eax
 7332 52db 01C0     		addl	%eax, %eax
 7333 52dd 05280000 		addl	$_mtk_gLanguageArray+40, %eax
 7333      00
 7334 52e2 8944240C 		movl	%eax, 12(%esp)
 7335 52e6 C7442408 		movl	$LC96, 8(%esp)
 7335      80480000 
 7336 52ee C7442404 		movl	$LC3, 4(%esp)
 7336      4B040000 
 7337 52f6 C7042403 		movl	$3, (%esp)
 7337      000000
 7338 52fd E8000000 		call	_reslog_adaptor_log
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 203


 7338      00
3812:str_merge.c   ****             free(err_msg);
 7340              	LM893:
 7341 5302 8B8588DF 		movl	-8312(%ebp), %eax
 7341      FFFF
 7342 5308 890424   		movl	%eax, (%esp)
 7343 530b E8000000 		call	_free
 7343      00
3813:str_merge.c   ****             i = 0;
 7345              	LM894:
 7346 5310 C745E400 		movl	$0, -28(%ebp)
 7346      000000
 7347              	L441:
3814:str_merge.c   ****         }
3815:str_merge.c   **** 
3816:str_merge.c   **** 
3817:str_merge.c   **** 
3818:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
3819:str_merge.c   ****     if (mmi_res_zip_language[i] == 1)
3820:str_merge.c   ****     {
3821:str_merge.c   ****         // The parameter for compress 2 must be type of ulong
3822:str_merge.c   ****         unsigned long array_size = 0, dest_size = 0;
3823:str_merge.c   ****         U8 *buffer = NULL;
3824:str_merge.c   ****         U8 *dest_buf = NULL;
3825:str_merge.c   ****         U8 *p = NULL;
3826:str_merge.c   ****         U16 strsize = 0;
3827:str_merge.c   **** 
3828:str_merge.c   ****         
3829:str_merge.c   ****         /*------ output CustStrRes.c ------*/
3830:str_merge.c   ****         array_size = 2;
3831:str_merge.c   ****         /* Calculate Size of Current string */
3832:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxNum; str_res_id++)
3833:str_merge.c   ****         {
3834:str_merge.c   ****             /* check if it is a dup str */
3835:str_merge.c   ****             if (strres[i].Str[str_res_id] == NULL) 
3836:str_merge.c   ****                 continue;
3837:str_merge.c   **** 
3838:str_merge.c   ****             array_size += ((wcslen(strres[i].Str[str_res_id])+1)*2);
3839:str_merge.c   ****         }
3840:str_merge.c   ****         if(max_zip_len < array_size)
3841:str_merge.c   ****         {
3842:str_merge.c   ****             max_zip_len = array_size;
3843:str_merge.c   ****         }
3844:str_merge.c   **** 
3845:str_merge.c   ****         // Calculate the dest_size, since the dest_size is in-out parameter
3846:str_merge.c   ****         // The size must be large enough. (ulong)
3847:str_merge.c   ****         dest_size = compressBound(array_size);
3848:str_merge.c   **** 
3849:str_merge.c   ****         buffer = malloc(array_size);
3850:str_merge.c   ****         dest_buf = malloc(dest_size);
3851:str_merge.c   ****         buffer[0] = '\0';
3852:str_merge.c   ****         buffer[1] = '\0';
3853:str_merge.c   **** 
3854:str_merge.c   ****         p = buffer+2;
3855:str_merge.c   ****         /* copy string to buffer */
3856:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxNum; str_res_id++)
3857:str_merge.c   ****         {
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 204


3858:str_merge.c   ****             /* check if it is a dup str */
3859:str_merge.c   ****             if (strres[i].Str[str_res_id] == NULL) continue;
3860:str_merge.c   ****             
3861:str_merge.c   ****             strsize = (wcslen(strres[i].Str[str_res_id]) + 1) * 2;
3862:str_merge.c   ****             memcpy(p, strres[i].Str[str_res_id], strsize);
3863:str_merge.c   ****             p += strsize;
3864:str_merge.c   ****         }
3865:str_merge.c   ****         
3866:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_%d[%lu]: compress2 input: dest_size=%lu, arra
3867:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Total size of compressing data= %lu bytes (p-buffer), si
3868:str_merge.c   ****         
3869:str_merge.c   ****         compress2(dest_buf, &dest_size, buffer, array_size, Z_BEST_COMPRESSION);
3870:str_merge.c   **** 
3871:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_%d[%lu]: compress2 output: dest_size=%lu, arr
3872:str_merge.c   **** 
3873:str_merge.c   ****         //fprintf(fout_res, "__align(4) CUSTOM_STRING StrRes_%d[%d];\n", old_i + 1, array_size);
3874:str_merge.c   ****         fprintf(fout_res, "// StrRes_zip_%d, DATA SIZE = %d \n", old_i + 1, dest_size);
3875:str_merge.c   ****         fprintf(fout_res, "__align(4) const U8 StrRes_zip_%d[] = {\n", old_i + 1);
3876:str_merge.c   ****         
3877:str_merge.c   **** 
3878:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_%d[%lu]: Started fout_res output",old_i + 1, 
3879:str_merge.c   **** 
3880:str_merge.c   ****         for (z = 0; z < dest_size-1; ++z)
3881:str_merge.c   ****         {
3882:str_merge.c   ****             if (z %16 == 0)
3883:str_merge.c   ****             {
3884:str_merge.c   ****                 fprintf(fout_res, "\n");
3885:str_merge.c   ****             }
3886:str_merge.c   ****             fprintf(fout_res, "0x%02X, ", dest_buf[z]);
3887:str_merge.c   ****         }
3888:str_merge.c   ****         
3889:str_merge.c   ****         fprintf(fout_res, "0x%02X, ", dest_buf[z]);
3890:str_merge.c   **** 
3891:str_merge.c   ****         append_cat_padding_bytes(fout_res, dest_size);
3892:str_merge.c   **** 
3893:str_merge.c   ****         
3894:str_merge.c   ****         fprintf(fout_res, "};\n");
3895:str_merge.c   **** 
3896:str_merge.c   ****         fprintf(fout_res, "extern const U8 StrMap_zip_%d[];\n\n", old_i + 1);
3897:str_merge.c   **** 
3898:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrRes_zip_%d[%lu]: Finished fout_res output",old_i + 1,
3899:str_merge.c   **** 
3900:str_merge.c   ****         res_size[i] = array_size;
3901:str_merge.c   ****         reszip_size[i] = dest_size;
3902:str_merge.c   **** 
3903:str_merge.c   ****         free(buffer);
3904:str_merge.c   ****         free(dest_buf);  
3905:str_merge.c   **** 
3906:str_merge.c   ****         array_size = 0;
3907:str_merge.c   ****         dest_size = 0;
3908:str_merge.c   **** 
3909:str_merge.c   ****         /*------ output CustStrMap.c ------*/
3910:str_merge.c   **** 
3911:str_merge.c   ****         /* Get 16bit or 32 bit ----Start */
3912:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxID; str_res_id++)
3913:str_merge.c   ****         {
3914:str_merge.c   ****             unsigned int nStringLen = 0;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 205


3915:str_merge.c   ****             int iterator = 0;
3916:str_merge.c   ****             wchar_t *wcString;
3917:str_merge.c   **** 
3918:str_merge.c   ****             if (strres[i].StrRef[str_res_id] == -1)
3919:str_merge.c   ****             {
3920:str_merge.c   ****                 nTotalLen = 0;
3921:str_merge.c   ****             }
3922:str_merge.c   ****             else
3923:str_merge.c   ****             {
3924:str_merge.c   ****                 nTotalLen = 2;
3925:str_merge.c   ****             }
3926:str_merge.c   ****             /* check if it is duplicated */ 
3927:str_merge.c   ****             if (strres[i].is_dup[str_res_id])
3928:str_merge.c   ****             {
3929:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
3930:str_merge.c   ****                 {
3931:str_merge.c   ****                     nStringLen = 0;
3932:str_merge.c   ****                     nStringLen = wcslen(strres_dup->Str[iterator]);
3933:str_merge.c   ****                     wcString = NULL;
3934:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
3935:str_merge.c   ****                 }
3936:str_merge.c   ****                 /* add max_total_len offset to nTotalLen */
3937:str_merge.c   ****                 nTotalLen += max_total_len;
3938:str_merge.c   ****             }
3939:str_merge.c   ****             else
3940:str_merge.c   ****             {
3941:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
3942:str_merge.c   ****                 {
3943:str_merge.c   ****                     /* ignore dup str */
3944:str_merge.c   ****                     if (strres[i].Str[iterator])
3945:str_merge.c   ****                     {
3946:str_merge.c   ****                         nStringLen = 0;
3947:str_merge.c   ****                         nStringLen = wcslen(strres[i].Str[iterator]);
3948:str_merge.c   ****                         wcString = NULL;
3949:str_merge.c   ****                         nTotalLen += ((nStringLen + 1) * 2);
3950:str_merge.c   ****                     }
3951:str_merge.c   ****                 }
3952:str_merge.c   ****             }
3953:str_merge.c   **** 
3954:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
3955:str_merge.c   ****             if (nTotalLen/2 > 0xFFFF)
3956:str_merge.c   ****             {
3957:str_merge.c   ****                 is16bit[i] = MMI_FALSE;
3958:str_merge.c   ****             }
3959:str_merge.c   **** #endif
3960:str_merge.c   ****         }
3961:str_merge.c   ****         /* Get 16bit or 32 bit -----END*/
3962:str_merge.c   ****         
3963:str_merge.c   ****         if (is16bit[i])        
3964:str_merge.c   ****         {
3965:str_merge.c   **** #if !defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
3966:str_merge.c   ****             fprintf(fout_res, "extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\n\n", old_i + 1);
3967:str_merge.c   **** #else
3968:str_merge.c   ****             fprintf(fout_res, "//extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\n\n", old_i + 1);
3969:str_merge.c   **** #endif //__MMI_RESOURCE_STR_ZLIB_COMPRESS__
3970:str_merge.c   ****             array_size = strres[i].MaxID * sizeof(U16);
3971:str_merge.c   ****         }
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 206


3972:str_merge.c   ****         else
3973:str_merge.c   ****         {
3974:str_merge.c   **** #if !defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
3975:str_merge.c   ****             fprintf(fout_res, "extern const CUSTOM_STRING_MAP StrMap_%d[];\n\n", old_i + 1);
3976:str_merge.c   **** #else
3977:str_merge.c   ****             fprintf(fout_res, "//extern const CUSTOM_STRING_MAP StrMap_%d[];\n\n", old_i + 1);
3978:str_merge.c   **** #endif //__MMI_RESOURCE_STR_ZLIB_COMPRESS__
3979:str_merge.c   ****             array_size = strres[i].MaxID * sizeof(U32);
3980:str_merge.c   ****         }             
3981:str_merge.c   ****         
3982:str_merge.c   ****         dest_size = compressBound(array_size);
3983:str_merge.c   ****         buffer = malloc(array_size);
3984:str_merge.c   ****         dest_buf = malloc(dest_size);
3985:str_merge.c   ****         
3986:str_merge.c   ****         p = buffer;
3987:str_merge.c   **** 
3988:str_merge.c   ****         /* Write data to buffer */
3989:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxID; str_res_id++)
3990:str_merge.c   ****         {
3991:str_merge.c   ****             unsigned int nStringLen = 0;
3992:str_merge.c   ****             int iterator = 0;
3993:str_merge.c   ****             wchar_t *wcString;
3994:str_merge.c   ****             U32 res;
3995:str_merge.c   ****             U16 res_u16;
3996:str_merge.c   **** 
3997:str_merge.c   ****             if (strres[i].StrRef[str_res_id] == -1)
3998:str_merge.c   ****             {
3999:str_merge.c   ****                 nTotalLen = 0;
4000:str_merge.c   ****             }
4001:str_merge.c   ****             else
4002:str_merge.c   ****             {
4003:str_merge.c   ****                 nTotalLen = 2;
4004:str_merge.c   ****             }
4005:str_merge.c   **** 
4006:str_merge.c   ****             /* check if it is duplicated */ 
4007:str_merge.c   ****             if (strres[i].is_dup[str_res_id])
4008:str_merge.c   ****             {
4009:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
4010:str_merge.c   ****                 {
4011:str_merge.c   ****                     nStringLen = 0;
4012:str_merge.c   ****                     nStringLen = wcslen(strres_dup->Str[iterator]);
4013:str_merge.c   ****                     wcString = NULL;
4014:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
4015:str_merge.c   ****                 }
4016:str_merge.c   ****                 /* add max_total_len offset to nTotalLen */
4017:str_merge.c   ****                 nTotalLen += max_total_len;
4018:str_merge.c   ****             }
4019:str_merge.c   ****             else
4020:str_merge.c   ****             {
4021:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
4022:str_merge.c   ****                 {
4023:str_merge.c   ****                     /* ignore dup str */
4024:str_merge.c   ****                     if (strres[i].Str[iterator])
4025:str_merge.c   ****                     {
4026:str_merge.c   ****                         nStringLen = 0;
4027:str_merge.c   ****                         nStringLen = wcslen(strres[i].Str[iterator]);
4028:str_merge.c   ****                         wcString = NULL;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 207


4029:str_merge.c   ****                         nTotalLen += ((nStringLen + 1) * 2);
4030:str_merge.c   ****                     }
4031:str_merge.c   ****                 }
4032:str_merge.c   ****             }
4033:str_merge.c   **** 
4034:str_merge.c   ****             
4035:str_merge.c   ****             if (is16bit[i])        
4036:str_merge.c   ****             {            
4037:str_merge.c   ****                 res_u16 = nTotalLen / 2;
4038:str_merge.c   ****                 memcpy(p, &res_u16, sizeof(U16));
4039:str_merge.c   ****                 p+=sizeof(U16);
4040:str_merge.c   ****             }
4041:str_merge.c   ****             else
4042:str_merge.c   ****             {
4043:str_merge.c   ****                 res = nTotalLen / 2;
4044:str_merge.c   ****                 memcpy(p, &res, sizeof(U32));
4045:str_merge.c   ****                 p+=sizeof(U32);                
4046:str_merge.c   ****             }
4047:str_merge.c   ****         }
4048:str_merge.c   **** 
4049:str_merge.c   ****         /* compresss data to dest_buf */
4050:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_zip_%d: compress2 input: dest_size=%lu, array_siz
4051:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Total size of compressing data= %lu bytes (p-buffer), si
4052:str_merge.c   **** 
4053:str_merge.c   ****         compress2(dest_buf, &dest_size, buffer, array_size, Z_BEST_COMPRESSION);
4054:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_zip_%d compress2 output: dest_size=%lu, array_siz
4055:str_merge.c   **** 
4056:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_%d[%lu]: Started fout_res output",old_i + 1, arra
4057:str_merge.c   **** 
4058:str_merge.c   ****         /* Write compressed data to file */
4059:str_merge.c   ****         if (is16bit[i])        
4060:str_merge.c   ****         {
4061:str_merge.c   ****             fprintf(fout_map, "//__align(4) CUSTOM_STRING_MAP_16 StrMap_%d[%d];\n", old_i + 1, arra
4062:str_merge.c   ****         }
4063:str_merge.c   ****         else
4064:str_merge.c   ****         {
4065:str_merge.c   ****             fprintf(fout_map, "//CUSTOM_STRING_MAP StrMap_%d[%d];\n", old_i + 1, array_size/sizeof(
4066:str_merge.c   ****         }
4067:str_merge.c   **** 
4068:str_merge.c   ****         fprintf(fout_map, "// StrMap_zip_%d, DATA SIZE = %d\n", old_i + 1, dest_size);        
4069:str_merge.c   ****         fprintf(fout_map, "__align(4) const U8 StrMap_zip_%d[] = {\n", old_i + 1);
4070:str_merge.c   **** 
4071:str_merge.c   ****         for (z = 0; z < dest_size-1; ++z)
4072:str_merge.c   ****         {
4073:str_merge.c   **** 
4074:str_merge.c   ****             if ((z+1)%16 == 0)
4075:str_merge.c   ****             {
4076:str_merge.c   ****                 fprintf(fout_map, "\n");
4077:str_merge.c   ****             }
4078:str_merge.c   ****             fprintf(fout_map, "0x%02X, ", dest_buf[z]);
4079:str_merge.c   ****         }
4080:str_merge.c   ****         fprintf(fout_map, "0x%02X, ", dest_buf[z]);
4081:str_merge.c   **** 
4082:str_merge.c   ****         append_cat_padding_bytes(fout_map, dest_size);
4083:str_merge.c   **** 
4084:str_merge.c   ****         fprintf(fout_map, "};\n");
4085:str_merge.c   ****         
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 208


4086:str_merge.c   ****         
4087:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_%d[%lu]: Finished fout_res output",old_i + 1, arr
4088:str_merge.c   ****         
4089:str_merge.c   ****         map_size[i] = array_size;
4090:str_merge.c   ****         mapzip_size[i] = dest_size;   
4091:str_merge.c   ****         
4092:str_merge.c   ****         free(buffer);
4093:str_merge.c   ****         free(dest_buf);     
4094:str_merge.c   **** 
4095:str_merge.c   ****         array_size = 0;
4096:str_merge.c   ****         dest_size = 0;        
4097:str_merge.c   ****     }
4098:str_merge.c   ****     else
4099:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
4100:str_merge.c   ****     {
4101:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxID; str_res_id++)
 7349              	LM895:
 7350              	LBE47:
 7351 5317 C745DC00 		movl	$0, -36(%ebp)
 7351      000000
 7352              	L442:
 7353 531e 8B55E4   		movl	-28(%ebp), %edx
 7354 5321 89D0     		movl	%edx, %eax
 7355 5323 01C0     		addl	%eax, %eax
 7356 5325 01D0     		addl	%edx, %eax
 7357 5327 8D0CC500 		leal	0(,%eax,8), %ecx
 7357      000000
 7358 532e 8B55BC   		movl	-68(%ebp), %edx
 7359 5331 8B45DC   		movl	-36(%ebp), %eax
 7360 5334 3B440A08 		cmpl	8(%edx,%ecx), %eax
 7361 5338 7C05     		jl	L445
 7362 533a E91C0200 		jmp	L443
 7362      00
 7363              	L445:
4102:str_merge.c   ****         {
4103:str_merge.c   ****             unsigned int nStringLen = 0;
 7365              	LM896:
 7366              	LBB48:
 7367 533f C78588DF 		movl	$0, -8312(%ebp)
 7367      FFFF0000 
 7367      0000
4104:str_merge.c   ****             int iterator = 0;
 7369              	LM897:
 7370 5349 C78584DF 		movl	$0, -8316(%ebp)
 7370      FFFF0000 
 7370      0000
4105:str_merge.c   ****             wchar_t *wcString;
4106:str_merge.c   **** 
4107:str_merge.c   ****             if (strres[i].StrRef[str_res_id] == -1)
 7372              	LM898:
 7373 5353 8B55E4   		movl	-28(%ebp), %edx
 7374 5356 89D0     		movl	%edx, %eax
 7375 5358 01C0     		addl	%eax, %eax
 7376 535a 01D0     		addl	%edx, %eax
 7377 535c 8D1CC500 		leal	0(,%eax,8), %ebx
 7377      000000
 7378 5363 8B4DBC   		movl	-68(%ebp), %ecx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 209


 7379 5366 8B45DC   		movl	-36(%ebp), %eax
 7380 5369 8D148500 		leal	0(,%eax,4), %edx
 7380      000000
 7381 5370 8B441904 		movl	4(%ecx,%ebx), %eax
 7382 5374 833C10FF 		cmpl	$-1, (%eax,%edx)
 7383 5378 750C     		jne	L446
4108:str_merge.c   ****             {
4109:str_merge.c   ****                 nTotalLen = 0;
 7385              	LM899:
 7386 537a C7858CDF 		movl	$0, -8308(%ebp)
 7386      FFFF0000 
 7386      0000
 7387 5384 EB0A     		jmp	L447
 7388              	L446:
4110:str_merge.c   ****             }
4111:str_merge.c   ****             else
4112:str_merge.c   ****             {
4113:str_merge.c   ****                 nTotalLen = 2;
 7390              	LM900:
 7391 5386 C7858CDF 		movl	$2, -8308(%ebp)
 7391      FFFF0200 
 7391      0000
 7392              	L447:
4114:str_merge.c   ****             }
4115:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4116:str_merge.c   ****             /* check if it is duplicated */ 
4117:str_merge.c   ****             if (strres[i].is_dup[str_res_id])
 7394              	LM901:
 7395 5390 8B55E4   		movl	-28(%ebp), %edx
 7396 5393 89D0     		movl	%edx, %eax
 7397 5395 01C0     		addl	%eax, %eax
 7398 5397 01D0     		addl	%edx, %eax
 7399 5399 8D0CC500 		leal	0(,%eax,8), %ecx
 7399      000000
 7400 53a0 8B55BC   		movl	-68(%ebp), %edx
 7401 53a3 8B45DC   		movl	-36(%ebp), %eax
 7402 53a6 03440A10 		addl	16(%edx,%ecx), %eax
 7403 53aa 803800   		cmpb	$0, (%eax)
 7404 53ad 0F84A900 		je	L448
 7404      0000
4118:str_merge.c   ****             {
4119:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
 7406              	LM902:
 7407 53b3 C78584DF 		movl	$0, -8316(%ebp)
 7407      FFFF0000 
 7407      0000
 7408              	L449:
 7409 53bd 8B55E4   		movl	-28(%ebp), %edx
 7410 53c0 89D0     		movl	%edx, %eax
 7411 53c2 01C0     		addl	%eax, %eax
 7412 53c4 01D0     		addl	%edx, %eax
 7413 53c6 8D1CC500 		leal	0(,%eax,8), %ebx
 7413      000000
 7414 53cd 8B55BC   		movl	-68(%ebp), %edx
 7415 53d0 8B45DC   		movl	-36(%ebp), %eax
 7416 53d3 8D0C8500 		leal	0(,%eax,4), %ecx
 7416      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 210


 7417 53da 8B541A04 		movl	4(%edx,%ebx), %edx
 7418 53de 8B8584DF 		movl	-8316(%ebp), %eax
 7418      FFFF
 7419 53e4 3B040A   		cmpl	(%edx,%ecx), %eax
 7420 53e7 7C02     		jl	L452
 7421 53e9 EB5E     		jmp	L450
 7422              	L452:
4120:str_merge.c   ****                 {
4121:str_merge.c   ****                     nStringLen = 0;
 7424              	LM903:
 7425 53eb C78588DF 		movl	$0, -8312(%ebp)
 7425      FFFF0000 
 7425      0000
4122:str_merge.c   ****                     nStringLen = wcslen(strres_dup->Str[iterator]);
 7427              	LM904:
 7428 53f5 8B8DA0DF 		movl	-8288(%ebp), %ecx
 7428      FFFF
 7429 53fb 8B8584DF 		movl	-8316(%ebp), %eax
 7429      FFFF
 7430 5401 8D148500 		leal	0(,%eax,4), %edx
 7430      000000
 7431 5408 8B01     		movl	(%ecx), %eax
 7432 540a 8B0410   		movl	(%eax,%edx), %eax
 7433 540d 890424   		movl	%eax, (%esp)
 7434 5410 E8000000 		call	_wcslen
 7434      00
 7435 5415 898588DF 		movl	%eax, -8312(%ebp)
 7435      FFFF
4123:str_merge.c   ****                     wcString = NULL;
 7437              	LM905:
 7438 541b C78580DF 		movl	$0, -8320(%ebp)
 7438      FFFF0000 
 7438      0000
4124:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
 7440              	LM906:
 7441 5425 8B8588DF 		movl	-8312(%ebp), %eax
 7441      FFFF
 7442 542b 01C0     		addl	%eax, %eax
 7443 542d 03858CDF 		addl	-8308(%ebp), %eax
 7443      FFFF
 7444 5433 83C002   		addl	$2, %eax
 7445 5436 89858CDF 		movl	%eax, -8308(%ebp)
 7445      FFFF
 7447              	LM907:
 7448 543c 8D8584DF 		leal	-8316(%ebp), %eax
 7448      FFFF
 7449 5442 FF00     		incl	(%eax)
 7450 5444 E974FFFF 		jmp	L449
 7450      FF
 7451              	L450:
4125:str_merge.c   ****                 }
4126:str_merge.c   ****                 /* add max_total_len offset to nTotalLen */
4127:str_merge.c   ****                 nTotalLen += max_total_len;
 7453              	LM908:
 7454 5449 8B959CDF 		movl	-8292(%ebp), %edx
 7454      FFFF
 7455 544f 8D858CDF 		leal	-8308(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 211


 7455      FFFF
 7456 5455 0110     		addl	%edx, (%eax)
 7457 5457 E9D00000 		jmp	L453
 7457      00
 7458              	L448:
4128:str_merge.c   ****             }
4129:str_merge.c   ****             else
4130:str_merge.c   ****             {
4131:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
 7460              	LM909:
 7461 545c C78584DF 		movl	$0, -8316(%ebp)
 7461      FFFF0000 
 7461      0000
 7462              	L454:
 7463 5466 8B55E4   		movl	-28(%ebp), %edx
 7464 5469 89D0     		movl	%edx, %eax
 7465 546b 01C0     		addl	%eax, %eax
 7466 546d 01D0     		addl	%edx, %eax
 7467 546f 8D1CC500 		leal	0(,%eax,8), %ebx
 7467      000000
 7468 5476 8B55BC   		movl	-68(%ebp), %edx
 7469 5479 8B45DC   		movl	-36(%ebp), %eax
 7470 547c 8D0C8500 		leal	0(,%eax,4), %ecx
 7470      000000
 7471 5483 8B541A04 		movl	4(%edx,%ebx), %edx
 7472 5487 8B8584DF 		movl	-8316(%ebp), %eax
 7472      FFFF
 7473 548d 3B040A   		cmpl	(%edx,%ecx), %eax
 7474 5490 7C05     		jl	L457
 7475 5492 E9950000 		jmp	L453
 7475      00
 7476              	L457:
4132:str_merge.c   ****                 {
4133:str_merge.c   ****                     /* ignore dup str */
4134:str_merge.c   ****                     if (strres[i].Str[iterator])
 7478              	LM910:
 7479 5497 8B55E4   		movl	-28(%ebp), %edx
 7480 549a 89D0     		movl	%edx, %eax
 7481 549c 01C0     		addl	%eax, %eax
 7482 549e 01D0     		addl	%edx, %eax
 7483 54a0 8D1CC500 		leal	0(,%eax,8), %ebx
 7483      000000
 7484 54a7 8B4DBC   		movl	-68(%ebp), %ecx
 7485 54aa 8B8584DF 		movl	-8316(%ebp), %eax
 7485      FFFF
 7486 54b0 8D148500 		leal	0(,%eax,4), %edx
 7486      000000
 7487 54b7 8B0419   		movl	(%ecx,%ebx), %eax
 7488 54ba 833C1000 		cmpl	$0, (%eax,%edx)
 7489 54be 745F     		je	L456
4135:str_merge.c   ****                     {
4136:str_merge.c   ****                         nStringLen = 0;
 7491              	LM911:
 7492 54c0 C78588DF 		movl	$0, -8312(%ebp)
 7492      FFFF0000 
 7492      0000
4137:str_merge.c   ****                         nStringLen = wcslen(strres[i].Str[iterator]);
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 212


 7494              	LM912:
 7495 54ca 8B55E4   		movl	-28(%ebp), %edx
 7496 54cd 89D0     		movl	%edx, %eax
 7497 54cf 01C0     		addl	%eax, %eax
 7498 54d1 01D0     		addl	%edx, %eax
 7499 54d3 8D1CC500 		leal	0(,%eax,8), %ebx
 7499      000000
 7500 54da 8B4DBC   		movl	-68(%ebp), %ecx
 7501 54dd 8B8584DF 		movl	-8316(%ebp), %eax
 7501      FFFF
 7502 54e3 8D148500 		leal	0(,%eax,4), %edx
 7502      000000
 7503 54ea 8B0419   		movl	(%ecx,%ebx), %eax
 7504 54ed 8B0410   		movl	(%eax,%edx), %eax
 7505 54f0 890424   		movl	%eax, (%esp)
 7506 54f3 E8000000 		call	_wcslen
 7506      00
 7507 54f8 898588DF 		movl	%eax, -8312(%ebp)
 7507      FFFF
4138:str_merge.c   ****                         wcString = NULL;
 7509              	LM913:
 7510 54fe C78580DF 		movl	$0, -8320(%ebp)
 7510      FFFF0000 
 7510      0000
4139:str_merge.c   ****                         nTotalLen += ((nStringLen + 1) * 2);
 7512              	LM914:
 7513 5508 8B8588DF 		movl	-8312(%ebp), %eax
 7513      FFFF
 7514 550e 01C0     		addl	%eax, %eax
 7515 5510 03858CDF 		addl	-8308(%ebp), %eax
 7515      FFFF
 7516 5516 83C002   		addl	$2, %eax
 7517 5519 89858CDF 		movl	%eax, -8308(%ebp)
 7517      FFFF
 7519              	LM915:
 7520              	L456:
 7521 551f 8D8584DF 		leal	-8316(%ebp), %eax
 7521      FFFF
 7522 5525 FF00     		incl	(%eax)
 7523 5527 E93AFFFF 		jmp	L454
 7523      FF
 7524              	L453:
4140:str_merge.c   ****                     }
4141:str_merge.c   ****                 }
4142:str_merge.c   ****             }
4143:str_merge.c   **** 
4144:str_merge.c   ****             if (nTotalLen/2 > 0xFFFF)
 7526              	LM916:
 7527 552c 8B858CDF 		movl	-8308(%ebp), %eax
 7527      FFFF
 7528 5532 D1E8     		shrl	%eax
 7529 5534 3DFFFF00 		cmpl	$65535, %eax
 7529      00
 7530 5539 7616     		jbe	L444
4145:str_merge.c   ****             {
4146:str_merge.c   ****                 is16bit[i] = MMI_FALSE;
 7532              	LM917:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 213


 7533 553b 8B45E4   		movl	-28(%ebp), %eax
 7534 553e 8D148500 		leal	0(,%eax,4), %edx
 7534      000000
 7535 5545 A1C80000 		movl	_is16bit, %eax
 7535      00
 7536 554a C7041000 		movl	$0, (%eax,%edx)
 7536      000000
 7538              	LM918:
 7539              	L444:
 7540 5551 8D45DC   		leal	-36(%ebp), %eax
 7541              	LBE48:
 7542 5554 FF00     		incl	(%eax)
 7543 5556 E9C3FDFF 		jmp	L442
 7543      FF
 7544              	L443:
4147:str_merge.c   ****             }
4148:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4149:str_merge.c   ****             for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
4150:str_merge.c   ****             {
4151:str_merge.c   ****                 nStringLen = 0;
4152:str_merge.c   ****                 nStringLen = wcslen(strres[i].Str[iterator]);
4153:str_merge.c   ****                 wcString = NULL;
4154:str_merge.c   ****                 nTotalLen += ((nStringLen + 1) * 2);
4155:str_merge.c   ****             }
4156:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4157:str_merge.c   **** 
4158:str_merge.c   ****         }
4159:str_merge.c   **** 
4160:str_merge.c   ****         /* output language structure title */
4161:str_merge.c   ****         fprintf(fout_res, "__align(4) const CUSTOM_STRING StrRes_%d[] = {\n", old_i + 1);
 7546              	LM919:
 7547 555b 8B8590DF 		movl	-8304(%ebp), %eax
 7547      FFFF
 7548 5561 40       		incl	%eax
 7549 5562 89442408 		movl	%eax, 8(%esp)
 7550 5566 C7442404 		movl	$LC97, 4(%esp)
 7550      E0480000 
 7551 556e 8B45F4   		movl	-12(%ebp), %eax
 7552 5571 890424   		movl	%eax, (%esp)
 7553 5574 E8000000 		call	_fprintf
 7553      00
4162:str_merge.c   ****         fprintf(fout_meta_res,  "########################################################\n");
 7555              	LM920:
 7556 5579 C7442404 		movl	$LC84, 4(%esp)
 7556      A0460000 
 7557 5581 8B45EC   		movl	-20(%ebp), %eax
 7558 5584 890424   		movl	%eax, (%esp)
 7559 5587 E8000000 		call	_fprintf
 7559      00
4163:str_merge.c   ****         fprintf(fout_meta_res,  "TYPE: RES\n");
 7561              	LM921:
 7562 558c C7442404 		movl	$LC85, 4(%esp)
 7562      DA460000 
 7563 5594 8B45EC   		movl	-20(%ebp), %eax
 7564 5597 890424   		movl	%eax, (%esp)
 7565 559a E8000000 		call	_fprintf
 7565      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 214


4164:str_merge.c   ****         fprintf(fout_meta_res,  "LANG: %d\n", old_i + 1);
 7567              	LM922:
 7568 559f 8B8590DF 		movl	-8304(%ebp), %eax
 7568      FFFF
 7569 55a5 40       		incl	%eax
 7570 55a6 89442408 		movl	%eax, 8(%esp)
 7571 55aa C7442404 		movl	$LC98, 4(%esp)
 7571      10490000 
 7572 55b2 8B45EC   		movl	-20(%ebp), %eax
 7573 55b5 890424   		movl	%eax, (%esp)
 7574 55b8 E8000000 		call	_fprintf
 7574      00
4165:str_merge.c   ****         fprintf(fout_meta_res,  "MAXNUM: %d\n",strres[old_i].MaxNum);
 7576              	LM923:
 7577 55bd 8B9590DF 		movl	-8304(%ebp), %edx
 7577      FFFF
 7578 55c3 89D0     		movl	%edx, %eax
 7579 55c5 01C0     		addl	%eax, %eax
 7580 55c7 01D0     		addl	%edx, %eax
 7581 55c9 8D14C500 		leal	0(,%eax,8), %edx
 7581      000000
 7582 55d0 8B45BC   		movl	-68(%ebp), %eax
 7583 55d3 8B44100C 		movl	12(%eax,%edx), %eax
 7584 55d7 89442408 		movl	%eax, 8(%esp)
 7585 55db C7442404 		movl	$LC87, 4(%esp)
 7585      F0460000 
 7586 55e3 8B45EC   		movl	-20(%ebp), %eax
 7587 55e6 890424   		movl	%eax, (%esp)
 7588 55e9 E8000000 		call	_fprintf
 7588      00
4166:str_merge.c   ****         fprintf(fout_meta_res,  "MAXID: %d\n", strres[old_i].MaxID);
 7590              	LM924:
 7591 55ee 8B9590DF 		movl	-8304(%ebp), %edx
 7591      FFFF
 7592 55f4 89D0     		movl	%edx, %eax
 7593 55f6 01C0     		addl	%eax, %eax
 7594 55f8 01D0     		addl	%edx, %eax
 7595 55fa 8D14C500 		leal	0(,%eax,8), %edx
 7595      000000
 7596 5601 8B45BC   		movl	-68(%ebp), %eax
 7597 5604 8B441008 		movl	8(%eax,%edx), %eax
 7598 5608 89442408 		movl	%eax, 8(%esp)
 7599 560c C7442404 		movl	$LC88, 4(%esp)
 7599      FC460000 
 7600 5614 8B45EC   		movl	-20(%ebp), %eax
 7601 5617 890424   		movl	%eax, (%esp)
 7602 561a E8000000 		call	_fprintf
 7602      00
4167:str_merge.c   ****         fprintf(fout_meta_res,  "DATA:\n");
 7604              	LM925:
 7605 561f C7442404 		movl	$LC99, 4(%esp)
 7605      1A490000 
 7606 5627 8B45EC   		movl	-20(%ebp), %eax
 7607 562a 890424   		movl	%eax, (%esp)
 7608 562d E8000000 		call	_fprintf
 7608      00
4168:str_merge.c   ****         fprintf(fout_meta_res,  "__align(4) const CUSTOM_STRING StrRes_%d[] = {\n", old_i + 1);
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 215


 7610              	LM926:
 7611 5632 8B8590DF 		movl	-8304(%ebp), %eax
 7611      FFFF
 7612 5638 40       		incl	%eax
 7613 5639 89442408 		movl	%eax, 8(%esp)
 7614 563d C7442404 		movl	$LC97, 4(%esp)
 7614      E0480000 
 7615 5645 8B45EC   		movl	-20(%ebp), %eax
 7616 5648 890424   		movl	%eax, (%esp)
 7617 564b E8000000 		call	_fprintf
 7617      00
4169:str_merge.c   **** 				
4170:str_merge.c   **** 
4171:str_merge.c   ****         /* output language map meta file*/
4172:str_merge.c   ****         fprintf(fout_meta_map,  "########################################################\n");
 7619              	LM927:
 7620 5650 C7442404 		movl	$LC84, 4(%esp)
 7620      A0460000 
 7621 5658 8B45E8   		movl	-24(%ebp), %eax
 7622 565b 890424   		movl	%eax, (%esp)
 7623 565e E8000000 		call	_fprintf
 7623      00
4173:str_merge.c   ****         fprintf(fout_meta_map,  "TYPE: MAP\n"); 
 7625              	LM928:
 7626 5663 C7442404 		movl	$LC100, 4(%esp)
 7626      21490000 
 7627 566b 8B45E8   		movl	-24(%ebp), %eax
 7628 566e 890424   		movl	%eax, (%esp)
 7629 5671 E8000000 		call	_fprintf
 7629      00
4174:str_merge.c   **** 		fprintf(fout_meta_map,  "LANG: %d\n", old_i + 1);           
 7631              	LM929:
 7632 5676 8B8590DF 		movl	-8304(%ebp), %eax
 7632      FFFF
 7633 567c 40       		incl	%eax
 7634 567d 89442408 		movl	%eax, 8(%esp)
 7635 5681 C7442404 		movl	$LC98, 4(%esp)
 7635      10490000 
 7636 5689 8B45E8   		movl	-24(%ebp), %eax
 7637 568c 890424   		movl	%eax, (%esp)
 7638 568f E8000000 		call	_fprintf
 7638      00
4175:str_merge.c   ****         if (is16bit[i])        
 7640              	LM930:
 7641 5694 8B45E4   		movl	-28(%ebp), %eax
 7642 5697 8D148500 		leal	0(,%eax,4), %edx
 7642      000000
 7643 569e A1C80000 		movl	_is16bit, %eax
 7643      00
 7644 56a3 833C1000 		cmpl	$0, (%eax,%edx)
 7645 56a7 7464     		je	L460
4176:str_merge.c   ****         {
4177:str_merge.c   ****             fprintf(fout_map, "__align(4) const CUSTOM_STRING_MAP_16 StrMap_%d[] = {\n", old_i + 1)
 7647              	LM931:
 7648 56a9 8B8590DF 		movl	-8304(%ebp), %eax
 7648      FFFF
 7649 56af 40       		incl	%eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 216


 7650 56b0 89442408 		movl	%eax, 8(%esp)
 7651 56b4 C7442404 		movl	$LC101, 4(%esp)
 7651      40490000 
 7652 56bc 8B45F0   		movl	-16(%ebp), %eax
 7653 56bf 890424   		movl	%eax, (%esp)
 7654 56c2 E8000000 		call	_fprintf
 7654      00
4178:str_merge.c   ****            fprintf(fout_meta_map, "BIT_MODE: 16\n");
 7656              	LM932:
 7657 56c7 C7442404 		movl	$LC102, 4(%esp)
 7657      77490000 
 7658 56cf 8B45E8   		movl	-24(%ebp), %eax
 7659 56d2 890424   		movl	%eax, (%esp)
 7660 56d5 E8000000 		call	_fprintf
 7660      00
4179:str_merge.c   ****            fprintf(fout_meta_map, "DATA:\n");
 7662              	LM933:
 7663 56da C7442404 		movl	$LC99, 4(%esp)
 7663      1A490000 
 7664 56e2 8B45E8   		movl	-24(%ebp), %eax
 7665 56e5 890424   		movl	%eax, (%esp)
 7666 56e8 E8000000 		call	_fprintf
 7666      00
4180:str_merge.c   ****            fprintf(fout_meta_map, "__align(4) const CUSTOM_STRING_MAP_16 StrMap_%d[] = {\n", old_i 
 7668              	LM934:
 7669 56ed 8B8590DF 		movl	-8304(%ebp), %eax
 7669      FFFF
 7670 56f3 40       		incl	%eax
 7671 56f4 89442408 		movl	%eax, 8(%esp)
 7672 56f8 C7442404 		movl	$LC101, 4(%esp)
 7672      40490000 
 7673 5700 8B45E8   		movl	-24(%ebp), %eax
 7674 5703 890424   		movl	%eax, (%esp)
 7675 5706 E8000000 		call	_fprintf
 7675      00
 7676 570b EB62     		jmp	L461
 7677              	L460:
4181:str_merge.c   ****            
4182:str_merge.c   ****         }
4183:str_merge.c   ****         else
4184:str_merge.c   ****         {
4185:str_merge.c   ****             fprintf(fout_map, "const CUSTOM_STRING_MAP StrMap_%d[] = {\n", old_i + 1);
 7679              	LM935:
 7680 570d 8B8590DF 		movl	-8304(%ebp), %eax
 7680      FFFF
 7681 5713 40       		incl	%eax
 7682 5714 89442408 		movl	%eax, 8(%esp)
 7683 5718 C7442404 		movl	$LC103, 4(%esp)
 7683      A0490000 
 7684 5720 8B45F0   		movl	-16(%ebp), %eax
 7685 5723 890424   		movl	%eax, (%esp)
 7686 5726 E8000000 		call	_fprintf
 7686      00
4186:str_merge.c   ****             fprintf(fout_meta_map, "BIT_MODE: 32\n");			
 7688              	LM936:
 7689 572b C7442404 		movl	$LC104, 4(%esp)
 7689      C9490000 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 217


 7690 5733 8B45E8   		movl	-24(%ebp), %eax
 7691 5736 890424   		movl	%eax, (%esp)
 7692 5739 E8000000 		call	_fprintf
 7692      00
4187:str_merge.c   ****             fprintf(fout_meta_map, "DATA:\n");			
 7694              	LM937:
 7695 573e C7442404 		movl	$LC99, 4(%esp)
 7695      1A490000 
 7696 5746 8B45E8   		movl	-24(%ebp), %eax
 7697 5749 890424   		movl	%eax, (%esp)
 7698 574c E8000000 		call	_fprintf
 7698      00
4188:str_merge.c   ****             fprintf(fout_meta_map, "const CUSTOM_STRING_MAP StrMap_%d[] = {\n", old_i + 1);
 7700              	LM938:
 7701 5751 8B8590DF 		movl	-8304(%ebp), %eax
 7701      FFFF
 7702 5757 40       		incl	%eax
 7703 5758 89442408 		movl	%eax, 8(%esp)
 7704 575c C7442404 		movl	$LC103, 4(%esp)
 7704      A0490000 
 7705 5764 8B45E8   		movl	-24(%ebp), %eax
 7706 5767 890424   		movl	%eax, (%esp)
 7707 576a E8000000 		call	_fprintf
 7707      00
 7708              	L461:
4189:str_merge.c   ****         }
4190:str_merge.c   **** 
4191:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4192:str_merge.c   ****         enfb_size = 0;
4193:str_merge.c   ****         enfb_str_mem_size = 0;
4194:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4195:str_merge.c   **** 
4196:str_merge.c   ****         /* output string resource header */
4197:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4198:str_merge.c   ****         fputc(0, fout_enfb);
4199:str_merge.c   ****         fputc(0, fout_enfb);
4200:str_merge.c   ****         enfb_size += 2;
4201:str_merge.c   ****     #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4202:str_merge.c   ****         fputs("0x00, 0x00,\n", fout_res);
 7710              	LM939:
 7711 576f 8B45F4   		movl	-12(%ebp), %eax
 7712 5772 89442404 		movl	%eax, 4(%esp)
 7713 5776 C7042457 		movl	$LC90, (%esp)
 7713      470000
 7714 577d E8000000 		call	_fputs
 7714      00
4203:str_merge.c   ****         fputs("0x00, 0x00,\n", fout_meta_res);
 7716              	LM940:
 7717 5782 8B45EC   		movl	-20(%ebp), %eax
 7718 5785 89442404 		movl	%eax, 4(%esp)
 7719 5789 C7042457 		movl	$LC90, (%esp)
 7719      470000
 7720 5790 E8000000 		call	_fputs
 7720      00
4204:str_merge.c   ****         
4205:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4206:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 218


4207:str_merge.c   ****         /* output CustStrRes.c */
4208:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxNum; str_res_id++)
 7722              	LM941:
 7723 5795 C745DC00 		movl	$0, -36(%ebp)
 7723      000000
 7724              	L462:
 7725 579c 8B55E4   		movl	-28(%ebp), %edx
 7726 579f 89D0     		movl	%edx, %eax
 7727 57a1 01C0     		addl	%eax, %eax
 7728 57a3 01D0     		addl	%edx, %eax
 7729 57a5 8D0CC500 		leal	0(,%eax,8), %ecx
 7729      000000
 7730 57ac 8B55BC   		movl	-68(%ebp), %edx
 7731 57af 8B45DC   		movl	-36(%ebp), %eax
 7732 57b2 3B440A0C 		cmpl	12(%edx,%ecx), %eax
 7733 57b6 7C05     		jl	L465
 7734 57b8 E9330100 		jmp	L463
 7734      00
 7735              	L465:
4209:str_merge.c   ****         {
4210:str_merge.c   ****             unsigned short nStringLen = 0;
 7737              	LM942:
 7738              	LBB49:
 7739 57bd 66C78596 		movw	$0, -8298(%ebp)
 7739      DFFFFF00 
 7739      00
4211:str_merge.c   **** 
4212:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__            
4213:str_merge.c   ****             /* check if it is a dup str */
4214:str_merge.c   ****             if (strres[i].Str[str_res_id] == NULL) continue;
 7741              	LM943:
 7742 57c6 8B55E4   		movl	-28(%ebp), %edx
 7743 57c9 89D0     		movl	%edx, %eax
 7744 57cb 01C0     		addl	%eax, %eax
 7745 57cd 01D0     		addl	%edx, %eax
 7746 57cf 8D1CC500 		leal	0(,%eax,8), %ebx
 7746      000000
 7747 57d6 8B4DBC   		movl	-68(%ebp), %ecx
 7748 57d9 8B45DC   		movl	-36(%ebp), %eax
 7749 57dc 8D148500 		leal	0(,%eax,4), %edx
 7749      000000
 7750 57e3 8B0419   		movl	(%ecx,%ebx), %eax
 7751 57e6 833C1000 		cmpl	$0, (%eax,%edx)
 7752 57ea 7505     		jne	L466
 7753 57ec E9F50000 		jmp	L464
 7753      00
 7754              	L466:
4215:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4216:str_merge.c   ****         #ifndef __UCS2_ENCODING
4217:str_merge.c   ****             fprintf(fout_res, "\"%s\",\n", strres[i].Str[str_res_id]);
4218:str_merge.c   ****             fprintf(fout_meta_res, "\"%s\",\n", strres[i].Str[str_res_id]);
4219:str_merge.c   ****         #else /* __UCS2_ENCODING */
4220:str_merge.c   ****             nStringLen = wcslen(strres[i].Str[str_res_id]);
 7756              	LM944:
 7757 57f1 8B55E4   		movl	-28(%ebp), %edx
 7758 57f4 89D0     		movl	%edx, %eax
 7759 57f6 01C0     		addl	%eax, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 219


 7760 57f8 01D0     		addl	%edx, %eax
 7761 57fa 8D1CC500 		leal	0(,%eax,8), %ebx
 7761      000000
 7762 5801 8B4DBC   		movl	-68(%ebp), %ecx
 7763 5804 8B45DC   		movl	-36(%ebp), %eax
 7764 5807 8D148500 		leal	0(,%eax,4), %edx
 7764      000000
 7765 580e 8B0419   		movl	(%ecx,%ebx), %eax
 7766 5811 8B0410   		movl	(%eax,%edx), %eax
 7767 5814 890424   		movl	%eax, (%esp)
 7768 5817 E8000000 		call	_wcslen
 7768      00
 7769 581c 66898596 		movw	%ax, -8298(%ebp)
 7769      DFFFFF
4221:str_merge.c   **** 
4222:str_merge.c   ****             for (z = 0; z < nStringLen * 2; ++z)
 7771              	LM945:
 7772 5823 66C745DA 		movw	$0, -38(%ebp)
 7772      0000
 7773              	L467:
 7774 5829 0FB755DA 		movzwl	-38(%ebp), %edx
 7775 582d 0FB78596 		movzwl	-8298(%ebp), %eax
 7775      DFFFFF
 7776 5834 01C0     		addl	%eax, %eax
 7777 5836 39C2     		cmpl	%eax, %edx
 7778 5838 7C05     		jl	L470
 7779 583a E9810000 		jmp	L468
 7779      00
 7780              	L470:
4223:str_merge.c   ****             {
4224:str_merge.c   ****                 unsigned char *abc = (unsigned char*)strres[i].Str[str_res_id];
 7782              	LM946:
 7783              	LBB50:
 7784 583f 8B55E4   		movl	-28(%ebp), %edx
 7785 5842 89D0     		movl	%edx, %eax
 7786 5844 01C0     		addl	%eax, %eax
 7787 5846 01D0     		addl	%edx, %eax
 7788 5848 8D1CC500 		leal	0(,%eax,8), %ebx
 7788      000000
 7789 584f 8B4DBC   		movl	-68(%ebp), %ecx
 7790 5852 8B45DC   		movl	-36(%ebp), %eax
 7791 5855 8D148500 		leal	0(,%eax,4), %edx
 7791      000000
 7792 585c 8B0419   		movl	(%ecx,%ebx), %eax
 7793 585f 8B0410   		movl	(%eax,%edx), %eax
 7794 5862 898580DF 		movl	%eax, -8320(%ebp)
 7794      FFFF
4225:str_merge.c   **** 
4226:str_merge.c   ****             #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4227:str_merge.c   ****                 fputc(abc[z], fout_enfb);
4228:str_merge.c   ****                 enfb_size++;
4229:str_merge.c   ****             #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4230:str_merge.c   ****                 fprintf(fout_res, "0x%X, ", abc[z]);
 7796              	LM947:
 7797 5868 0FB755DA 		movzwl	-38(%ebp), %edx
 7798 586c 8B8580DF 		movl	-8320(%ebp), %eax
 7798      FFFF
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 220


 7799 5872 0FB60402 		movzbl	(%edx,%eax), %eax
 7800 5876 89442408 		movl	%eax, 8(%esp)
 7801 587a C7442404 		movl	$LC91, 4(%esp)
 7801      64470000 
 7802 5882 8B45F4   		movl	-12(%ebp), %eax
 7803 5885 890424   		movl	%eax, (%esp)
 7804 5888 E8000000 		call	_fprintf
 7804      00
4231:str_merge.c   ****                 fprintf(fout_meta_res, "0x%X, ", abc[z]);                
 7806              	LM948:
 7807 588d 0FB755DA 		movzwl	-38(%ebp), %edx
 7808 5891 8B8580DF 		movl	-8320(%ebp), %eax
 7808      FFFF
 7809 5897 0FB60402 		movzbl	(%edx,%eax), %eax
 7810 589b 89442408 		movl	%eax, 8(%esp)
 7811 589f C7442404 		movl	$LC91, 4(%esp)
 7811      64470000 
 7812 58a7 8B45EC   		movl	-20(%ebp), %eax
 7813 58aa 890424   		movl	%eax, (%esp)
 7814 58ad E8000000 		call	_fprintf
 7814      00
 7816              	LM949:
 7817              	LBE50:
 7818 58b2 0FB745DA 		movzwl	-38(%ebp), %eax
 7819 58b6 40       		incl	%eax
 7820 58b7 668945DA 		movw	%ax, -38(%ebp)
 7821 58bb E969FFFF 		jmp	L467
 7821      FF
 7822              	L468:
4232:str_merge.c   ****             #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4233:str_merge.c   ****             }
4234:str_merge.c   **** 
4235:str_merge.c   ****         #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4236:str_merge.c   ****             fputc(0, fout_enfb);
4237:str_merge.c   ****             fputc(0, fout_enfb);
4238:str_merge.c   ****             enfb_size += 2;
4239:str_merge.c   ****         #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4240:str_merge.c   ****             fputs("0x00, 0x00,\n", fout_res);
 7824              	LM950:
 7825 58c0 8B45F4   		movl	-12(%ebp), %eax
 7826 58c3 89442404 		movl	%eax, 4(%esp)
 7827 58c7 C7042457 		movl	$LC90, (%esp)
 7827      470000
 7828 58ce E8000000 		call	_fputs
 7828      00
4241:str_merge.c   ****             fputs("0x00, 0x00,\n", fout_meta_res);
 7830              	LM951:
 7831 58d3 8B45EC   		movl	-20(%ebp), %eax
 7832 58d6 89442404 		movl	%eax, 4(%esp)
 7833 58da C7042457 		movl	$LC90, (%esp)
 7833      470000
 7834 58e1 E8000000 		call	_fputs
 7834      00
 7836              	LM952:
 7837              	L464:
 7838 58e6 8D45DC   		leal	-36(%ebp), %eax
 7839              	LBE49:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 221


 7840 58e9 FF00     		incl	(%eax)
 7841 58eb E9ACFEFF 		jmp	L462
 7841      FF
 7842              	L463:
4242:str_merge.c   ****         #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4243:str_merge.c   ****     #endif /* __UCS2_ENCODING */
4244:str_merge.c   ****         }
4245:str_merge.c   **** 
4246:str_merge.c   ****         /* output ENFB string resource header */
4247:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4248:str_merge.c   ****         fprintf(fout_res,
4249:str_merge.c   ****                 "\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 
4250:str_merge.c   ****                 (U8)255,    /* type */
4251:str_merge.c   ****                 (U8)0,      /* reserved */
4252:str_merge.c   ****                 (U8)0,      /* reserved */
4253:str_merge.c   ****                 (U8)0,      /* reserved */
4254:str_merge.c   ****                 (U8)(enfb_offset & 0xFF),
4255:str_merge.c   ****                 (U8)((enfb_offset >> 8) & 0xFF),
4256:str_merge.c   ****                 (U8)((enfb_offset >> 16) & 0xFF),
4257:str_merge.c   ****                 (U8)((enfb_offset >> 24) & 0xFF),
4258:str_merge.c   ****                 (U8)(enfb_size & 0xFF),
4259:str_merge.c   ****                 (U8)((enfb_size >> 8) & 0xFF),
4260:str_merge.c   ****                 (U8)((enfb_size >> 16) & 0xFF),
4261:str_merge.c   ****                 (U8)((enfb_size >> 24) & 0xFF));
4262:str_merge.c   ****         enfb_offset += enfb_size;
4263:str_merge.c   ****         enfb_str_mem_size += enfb_size;
4264:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4265:str_merge.c   **** 
4266:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4267:str_merge.c   ****         enfb_size = 0;
4268:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4269:str_merge.c   **** 
4270:str_merge.c   ****         /* output CustStrMap.c */
4271:str_merge.c   ****         for (str_res_id = 0; str_res_id < strres[i].MaxID; str_res_id++)
 7844              	LM953:
 7845 58f0 C745DC00 		movl	$0, -36(%ebp)
 7845      000000
 7846              	L471:
 7847 58f7 8B55E4   		movl	-28(%ebp), %edx
 7848 58fa 89D0     		movl	%edx, %eax
 7849 58fc 01C0     		addl	%eax, %eax
 7850 58fe 01D0     		addl	%edx, %eax
 7851 5900 8D0CC500 		leal	0(,%eax,8), %ecx
 7851      000000
 7852 5907 8B55BC   		movl	-68(%ebp), %edx
 7853 590a 8B45DC   		movl	-36(%ebp), %eax
 7854 590d 3B440A08 		cmpl	8(%edx,%ecx), %eax
 7855 5911 7C05     		jl	L474
 7856 5913 E9710200 		jmp	L472
 7856      00
 7857              	L474:
4272:str_merge.c   ****         {
4273:str_merge.c   ****             unsigned int nStringLen = 0;
 7859              	LM954:
 7860              	LBB51:
 7861 5918 C78580DF 		movl	$0, -8320(%ebp)
 7861      FFFF0000 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 222


 7861      0000
4274:str_merge.c   ****             int iterator = 0;
 7863              	LM955:
 7864 5922 C78584DF 		movl	$0, -8316(%ebp)
 7864      FFFF0000 
 7864      0000
4275:str_merge.c   ****             wchar_t *wcString;
4276:str_merge.c   **** 
4277:str_merge.c   ****             if (strres[i].StrRef[str_res_id] == -1)
 7866              	LM956:
 7867 592c 8B55E4   		movl	-28(%ebp), %edx
 7868 592f 89D0     		movl	%edx, %eax
 7869 5931 01C0     		addl	%eax, %eax
 7870 5933 01D0     		addl	%edx, %eax
 7871 5935 8D1CC500 		leal	0(,%eax,8), %ebx
 7871      000000
 7872 593c 8B4DBC   		movl	-68(%ebp), %ecx
 7873 593f 8B45DC   		movl	-36(%ebp), %eax
 7874 5942 8D148500 		leal	0(,%eax,4), %edx
 7874      000000
 7875 5949 8B441904 		movl	4(%ecx,%ebx), %eax
 7876 594d 833C10FF 		cmpl	$-1, (%eax,%edx)
 7877 5951 750C     		jne	L475
4278:str_merge.c   ****             {
4279:str_merge.c   ****                 nTotalLen = 0;
 7879              	LM957:
 7880 5953 C7858CDF 		movl	$0, -8308(%ebp)
 7880      FFFF0000 
 7880      0000
 7881 595d EB0A     		jmp	L476
 7882              	L475:
4280:str_merge.c   ****             }
4281:str_merge.c   ****             else
4282:str_merge.c   ****             {
4283:str_merge.c   ****                 nTotalLen = 2;
 7884              	LM958:
 7885 595f C7858CDF 		movl	$2, -8308(%ebp)
 7885      FFFF0200 
 7885      0000
 7886              	L476:
4284:str_merge.c   ****             }
4285:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4286:str_merge.c   ****             /* check if it is duplicated */ 
4287:str_merge.c   ****             if (strres[i].is_dup[str_res_id])
 7888              	LM959:
 7889 5969 8B55E4   		movl	-28(%ebp), %edx
 7890 596c 89D0     		movl	%edx, %eax
 7891 596e 01C0     		addl	%eax, %eax
 7892 5970 01D0     		addl	%edx, %eax
 7893 5972 8D0CC500 		leal	0(,%eax,8), %ecx
 7893      000000
 7894 5979 8B55BC   		movl	-68(%ebp), %edx
 7895 597c 8B45DC   		movl	-36(%ebp), %eax
 7896 597f 03440A10 		addl	16(%edx,%ecx), %eax
 7897 5983 803800   		cmpb	$0, (%eax)
 7898 5986 0F84A900 		je	L477
 7898      0000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 223


4288:str_merge.c   ****             {
4289:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
 7900              	LM960:
 7901 598c C78584DF 		movl	$0, -8316(%ebp)
 7901      FFFF0000 
 7901      0000
 7902              	L478:
 7903 5996 8B55E4   		movl	-28(%ebp), %edx
 7904 5999 89D0     		movl	%edx, %eax
 7905 599b 01C0     		addl	%eax, %eax
 7906 599d 01D0     		addl	%edx, %eax
 7907 599f 8D1CC500 		leal	0(,%eax,8), %ebx
 7907      000000
 7908 59a6 8B55BC   		movl	-68(%ebp), %edx
 7909 59a9 8B45DC   		movl	-36(%ebp), %eax
 7910 59ac 8D0C8500 		leal	0(,%eax,4), %ecx
 7910      000000
 7911 59b3 8B541A04 		movl	4(%edx,%ebx), %edx
 7912 59b7 8B8584DF 		movl	-8316(%ebp), %eax
 7912      FFFF
 7913 59bd 3B040A   		cmpl	(%edx,%ecx), %eax
 7914 59c0 7C02     		jl	L481
 7915 59c2 EB5E     		jmp	L479
 7916              	L481:
4290:str_merge.c   ****                 {
4291:str_merge.c   ****                     nStringLen = 0;
 7918              	LM961:
 7919 59c4 C78580DF 		movl	$0, -8320(%ebp)
 7919      FFFF0000 
 7919      0000
4292:str_merge.c   ****                     nStringLen = wcslen(strres_dup->Str[iterator]);
 7921              	LM962:
 7922 59ce 8B8DA0DF 		movl	-8288(%ebp), %ecx
 7922      FFFF
 7923 59d4 8B8584DF 		movl	-8316(%ebp), %eax
 7923      FFFF
 7924 59da 8D148500 		leal	0(,%eax,4), %edx
 7924      000000
 7925 59e1 8B01     		movl	(%ecx), %eax
 7926 59e3 8B0410   		movl	(%eax,%edx), %eax
 7927 59e6 890424   		movl	%eax, (%esp)
 7928 59e9 E8000000 		call	_wcslen
 7928      00
 7929 59ee 898580DF 		movl	%eax, -8320(%ebp)
 7929      FFFF
4293:str_merge.c   ****                     wcString = NULL;
 7931              	LM963:
 7932 59f4 C78588DF 		movl	$0, -8312(%ebp)
 7932      FFFF0000 
 7932      0000
4294:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
 7934              	LM964:
 7935 59fe 8B8580DF 		movl	-8320(%ebp), %eax
 7935      FFFF
 7936 5a04 01C0     		addl	%eax, %eax
 7937 5a06 03858CDF 		addl	-8308(%ebp), %eax
 7937      FFFF
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 224


 7938 5a0c 83C002   		addl	$2, %eax
 7939 5a0f 89858CDF 		movl	%eax, -8308(%ebp)
 7939      FFFF
 7941              	LM965:
 7942 5a15 8D8584DF 		leal	-8316(%ebp), %eax
 7942      FFFF
 7943 5a1b FF00     		incl	(%eax)
 7944 5a1d E974FFFF 		jmp	L478
 7944      FF
 7945              	L479:
4295:str_merge.c   ****                 }
4296:str_merge.c   ****                 /* add max_total_len offset to nTotalLen */
4297:str_merge.c   ****                 nTotalLen += max_total_len;
 7947              	LM966:
 7948 5a22 8B959CDF 		movl	-8292(%ebp), %edx
 7948      FFFF
 7949 5a28 8D858CDF 		leal	-8308(%ebp), %eax
 7949      FFFF
 7950 5a2e 0110     		addl	%edx, (%eax)
 7951 5a30 E9D00000 		jmp	L482
 7951      00
 7952              	L477:
4298:str_merge.c   ****             }
4299:str_merge.c   ****             else
4300:str_merge.c   ****             {
4301:str_merge.c   ****                 for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
 7954              	LM967:
 7955 5a35 C78584DF 		movl	$0, -8316(%ebp)
 7955      FFFF0000 
 7955      0000
 7956              	L483:
 7957 5a3f 8B55E4   		movl	-28(%ebp), %edx
 7958 5a42 89D0     		movl	%edx, %eax
 7959 5a44 01C0     		addl	%eax, %eax
 7960 5a46 01D0     		addl	%edx, %eax
 7961 5a48 8D1CC500 		leal	0(,%eax,8), %ebx
 7961      000000
 7962 5a4f 8B55BC   		movl	-68(%ebp), %edx
 7963 5a52 8B45DC   		movl	-36(%ebp), %eax
 7964 5a55 8D0C8500 		leal	0(,%eax,4), %ecx
 7964      000000
 7965 5a5c 8B541A04 		movl	4(%edx,%ebx), %edx
 7966 5a60 8B8584DF 		movl	-8316(%ebp), %eax
 7966      FFFF
 7967 5a66 3B040A   		cmpl	(%edx,%ecx), %eax
 7968 5a69 7C05     		jl	L486
 7969 5a6b E9950000 		jmp	L482
 7969      00
 7970              	L486:
4302:str_merge.c   ****                 {
4303:str_merge.c   ****                     /* ignore dup str */
4304:str_merge.c   ****                     if (strres[i].Str[iterator])
 7972              	LM968:
 7973 5a70 8B55E4   		movl	-28(%ebp), %edx
 7974 5a73 89D0     		movl	%edx, %eax
 7975 5a75 01C0     		addl	%eax, %eax
 7976 5a77 01D0     		addl	%edx, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 225


 7977 5a79 8D1CC500 		leal	0(,%eax,8), %ebx
 7977      000000
 7978 5a80 8B4DBC   		movl	-68(%ebp), %ecx
 7979 5a83 8B8584DF 		movl	-8316(%ebp), %eax
 7979      FFFF
 7980 5a89 8D148500 		leal	0(,%eax,4), %edx
 7980      000000
 7981 5a90 8B0419   		movl	(%ecx,%ebx), %eax
 7982 5a93 833C1000 		cmpl	$0, (%eax,%edx)
 7983 5a97 745F     		je	L485
4305:str_merge.c   ****                     {
4306:str_merge.c   ****                     nStringLen = 0;
 7985              	LM969:
 7986 5a99 C78580DF 		movl	$0, -8320(%ebp)
 7986      FFFF0000 
 7986      0000
4307:str_merge.c   ****                     nStringLen = wcslen(strres[i].Str[iterator]);
 7988              	LM970:
 7989 5aa3 8B55E4   		movl	-28(%ebp), %edx
 7990 5aa6 89D0     		movl	%edx, %eax
 7991 5aa8 01C0     		addl	%eax, %eax
 7992 5aaa 01D0     		addl	%edx, %eax
 7993 5aac 8D1CC500 		leal	0(,%eax,8), %ebx
 7993      000000
 7994 5ab3 8B4DBC   		movl	-68(%ebp), %ecx
 7995 5ab6 8B8584DF 		movl	-8316(%ebp), %eax
 7995      FFFF
 7996 5abc 8D148500 		leal	0(,%eax,4), %edx
 7996      000000
 7997 5ac3 8B0419   		movl	(%ecx,%ebx), %eax
 7998 5ac6 8B0410   		movl	(%eax,%edx), %eax
 7999 5ac9 890424   		movl	%eax, (%esp)
 8000 5acc E8000000 		call	_wcslen
 8000      00
 8001 5ad1 898580DF 		movl	%eax, -8320(%ebp)
 8001      FFFF
4308:str_merge.c   ****                     wcString = NULL;
 8003              	LM971:
 8004 5ad7 C78588DF 		movl	$0, -8312(%ebp)
 8004      FFFF0000 
 8004      0000
4309:str_merge.c   ****                     nTotalLen += ((nStringLen + 1) * 2);
 8006              	LM972:
 8007 5ae1 8B8580DF 		movl	-8320(%ebp), %eax
 8007      FFFF
 8008 5ae7 01C0     		addl	%eax, %eax
 8009 5ae9 03858CDF 		addl	-8308(%ebp), %eax
 8009      FFFF
 8010 5aef 83C002   		addl	$2, %eax
 8011 5af2 89858CDF 		movl	%eax, -8308(%ebp)
 8011      FFFF
 8013              	LM973:
 8014              	L485:
 8015 5af8 8D8584DF 		leal	-8316(%ebp), %eax
 8015      FFFF
 8016 5afe FF00     		incl	(%eax)
 8017 5b00 E93AFFFF 		jmp	L483
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 226


 8017      FF
 8018              	L482:
4310:str_merge.c   ****                     }
4311:str_merge.c   ****                 }
4312:str_merge.c   ****             }
4313:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4314:str_merge.c   **** 
4315:str_merge.c   ****             for (iterator = 0; iterator < strres[i].StrRef[str_res_id]; iterator++)
4316:str_merge.c   ****             {
4317:str_merge.c   ****                 nStringLen = 0;
4318:str_merge.c   ****                 nStringLen = wcslen(strres[i].Str[iterator]);
4319:str_merge.c   ****                 wcString = NULL;
4320:str_merge.c   ****                 nTotalLen += ((nStringLen + 1) * 2);
4321:str_merge.c   ****             }
4322:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4323:str_merge.c   ****         StrSize[StrID[str_res_id]] += ((nStringLen + 1) * 2);
 8020              	LM974:
 8021 5b05 8B45DC   		movl	-36(%ebp), %eax
 8022 5b08 8D1400   		leal	(%eax,%eax), %edx
 8023 5b0b A1180000 		movl	_StrID, %eax
 8023      00
 8024 5b10 0FB70C10 		movzwl	(%eax,%edx), %ecx
 8025 5b14 8B45DC   		movl	-36(%ebp), %eax
 8026 5b17 8D1400   		leal	(%eax,%eax), %edx
 8027 5b1a A1180000 		movl	_StrID, %eax
 8027      00
 8028 5b1f 0FB71410 		movzwl	(%eax,%edx), %edx
 8029 5b23 8B8580DF 		movl	-8320(%ebp), %eax
 8029      FFFF
 8030 5b29 01C0     		addl	%eax, %eax
 8031 5b2b 0FB79412 		movzwl	_StrSize(%edx,%edx), %edx
 8031      D8000200 
 8032 5b33 8D0410   		leal	(%eax,%edx), %eax
 8033 5b36 83C002   		addl	$2, %eax
 8034 5b39 66898409 		movw	%ax, _StrSize(%ecx,%ecx)
 8034      D8000200 
4324:str_merge.c   **** 
4325:str_merge.c   ****         #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4326:str_merge.c   ****             fputc(((nTotalLen / 2) & 0xFF), fout_enfb);
4327:str_merge.c   ****             fputc((((nTotalLen / 2) >> 8) & 0xFF), fout_enfb);
4328:str_merge.c   ****             fputc((((nTotalLen / 2) >> 16) & 0xFF), fout_enfb);
4329:str_merge.c   ****             fputc((((nTotalLen / 2) >> 24) & 0xFF), fout_enfb);
4330:str_merge.c   ****             enfb_size += 4;
4331:str_merge.c   ****         #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4332:str_merge.c   ****             fprintf(fout_map, "\t%ld,\n", nTotalLen / 2);
 8036              	LM975:
 8037 5b41 8B858CDF 		movl	-8308(%ebp), %eax
 8037      FFFF
 8038 5b47 D1E8     		shrl	%eax
 8039 5b49 89442408 		movl	%eax, 8(%esp)
 8040 5b4d C7442404 		movl	$LC105, 4(%esp)
 8040      D7490000 
 8041 5b55 8B45F0   		movl	-16(%ebp), %eax
 8042 5b58 890424   		movl	%eax, (%esp)
 8043 5b5b E8000000 		call	_fprintf
 8043      00
4333:str_merge.c   ****             fprintf(fout_meta_map, "\t%ld,\n", nTotalLen / 2);
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 227


 8045              	LM976:
 8046 5b60 8B858CDF 		movl	-8308(%ebp), %eax
 8046      FFFF
 8047 5b66 D1E8     		shrl	%eax
 8048 5b68 89442408 		movl	%eax, 8(%esp)
 8049 5b6c C7442404 		movl	$LC105, 4(%esp)
 8049      D7490000 
 8050 5b74 8B45E8   		movl	-24(%ebp), %eax
 8051 5b77 890424   		movl	%eax, (%esp)
 8052 5b7a E8000000 		call	_fprintf
 8052      00
 8054              	LM977:
 8055 5b7f 8D45DC   		leal	-36(%ebp), %eax
 8056              	LBE51:
 8057 5b82 FF00     		incl	(%eax)
 8058 5b84 E96EFDFF 		jmp	L471
 8058      FF
 8059              	L472:
4334:str_merge.c   ****         #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4335:str_merge.c   ****         }
4336:str_merge.c   **** 
4337:str_merge.c   ****     #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4338:str_merge.c   ****         fprintf(fout_map, "\t%d, %d\n", enfb_offset, enfb_size);
4339:str_merge.c   ****         enfb_offset += enfb_size;
4340:str_merge.c   ****         enfb_str_mem_size += enfb_size;
4341:str_merge.c   ****         if (enfb_str_mem_size > enfb_max_mem_size)
4342:str_merge.c   ****         {
4343:str_merge.c   ****             enfb_max_mem_size = enfb_str_mem_size;
4344:str_merge.c   ****         }
4345:str_merge.c   ****     #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4346:str_merge.c   **** 
4347:str_merge.c   ****         fprintf(fout_res, "};\n");
 8061              	LM978:
 8062 5b89 C7442404 		movl	$LC92, 4(%esp)
 8062      6B470000 
 8063 5b91 8B45F4   		movl	-12(%ebp), %eax
 8064 5b94 890424   		movl	%eax, (%esp)
 8065 5b97 E8000000 		call	_fprintf
 8065      00
4348:str_merge.c   ****         fprintf(fout_meta_res, "};\n");
 8067              	LM979:
 8068 5b9c C7442404 		movl	$LC92, 4(%esp)
 8068      6B470000 
 8069 5ba4 8B45EC   		movl	-20(%ebp), %eax
 8070 5ba7 890424   		movl	%eax, (%esp)
 8071 5baa E8000000 		call	_fprintf
 8071      00
4349:str_merge.c   ****         fprintf(fout_map, "};\n");
 8073              	LM980:
 8074 5baf C7442404 		movl	$LC92, 4(%esp)
 8074      6B470000 
 8075 5bb7 8B45F0   		movl	-16(%ebp), %eax
 8076 5bba 890424   		movl	%eax, (%esp)
 8077 5bbd E8000000 		call	_fprintf
 8077      00
4350:str_merge.c   ****         fprintf(fout_meta_map, "};\n");
 8079              	LM981:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 228


 8080 5bc2 C7442404 		movl	$LC92, 4(%esp)
 8080      6B470000 
 8081 5bca 8B45E8   		movl	-24(%ebp), %eax
 8082 5bcd 890424   		movl	%eax, (%esp)
 8083 5bd0 E8000000 		call	_fprintf
 8083      00
4351:str_merge.c   ****         
4352:str_merge.c   ****         if (is16bit[i])        
 8085              	LM982:
 8086 5bd5 8B45E4   		movl	-28(%ebp), %eax
 8087 5bd8 8D148500 		leal	0(,%eax,4), %edx
 8087      000000
 8088 5bdf A1C80000 		movl	_is16bit, %eax
 8088      00
 8089 5be4 833C1000 		cmpl	$0, (%eax,%edx)
 8090 5be8 7420     		je	L488
4353:str_merge.c   ****         {
4354:str_merge.c   ****         #if !defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
4355:str_merge.c   ****             fprintf(fout_res, "extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\n\n", old_i + 1);
 8092              	LM983:
 8093 5bea 8B8590DF 		movl	-8304(%ebp), %eax
 8093      FFFF
 8094 5bf0 40       		incl	%eax
 8095 5bf1 89442408 		movl	%eax, 8(%esp)
 8096 5bf5 C7442404 		movl	$LC106, 4(%esp)
 8096      E0490000 
 8097 5bfd 8B45F4   		movl	-12(%ebp), %eax
 8098 5c00 890424   		movl	%eax, (%esp)
 8099 5c03 E8000000 		call	_fprintf
 8099      00
 8100 5c08 EB1E     		jmp	L489
 8101              	L488:
4356:str_merge.c   ****         #else
4357:str_merge.c   ****             fprintf(fout_res, "//extern const CUSTOM_STRING_MAP_16 StrMap_%d[];\n\n", old_i + 1);
4358:str_merge.c   ****         #endif // __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4359:str_merge.c   ****         }
4360:str_merge.c   ****         else
4361:str_merge.c   ****         {
4362:str_merge.c   ****       	#if !defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
4363:str_merge.c   ****             fprintf(fout_res, "extern const CUSTOM_STRING_MAP StrMap_%d[];\n\n", old_i + 1);
 8103              	LM984:
 8104 5c0a 8B8590DF 		movl	-8304(%ebp), %eax
 8104      FFFF
 8105 5c10 40       		incl	%eax
 8106 5c11 89442408 		movl	%eax, 8(%esp)
 8107 5c15 C7442404 		movl	$LC107, 4(%esp)
 8107      204A0000 
 8108 5c1d 8B45F4   		movl	-12(%ebp), %eax
 8109 5c20 890424   		movl	%eax, (%esp)
 8110 5c23 E8000000 		call	_fprintf
 8110      00
 8111              	L489:
4364:str_merge.c   ****         #else
4365:str_merge.c   ****             fprintf(fout_res, "//extern const CUSTOM_STRING_MAP StrMap_%d[];\n\n", old_i + 1);
4366:str_merge.c   ****         #endif
4367:str_merge.c   ****         }        
4368:str_merge.c   ****         }
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 229


4369:str_merge.c   ****         i = old_i;
 8113              	LM985:
 8114 5c28 8B8590DF 		movl	-8304(%ebp), %eax
 8114      FFFF
 8115 5c2e 8945E4   		movl	%eax, -28(%ebp)
 8117              	LM986:
 8118 5c31 8D45E4   		leal	-28(%ebp), %eax
 8119              	LBE46:
 8120 5c34 FF00     		incl	(%eax)
 8121 5c36 E905F6FF 		jmp	L437
 8121      FF
 8122              	L438:
4370:str_merge.c   ****     }
4371:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
4372:str_merge.c   ****     fprintf(fout_res, "//__align(4) CUSTOM_STRING StrRes[%d];\n", max_zip_len);
4373:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
4374:str_merge.c   **** 
4375:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4376:str_merge.c   ****     {   /* output ENFB string resource header for RESMEM */
4377:str_merge.c   ****         FILE *fp = fopen(ENFB_STRING_HEADER_FILENAME, "w");
4378:str_merge.c   **** 
4379:str_merge.c   ****         if (fp == NULL)
4380:str_merge.c   ****         {
4381:str_merge.c   ****             STRMERG_LOG_E("File open error (%s) ...!", ENFB_STRING_HEADER_FILENAME);
4382:str_merge.c   ****             goto GEN_STR_ERR_RET;
4383:str_merge.c   ****         }
4384:str_merge.c   ****         fprintf(fp, "\n#ifdef __MMI_RESOURCE_ENFB_SUPPORT__\n");
4385:str_merge.c   ****         fprintf(fp, "#define MaxENFBStringSize\t%d\n", enfb_max_mem_size);
4386:str_merge.c   ****         fprintf(fp, "#endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */\n\n");
4387:str_merge.c   ****         fclose(fp);
4388:str_merge.c   ****     }
4389:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4390:str_merge.c   ****     /* here we generate strings that not support multi-language */
4391:str_merge.c   ****     if(generate_fixed_str(fout_res, fout_map,fout_meta_res, fout_meta_map, &fixed_id) < 0)
 8124              	LM987:
 8125 5c3b C7442410 		movl	$_fixed_id, 16(%esp)
 8125      00000000 
 8126 5c43 8B45E8   		movl	-24(%ebp), %eax
 8127 5c46 8944240C 		movl	%eax, 12(%esp)
 8128 5c4a 8B45EC   		movl	-20(%ebp), %eax
 8129 5c4d 89442408 		movl	%eax, 8(%esp)
 8130 5c51 8B45F0   		movl	-16(%ebp), %eax
 8131 5c54 89442404 		movl	%eax, 4(%esp)
 8132 5c58 8B45F4   		movl	-12(%ebp), %eax
 8133 5c5b 890424   		movl	%eax, (%esp)
 8134 5c5e E8AD1100 		call	_generate_fixed_str
 8134      00
 8135 5c63 85C0     		testl	%eax, %eax
 8136 5c65 7905     		jns	L490
4392:str_merge.c   ****     {
4393:str_merge.c   ****         goto GEN_STR_ERR_RET;
 8138              	LM988:
 8139 5c67 E9940200 		jmp	L416
 8139      00
 8140              	L490:
4394:str_merge.c   ****     }
4395:str_merge.c   ****     
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 230


4396:str_merge.c   ****     fprintf(fout_meta_map,"########################################################\n");
 8142              	LM989:
 8143 5c6c C7442404 		movl	$LC84, 4(%esp)
 8143      A0460000 
 8144 5c74 8B45E8   		movl	-24(%ebp), %eax
 8145 5c77 890424   		movl	%eax, (%esp)
 8146 5c7a E8000000 		call	_fprintf
 8146      00
4397:str_merge.c   ****     fprintf(fout_meta_map,"TYPE: VALUE\n");
 8148              	LM990:
 8149 5c7f C7442404 		movl	$LC108, 4(%esp)
 8149      4E4A0000 
 8150 5c87 8B45E8   		movl	-24(%ebp), %eax
 8151 5c8a 890424   		movl	%eax, (%esp)
 8152 5c8d E8000000 		call	_fprintf
 8152      00
4398:str_merge.c   ****     fprintf(fout_meta_map,"NAME: mtk_gTrans_string_count\n");
 8154              	LM991:
 8155 5c92 C7442404 		movl	$LC109, 4(%esp)
 8155      604A0000 
 8156 5c9a 8B45E8   		movl	-24(%ebp), %eax
 8157 5c9d 890424   		movl	%eax, (%esp)
 8158 5ca0 E8000000 		call	_fprintf
 8158      00
4399:str_merge.c   ****     fprintf(fout_meta_map,"VALUE: %d\n", CurrMaxStringId - fixed_id.id_count);
 8160              	LM992:
 8161 5ca5 0FB71500 		movzwl	_CurrMaxStringId, %edx
 8161      000000
 8162 5cac 0FB70500 		movzwl	_fixed_id, %eax
 8162      000000
 8163 5cb3 29C2     		subl	%eax, %edx
 8164 5cb5 89D0     		movl	%edx, %eax
 8165 5cb7 89442408 		movl	%eax, 8(%esp)
 8166 5cbb C7442404 		movl	$LC110, 4(%esp)
 8166      7F4A0000 
 8167 5cc3 8B45E8   		movl	-24(%ebp), %eax
 8168 5cc6 890424   		movl	%eax, (%esp)
 8169 5cc9 E8000000 		call	_fprintf
 8169      00
4400:str_merge.c   **** 
4401:str_merge.c   ****     fprintf(fout_meta_map,"########################################################\n");
 8171              	LM993:
 8172 5cce C7442404 		movl	$LC84, 4(%esp)
 8172      A0460000 
 8173 5cd6 8B45E8   		movl	-24(%ebp), %eax
 8174 5cd9 890424   		movl	%eax, (%esp)
 8175 5cdc E8000000 		call	_fprintf
 8175      00
4402:str_merge.c   ****     fprintf(fout_meta_map,"TYPE: VALUE\n");
 8177              	LM994:
 8178 5ce1 C7442404 		movl	$LC108, 4(%esp)
 8178      4E4A0000 
 8179 5ce9 8B45E8   		movl	-24(%ebp), %eax
 8180 5cec 890424   		movl	%eax, (%esp)
 8181 5cef E8000000 		call	_fprintf
 8181      00
4403:str_merge.c   ****     fprintf(fout_meta_map,"NAME: mtk_gMaxDeployedLangs\n");
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 231


 8183              	LM995:
 8184 5cf4 C7442404 		movl	$LC111, 4(%esp)
 8184      8A4A0000 
 8185 5cfc 8B45E8   		movl	-24(%ebp), %eax
 8186 5cff 890424   		movl	%eax, (%esp)
 8187 5d02 E8000000 		call	_fprintf
 8187      00
4404:str_merge.c   ****     fprintf(fout_meta_map,"VALUE: %d\n", mtk_gMaxDeployedLangs);
 8189              	LM996:
 8190 5d07 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 8190      000000
 8191 5d0e 89442408 		movl	%eax, 8(%esp)
 8192 5d12 C7442404 		movl	$LC110, 4(%esp)
 8192      7F4A0000 
 8193 5d1a 8B45E8   		movl	-24(%ebp), %eax
 8194 5d1d 890424   		movl	%eax, (%esp)
 8195 5d20 E8000000 		call	_fprintf
 8195      00
4405:str_merge.c   **** 
4406:str_merge.c   **** 
4407:str_merge.c   ****     fprintf(fout_meta_map,"########################################################\n");
 8197              	LM997:
 8198 5d25 C7442404 		movl	$LC84, 4(%esp)
 8198      A0460000 
 8199 5d2d 8B45E8   		movl	-24(%ebp), %eax
 8200 5d30 890424   		movl	%eax, (%esp)
 8201 5d33 E8000000 		call	_fprintf
 8201      00
4408:str_merge.c   ****     fprintf(fout_meta_map,"TYPE: VALUE\n");
 8203              	LM998:
 8204 5d38 C7442404 		movl	$LC108, 4(%esp)
 8204      4E4A0000 
 8205 5d40 8B45E8   		movl	-24(%ebp), %eax
 8206 5d43 890424   		movl	%eax, (%esp)
 8207 5d46 E8000000 		call	_fprintf
 8207      00
4409:str_merge.c   ****     fprintf(fout_meta_map,"NAME: max_total_len\n");
 8209              	LM999:
 8210 5d4b C7442404 		movl	$LC112, 4(%esp)
 8210      A74A0000 
 8211 5d53 8B45E8   		movl	-24(%ebp), %eax
 8212 5d56 890424   		movl	%eax, (%esp)
 8213 5d59 E8000000 		call	_fprintf
 8213      00
4410:str_merge.c   ****     fprintf(fout_meta_map,"VALUE: %d\n", max_total_len);
 8215              	LM1000:
 8216 5d5e 8B859CDF 		movl	-8292(%ebp), %eax
 8216      FFFF
 8217 5d64 89442408 		movl	%eax, 8(%esp)
 8218 5d68 C7442404 		movl	$LC110, 4(%esp)
 8218      7F4A0000 
 8219 5d70 8B45E8   		movl	-24(%ebp), %eax
 8220 5d73 890424   		movl	%eax, (%esp)
 8221 5d76 E8000000 		call	_fprintf
 8221      00
4411:str_merge.c   **** 
4412:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 232


4413:str_merge.c   **** #ifdef __CAT_SUPPORT__    
4414:str_merge.c   ****     fprintf(fout_map, ResgenCATGetRegionEndStatment());
4415:str_merge.c   **** #endif //__CAT_SUPPORT__
4416:str_merge.c   ****     /* record translated string id count for no-translate string */
4417:str_merge.c   ****     fprintf(fout_map, "#ifndef __MMI_RESOURCE_ENFB_SUPPORT__\n\tconst U16 mtk_gTrans_string_count =
 8223              	LM1001:
 8224 5d7b 0FB71500 		movzwl	_CurrMaxStringId, %edx
 8224      000000
 8225 5d82 0FB70500 		movzwl	_fixed_id, %eax
 8225      000000
 8226 5d89 29C2     		subl	%eax, %edx
 8227 5d8b 89D0     		movl	%edx, %eax
 8228 5d8d 89442408 		movl	%eax, 8(%esp)
 8229 5d91 C7442404 		movl	$LC113, 4(%esp)
 8229      C04A0000 
 8230 5d99 8B45F0   		movl	-16(%ebp), %eax
 8231 5d9c 890424   		movl	%eax, (%esp)
 8232 5d9f E8000000 		call	_fprintf
 8232      00
4418:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4419:str_merge.c   **** 
4420:str_merge.c   **** #ifdef __CAT_SUPPORT__    
4421:str_merge.c   ****     fprintf(fout_res, ResgenCATGetRegionEndStatment());
4422:str_merge.c   **** #endif //__CAT_SUPPORT__
4423:str_merge.c   **** 
4424:str_merge.c   ****     /* output STRMAP_SEARCH array */
4425:str_merge.c   ****     num_map_search = generate_strmap_search(fout_res, fout_meta_res);
 8234              	LM1002:
 8235 5da4 8B45EC   		movl	-20(%ebp), %eax
 8236 5da7 89442404 		movl	%eax, 4(%esp)
 8237 5dab 8B45F4   		movl	-12(%ebp), %eax
 8238 5dae 890424   		movl	%eax, (%esp)
 8239 5db1 E86B0400 		call	_generate_strmap_search
 8239      00
 8240 5db6 8945C8   		movl	%eax, -56(%ebp)
4426:str_merge.c   ****     if(num_map_search <= 0)
 8242              	LM1003:
 8243 5db9 837DC800 		cmpl	$0, -56(%ebp)
 8244 5dbd 7F05     		jg	L491
4427:str_merge.c   ****     {
4428:str_merge.c   ****         goto GEN_STR_ERR_RET;
 8246              	LM1004:
 8247 5dbf E93C0100 		jmp	L416
 8247      00
 8248              	L491:
4429:str_merge.c   ****     }
4430:str_merge.c   **** 
4431:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4432:str_merge.c   ****     /* output language list array */
4433:str_merge.c   ****     STRMERG_LOG_V("output language list array (strres, strres_dup, num_map_search) ");
 8250              	LM1005:
 8251 5dc4 C7442408 		movl	$LC114, 8(%esp)
 8251      204B0000 
 8252 5dcc C7442404 		movl	$LC3, 4(%esp)
 8252      4B040000 
 8253 5dd4 C7042401 		movl	$1, (%esp)
 8253      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 233


 8254 5ddb E8000000 		call	_reslog_adaptor_log
 8254      00
4434:str_merge.c   ****     if(!generate_language_list_array(fout_res, strres, strres_dup, num_map_search, max_total_len, r
 8256              	LM1006:
 8257 5de0 8D85A8DF 		leal	-8280(%ebp), %eax
 8257      FFFF
 8258 5de6 89442420 		movl	%eax, 32(%esp)
 8259 5dea 8D85A8E7 		leal	-6232(%ebp), %eax
 8259      FFFF
 8260 5df0 8944241C 		movl	%eax, 28(%esp)
 8261 5df4 8D85A8EF 		leal	-4184(%ebp), %eax
 8261      FFFF
 8262 5dfa 89442418 		movl	%eax, 24(%esp)
 8263 5dfe 8D85A8F7 		leal	-2136(%ebp), %eax
 8263      FFFF
 8264 5e04 89442414 		movl	%eax, 20(%esp)
 8265 5e08 8B859CDF 		movl	-8292(%ebp), %eax
 8265      FFFF
 8266 5e0e 89442410 		movl	%eax, 16(%esp)
 8267 5e12 8B45C8   		movl	-56(%ebp), %eax
 8268 5e15 8944240C 		movl	%eax, 12(%esp)
 8269 5e19 8B85A0DF 		movl	-8288(%ebp), %eax
 8269      FFFF
 8270 5e1f 89442408 		movl	%eax, 8(%esp)
 8271 5e23 8B45BC   		movl	-68(%ebp), %eax
 8272 5e26 89442404 		movl	%eax, 4(%esp)
 8273 5e2a 8B45F4   		movl	-12(%ebp), %eax
 8274 5e2d 890424   		movl	%eax, (%esp)
 8275 5e30 E8610700 		call	_generate_language_list_array
 8275      00
 8276 5e35 85C0     		testl	%eax, %eax
 8277 5e37 754D     		jne	L492
4435:str_merge.c   ****     {
4436:str_merge.c   ****         STRMERG_LOG_E("Failed to output generate_language_list_array: \
 8279              	LM1007:
 8280 5e39 8D85A8DF 		leal	-8280(%ebp), %eax
 8280      FFFF
 8281 5e3f 8944241C 		movl	%eax, 28(%esp)
 8282 5e43 8D85A8E7 		leal	-6232(%ebp), %eax
 8282      FFFF
 8283 5e49 89442418 		movl	%eax, 24(%esp)
 8284 5e4d 8D85A8EF 		leal	-4184(%ebp), %eax
 8284      FFFF
 8285 5e53 89442414 		movl	%eax, 20(%esp)
 8286 5e57 8B859CDF 		movl	-8292(%ebp), %eax
 8286      FFFF
 8287 5e5d 89442410 		movl	%eax, 16(%esp)
 8288 5e61 8B45C8   		movl	-56(%ebp), %eax
 8289 5e64 8944240C 		movl	%eax, 12(%esp)
 8290 5e68 C7442408 		movl	$LC115, 8(%esp)
 8290      804B0000 
 8291 5e70 C7442404 		movl	$LC3, 4(%esp)
 8291      4B040000 
 8292 5e78 C7042403 		movl	$3, (%esp)
 8292      000000
 8293 5e7f E8000000 		call	_reslog_adaptor_log
 8293      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 234


4437:str_merge.c   ****                 num_map_search = %d, max_total_len = %d, map_size=%lu ,reszip_size = %lu, mapzip_si
4438:str_merge.c   **** 	        num_map_search, max_total_len, map_size, reszip_size,mapzip_size);
4439:str_merge.c   ****         goto GEN_STR_ERR_RET;
 8295              	LM1008:
 8296 5e84 EB7A     		jmp	L416
 8297              	L492:
4440:str_merge.c   ****     }
4441:str_merge.c   **** #else
4442:str_merge.c   ****     if(!generate_language_list_array(fout_res, strres, num_map_search, res_size, map_size, reszip_s
4443:str_merge.c   ****     {
4444:str_merge.c   ****         STRMERG_LOG_E("Failed to output generate_language_list_array: \
4445:str_merge.c   ****                        num_map_search = %d, map_size=%lu ,reszip_size = %lu, mapzip_size = %lu", \
4446:str_merge.c   ****                        num_map_search, map_size, reszip_size,mapzip_size);
4447:str_merge.c   ****         goto GEN_STR_ERR_RET;
4448:str_merge.c   ****     }
4449:str_merge.c   **** #endif
4450:str_merge.c   **** 
4451:str_merge.c   ****     fprintf(fout_res, "\n#endif //!(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !(__MMI_RESOURCE_STR_THI
 8299              	LM1009:
 8300 5e86 C7442404 		movl	$LC116, 4(%esp)
 8300      204C0000 
 8301 5e8e 8B45F4   		movl	-12(%ebp), %eax
 8302 5e91 890424   		movl	%eax, (%esp)
 8303 5e94 E8000000 		call	_fprintf
 8303      00
4452:str_merge.c   ****     fprintf(fout_map, "\n#endif //!(__MMI_RESOURCE_STR_LZMA_COMPRESS__) && !(__MMI_RESOURCE_STR_THI
 8305              	LM1010:
 8306 5e99 C7442404 		movl	$LC116, 4(%esp)
 8306      204C0000 
 8307 5ea1 8B45F0   		movl	-16(%ebp), %eax
 8308 5ea4 890424   		movl	%eax, (%esp)
 8309 5ea7 E8000000 		call	_fprintf
 8309      00
4453:str_merge.c   ****     fclose(fout_res);
 8311              	LM1011:
 8312 5eac 8B45F4   		movl	-12(%ebp), %eax
 8313 5eaf 890424   		movl	%eax, (%esp)
 8314 5eb2 E8000000 		call	_fclose
 8314      00
4454:str_merge.c   ****     fclose(fout_meta_res);
 8316              	LM1012:
 8317 5eb7 8B45EC   		movl	-20(%ebp), %eax
 8318 5eba 890424   		movl	%eax, (%esp)
 8319 5ebd E8000000 		call	_fclose
 8319      00
4455:str_merge.c   ****     fclose(fout_map);
 8321              	LM1013:
 8322 5ec2 8B45F0   		movl	-16(%ebp), %eax
 8323 5ec5 890424   		movl	%eax, (%esp)
 8324 5ec8 E8000000 		call	_fclose
 8324      00
4456:str_merge.c   ****     fclose(fout_meta_map);
 8326              	LM1014:
 8327 5ecd 8B45E8   		movl	-24(%ebp), %eax
 8328 5ed0 890424   		movl	%eax, (%esp)
 8329 5ed3 E8000000 		call	_fclose
 8329      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 235


4457:str_merge.c   ****     
4458:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4459:str_merge.c   ****     fclose(fout_enfb);
4460:str_merge.c   **** #endif
4461:str_merge.c   **** 
4462:str_merge.c   **** 
4463:str_merge.c   **** #if 0  /* Add size to usage for debug */
4464:str_merge.c   **** /* under construction !*/
4465:str_merge.c   **** /* under construction !*/
4466:str_merge.c   **** /* under construction !*/
4467:str_merge.c   **** /* under construction !*/
4468:str_merge.c   **** /* under construction !*/
4469:str_merge.c   **** /* under construction !*/
4470:str_merge.c   **** /* under construction !*/
4471:str_merge.c   **** /* under construction !*/
4472:str_merge.c   **** /* under construction !*/
4473:str_merge.c   **** /* under construction !*/
4474:str_merge.c   **** /* under construction !*/
4475:str_merge.c   **** /* under construction !*/
4476:str_merge.c   **** /* under construction !*/
4477:str_merge.c   **** /* under construction !*/
4478:str_merge.c   **** /* under construction !*/
4479:str_merge.c   **** /* under construction !*/
4480:str_merge.c   **** /* under construction !*/
4481:str_merge.c   **** /* under construction !*/
4482:str_merge.c   **** /* under construction !*/
4483:str_merge.c   **** /* under construction !*/
4484:str_merge.c   **** /* under construction !*/
4485:str_merge.c   **** /* under construction !*/
4486:str_merge.c   **** /* under construction !*/
4487:str_merge.c   **** /* under construction !*/
4488:str_merge.c   **** /* under construction !*/
4489:str_merge.c   **** /* under construction !*/
4490:str_merge.c   **** /* under construction !*/
4491:str_merge.c   **** /* under construction !*/
4492:str_merge.c   **** /* under construction !*/
4493:str_merge.c   **** /* under construction !*/
4494:str_merge.c   **** /* under construction !*/
4495:str_merge.c   **** /* under construction !*/
4496:str_merge.c   **** /* under construction !*/
4497:str_merge.c   **** /* under construction !*/
4498:str_merge.c   **** /* under construction !*/
4499:str_merge.c   **** /* under construction !*/
4500:str_merge.c   **** /* under construction !*/
4501:str_merge.c   **** /* under construction !*/
4502:str_merge.c   **** /* under construction !*/
4503:str_merge.c   **** /* under construction !*/
4504:str_merge.c   **** /* under construction !*/
4505:str_merge.c   **** /* under construction !*/
4506:str_merge.c   **** /* under construction !*/
4507:str_merge.c   **** /* under construction !*/
4508:str_merge.c   **** /* under construction !*/
4509:str_merge.c   **** /* under construction !*/
4510:str_merge.c   **** /* under construction !*/
4511:str_merge.c   **** #endif
4512:str_merge.c   ****     STRMERG_LOG_V("GenerateStrResFile succeeded");
 8331              	LM1015:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 236


 8332 5ed8 C7442408 		movl	$LC117, 8(%esp)
 8332      754C0000 
 8333 5ee0 C7442404 		movl	$LC3, 4(%esp)
 8333      4B040000 
 8334 5ee8 C7042401 		movl	$1, (%esp)
 8334      000000
 8335 5eef E8000000 		call	_reslog_adaptor_log
 8335      00
4513:str_merge.c   ****     return 0;
 8337              	LM1016:
 8338 5ef4 C7857CDF 		movl	$0, -8324(%ebp)
 8338      FFFF0000 
 8338      0000
 8339 5efe EB6A     		jmp	L412
 8340              	L416:
4514:str_merge.c   **** 
4515:str_merge.c   **** GEN_STR_ERR_RET:
4516:str_merge.c   ****     STRMERG_LOG_E("GEN_STR_ERR_RET handling");
 8342              	LM1017:
 8343 5f00 C7442408 		movl	$LC118, 8(%esp)
 8343      924C0000 
 8344 5f08 C7442404 		movl	$LC3, 4(%esp)
 8344      4B040000 
 8345 5f10 C7042403 		movl	$3, (%esp)
 8345      000000
 8346 5f17 E8000000 		call	_reslog_adaptor_log
 8346      00
4517:str_merge.c   ****     if (fout_res)fclose(fout_res);
 8348              	LM1018:
 8349 5f1c 837DF400 		cmpl	$0, -12(%ebp)
 8350 5f20 740B     		je	L493
 8351 5f22 8B45F4   		movl	-12(%ebp), %eax
 8352 5f25 890424   		movl	%eax, (%esp)
 8353 5f28 E8000000 		call	_fclose
 8353      00
 8354              	L493:
4518:str_merge.c   ****     if (fout_map)fclose(fout_map);
 8356              	LM1019:
 8357 5f2d 837DF000 		cmpl	$0, -16(%ebp)
 8358 5f31 740B     		je	L494
 8359 5f33 8B45F0   		movl	-16(%ebp), %eax
 8360 5f36 890424   		movl	%eax, (%esp)
 8361 5f39 E8000000 		call	_fclose
 8361      00
 8362              	L494:
4519:str_merge.c   ****     if (fout_meta_res)fclose(fout_map);
 8364              	LM1020:
 8365 5f3e 837DEC00 		cmpl	$0, -20(%ebp)
 8366 5f42 740B     		je	L495
 8367 5f44 8B45F0   		movl	-16(%ebp), %eax
 8368 5f47 890424   		movl	%eax, (%esp)
 8369 5f4a E8000000 		call	_fclose
 8369      00
 8370              	L495:
4520:str_merge.c   ****     if (fout_meta_map)fclose(fout_map);
 8372              	LM1021:
 8373 5f4f 837DE800 		cmpl	$0, -24(%ebp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 237


 8374 5f53 740B     		je	L496
 8375 5f55 8B45F0   		movl	-16(%ebp), %eax
 8376 5f58 890424   		movl	%eax, (%esp)
 8377 5f5b E8000000 		call	_fclose
 8377      00
 8378              	L496:
4521:str_merge.c   ****     
4522:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4523:str_merge.c   ****     if (fout_enfb)fclose(fout_enfb);
4524:str_merge.c   **** #endif    
4525:str_merge.c   ****     return -1;
 8380              	LM1022:
 8381 5f60 C7857CDF 		movl	$-1, -8324(%ebp)
 8381      FFFFFFFF 
 8381      FFFF
4526:str_merge.c   **** }
 8383              	LM1023:
 8384              	L412:
 8385              	LBE43:
 8386 5f6a 8B857CDF 		movl	-8324(%ebp), %eax
 8386      FFFF
 8387 5f70 81C4B420 		addl	$8372, %esp
 8387      0000
 8388 5f76 5B       		popl	%ebx
 8389 5f77 5D       		popl	%ebp
 8390 5f78 C3       		ret
 8446              	Lscope33:
 8448              	LC119:
 8449 5f79 097B2564 		.ascii "\11{%d, %d, %d},\12\0"
 8449      2C202564 
 8449      2C202564 
 8449      7D2C0A00 
 8456              	.globl _generate_map2
 8458              	_generate_map2:
4527:str_merge.c   **** 
4528:str_merge.c   **** 
4529:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4530:str_merge.c   **** int generate_map(FILE *map, U16 *arr, int len)
4531:str_merge.c   **** {
4532:str_merge.c   ****     /*----------------------------------------------------------------*/
4533:str_merge.c   ****     /* Local Variables                                                */
4534:str_merge.c   ****     /*----------------------------------------------------------------*/
4535:str_merge.c   ****     int s = 0;
4536:str_merge.c   ****     int map_count = 0;
4537:str_merge.c   ****     int i = 0;
4538:str_merge.c   ****     
4539:str_merge.c   ****     /*----------------------------------------------------------------*/
4540:str_merge.c   ****     /* Code Body                                                      */
4541:str_merge.c   ****     /*----------------------------------------------------------------*/
4542:str_merge.c   ****     if(map == 0 || arr == 0 || len <= 0)
4543:str_merge.c   ****     {
4544:str_merge.c   ****         return -1;
4545:str_merge.c   ****     }
4546:str_merge.c   **** 
4547:str_merge.c   ****     for(i = 0; i < len - 1; ++i)
4548:str_merge.c   ****     {
4549:str_merge.c   ****         if(arr[i] + 1 != arr[i+1])
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 238


4550:str_merge.c   ****         {
4551:str_merge.c   ****             fprintf(map, "\t{%d, %d, %d},\n", arr[s], arr[i], s);
4552:str_merge.c   ****             s = i + 1;
4553:str_merge.c   ****             map_count++;
4554:str_merge.c   ****         }
4555:str_merge.c   ****     }
4556:str_merge.c   **** 
4557:str_merge.c   ****     fprintf(map, "\t{%d, %d, %d},\n", arr[s], arr[i], s);
4558:str_merge.c   ****     map_count++;
4559:str_merge.c   **** 
4560:str_merge.c   ****     return map_count;
4561:str_merge.c   **** }
4562:str_merge.c   **** #else /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4563:str_merge.c   **** int generate_map2(FILE *map,FILE *mapMeta, U8 *ispop, FixedID *fixed, int len)
4564:str_merge.c   **** {
 8460              	LM1024:
 8461 5f89 55       		pushl	%ebp
 8462 5f8a 89E5     		movl	%esp, %ebp
 8463 5f8c 83EC38   		subl	$56, %esp
4565:str_merge.c   ****     /*----------------------------------------------------------------*/
4566:str_merge.c   ****     /* Local Variables                                                */
4567:str_merge.c   ****     /*----------------------------------------------------------------*/
4568:str_merge.c   ****     int mapIndex = 0; /* offset */
 8465              	LM1025:
 8466              	LBB52:
 8467 5f8f C745FC00 		movl	$0, -4(%ebp)
 8467      000000
4569:str_merge.c   ****     int new_flag = 0; /* new item or not */
 8469              	LM1026:
 8470 5f96 C745F800 		movl	$0, -8(%ebp)
 8470      000000
4570:str_merge.c   ****     int minId = 0;    /* minmum id */
 8472              	LM1027:
 8473 5f9d C745F400 		movl	$0, -12(%ebp)
 8473      000000
4571:str_merge.c   ****     int map_count = 0;
 8475              	LM1028:
 8476 5fa4 C745F000 		movl	$0, -16(%ebp)
 8476      000000
4572:str_merge.c   ****     int i = 0;
 8478              	LM1029:
 8479 5fab C745EC00 		movl	$0, -20(%ebp)
 8479      000000
4573:str_merge.c   ****     U16 trans_count = CurrMaxStringId - fixed->id_count; /* translated string count */
 8481              	LM1030:
 8482 5fb2 8B4514   		movl	20(%ebp), %eax
 8483 5fb5 0FB71500 		movzwl	_CurrMaxStringId, %edx
 8483      000000
 8484 5fbc 0FB700   		movzwl	(%eax), %eax
 8485 5fbf 89D1     		movl	%edx, %ecx
 8486 5fc1 29C1     		subl	%eax, %ecx
 8487 5fc3 89C8     		movl	%ecx, %eax
 8488 5fc5 668945EA 		movw	%ax, -22(%ebp)
4574:str_merge.c   ****     U16 curr_trans = 0;
 8490              	LM1031:
 8491 5fc9 66C745E8 		movw	$0, -24(%ebp)
 8491      0000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 239


4575:str_merge.c   ****     U16 curr_no_trans = 0;
 8493              	LM1032:
 8494 5fcf 66C745E6 		movw	$0, -26(%ebp)
 8494      0000
4576:str_merge.c   ****     U16 curr_type = 0;
 8496              	LM1033:
 8497 5fd5 66C745E4 		movw	$0, -28(%ebp)
 8497      0000
4577:str_merge.c   **** 
4578:str_merge.c   ****     /*----------------------------------------------------------------*/
4579:str_merge.c   ****     /* Code Body                                                      */
4580:str_merge.c   ****     /*----------------------------------------------------------------*/
4581:str_merge.c   ****     if(map == 0 || ispop == 0 || fixed == 0 || len <= 0)
 8499              	LM1034:
 8500 5fdb 837D0800 		cmpl	$0, 8(%ebp)
 8501 5fdf 7414     		je	L499
 8502 5fe1 837D1000 		cmpl	$0, 16(%ebp)
 8503 5fe5 740E     		je	L499
 8504 5fe7 837D1400 		cmpl	$0, 20(%ebp)
 8505 5feb 7408     		je	L499
 8506 5fed 837D1800 		cmpl	$0, 24(%ebp)
 8507 5ff1 7E02     		jle	L499
 8508 5ff3 EB0C     		jmp	L498
 8509              	L499:
4582:str_merge.c   ****     {
4583:str_merge.c   ****         return -1;
 8511              	LM1035:
 8512 5ff5 C745E0FF 		movl	$-1, -32(%ebp)
 8512      FFFFFF
 8513 5ffc E9D40100 		jmp	L497
 8513      00
 8514              	L498:
4584:str_merge.c   ****     }
4585:str_merge.c   ****     
4586:str_merge.c   ****     for(i = 0; i < len; ++i)
 8516              	LM1036:
 8517 6001 C745EC00 		movl	$0, -20(%ebp)
 8517      000000
 8518              	L500:
 8519 6008 8B45EC   		movl	-20(%ebp), %eax
 8520 600b 3B4518   		cmpl	24(%ebp), %eax
 8521 600e 7C05     		jl	L503
 8522 6010 E9570100 		jmp	L501
 8522      00
 8523              	L503:
4587:str_merge.c   ****     {
4588:str_merge.c   ****         if(new_flag == 0)
 8525              	LM1037:
 8526 6015 837DF800 		cmpl	$0, -8(%ebp)
 8527 6019 7553     		jne	L504
4589:str_merge.c   ****         {
4590:str_merge.c   ****             if(ispop[i])
 8529              	LM1038:
 8530 601b 8B45EC   		movl	-20(%ebp), %eax
 8531 601e 034510   		addl	16(%ebp), %eax
 8532 6021 803800   		cmpb	$0, (%eax)
 8533 6024 0F841301 		je	L508
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 240


 8533      0000
4591:str_merge.c   ****             {
4592:str_merge.c   ****                 new_flag = 1;
 8535              	LM1039:
 8536 602a C745F801 		movl	$1, -8(%ebp)
 8536      000000
4593:str_merge.c   ****                 if(fixed->fixed_id_flag[i] == TRANSLATE_FLAG)
 8538              	LM1040:
 8539 6031 8B4514   		movl	20(%ebp), %eax
 8540 6034 8B55EC   		movl	-20(%ebp), %edx
 8541 6037 8B4004   		movl	4(%eax), %eax
 8542 603a 01D0     		addl	%edx, %eax
 8543 603c 803802   		cmpb	$2, (%eax)
 8544 603f 750F     		jne	L506
4594:str_merge.c   ****                 {
4595:str_merge.c   ****                     mapIndex = curr_trans;
 8546              	LM1041:
 8547 6041 0FB745E8 		movzwl	-24(%ebp), %eax
 8548 6045 8945FC   		movl	%eax, -4(%ebp)
4596:str_merge.c   ****                     curr_type = TRANSLATE_FLAG;
 8550              	LM1042:
 8551 6048 66C745E4 		movw	$2, -28(%ebp)
 8551      0200
 8552 604e EB13     		jmp	L507
 8553              	L506:
4597:str_merge.c   ****                 }
4598:str_merge.c   ****                 else
4599:str_merge.c   ****                 {
4600:str_merge.c   ****                     mapIndex = curr_no_trans + trans_count;
 8555              	LM1043:
 8556 6050 0FB745E6 		movzwl	-26(%ebp), %eax
 8557 6054 0FB755EA 		movzwl	-22(%ebp), %edx
 8558 6058 01D0     		addl	%edx, %eax
 8559 605a 8945FC   		movl	%eax, -4(%ebp)
4601:str_merge.c   ****                     curr_type = NO_TRANSLATE_FLAG;
 8561              	LM1044:
 8562 605d 66C745E4 		movw	$1, -28(%ebp)
 8562      0100
 8563              	L507:
4602:str_merge.c   ****                 }
4603:str_merge.c   ****                 minId = i;
 8565              	LM1045:
 8566 6063 8B45EC   		movl	-20(%ebp), %eax
 8567 6066 8945F4   		movl	%eax, -12(%ebp)
 8568 6069 E9CF0000 		jmp	L508
 8568      00
 8569              	L504:
4604:str_merge.c   ****             }
4605:str_merge.c   ****         }
4606:str_merge.c   ****         else
4607:str_merge.c   ****         {
4608:str_merge.c   ****             if(ispop[i] == 0 || fixed->fixed_id_flag[i - 1] != fixed->fixed_id_flag[i])
 8571              	LM1046:
 8572 606e 8B45EC   		movl	-20(%ebp), %eax
 8573 6071 034510   		addl	16(%ebp), %eax
 8574 6074 803800   		cmpb	$0, (%eax)
 8575 6077 7423     		je	L510
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 241


 8576 6079 8B5514   		movl	20(%ebp), %edx
 8577 607c 8B45EC   		movl	-20(%ebp), %eax
 8578 607f 034204   		addl	4(%edx), %eax
 8579 6082 8D48FF   		leal	-1(%eax), %ecx
 8580 6085 8B5514   		movl	20(%ebp), %edx
 8581 6088 8B45EC   		movl	-20(%ebp), %eax
 8582 608b 8B5204   		movl	4(%edx), %edx
 8583 608e 01C2     		addl	%eax, %edx
 8584 6090 0FB601   		movzbl	(%ecx), %eax
 8585 6093 3A02     		cmpb	(%edx), %al
 8586 6095 7505     		jne	L510
 8587 6097 E9A10000 		jmp	L508
 8587      00
 8588              	L510:
4609:str_merge.c   ****             {
4610:str_merge.c   ****                 fprintf(map, "\t{%d, %d, %d},\n", minId, i - 1, mapIndex);
 8590              	LM1047:
 8591 609c 8B45FC   		movl	-4(%ebp), %eax
 8592 609f 89442410 		movl	%eax, 16(%esp)
 8593 60a3 8B45EC   		movl	-20(%ebp), %eax
 8594 60a6 48       		decl	%eax
 8595 60a7 8944240C 		movl	%eax, 12(%esp)
 8596 60ab 8B45F4   		movl	-12(%ebp), %eax
 8597 60ae 89442408 		movl	%eax, 8(%esp)
 8598 60b2 C7442404 		movl	$LC119, 4(%esp)
 8598      795F0000 
 8599 60ba 8B4508   		movl	8(%ebp), %eax
 8600 60bd 890424   		movl	%eax, (%esp)
 8601 60c0 E8000000 		call	_fprintf
 8601      00
4611:str_merge.c   **** 		fprintf(mapMeta, "\t{%d, %d, %d},\n", minId, i - 1, mapIndex);
 8603              	LM1048:
 8604 60c5 8B45FC   		movl	-4(%ebp), %eax
 8605 60c8 89442410 		movl	%eax, 16(%esp)
 8606 60cc 8B45EC   		movl	-20(%ebp), %eax
 8607 60cf 48       		decl	%eax
 8608 60d0 8944240C 		movl	%eax, 12(%esp)
 8609 60d4 8B45F4   		movl	-12(%ebp), %eax
 8610 60d7 89442408 		movl	%eax, 8(%esp)
 8611 60db C7442404 		movl	$LC119, 4(%esp)
 8611      795F0000 
 8612 60e3 8B450C   		movl	12(%ebp), %eax
 8613 60e6 890424   		movl	%eax, (%esp)
 8614 60e9 E8000000 		call	_fprintf
 8614      00
4612:str_merge.c   ****                 if(ispop[i] == 0)
 8616              	LM1049:
 8617 60ee 8B45EC   		movl	-20(%ebp), %eax
 8618 60f1 034510   		addl	16(%ebp), %eax
 8619 60f4 803800   		cmpb	$0, (%eax)
 8620 60f7 7509     		jne	L511
4613:str_merge.c   ****                 {
4614:str_merge.c   ****                     new_flag = 0;
 8622              	LM1050:
 8623 60f9 C745F800 		movl	$0, -8(%ebp)
 8623      000000
 8624 6100 EB36     		jmp	L512
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 242


 8625              	L511:
4615:str_merge.c   ****             }
4616:str_merge.c   ****             else
4617:str_merge.c   ****             {
4618:str_merge.c   ****                     minId = i;
 8627              	LM1051:
 8628 6102 8B45EC   		movl	-20(%ebp), %eax
 8629 6105 8945F4   		movl	%eax, -12(%ebp)
4619:str_merge.c   ****                     if(fixed->fixed_id_flag[i] == TRANSLATE_FLAG)
 8631              	LM1052:
 8632 6108 8B5514   		movl	20(%ebp), %edx
 8633 610b 8B45EC   		movl	-20(%ebp), %eax
 8634 610e 034204   		addl	4(%edx), %eax
 8635 6111 803802   		cmpb	$2, (%eax)
 8636 6114 750F     		jne	L513
4620:str_merge.c   ****                     {
4621:str_merge.c   ****                         mapIndex = curr_trans;
 8638              	LM1053:
 8639 6116 0FB745E8 		movzwl	-24(%ebp), %eax
 8640 611a 8945FC   		movl	%eax, -4(%ebp)
4622:str_merge.c   ****                         curr_type = TRANSLATE_FLAG;
 8642              	LM1054:
 8643 611d 66C745E4 		movw	$2, -28(%ebp)
 8643      0200
 8644 6123 EB13     		jmp	L512
 8645              	L513:
4623:str_merge.c   ****                     }
4624:str_merge.c   ****                     else
4625:str_merge.c   ****                     {
4626:str_merge.c   ****                         mapIndex = curr_no_trans + trans_count;
 8647              	LM1055:
 8648 6125 0FB745E6 		movzwl	-26(%ebp), %eax
 8649 6129 0FB755EA 		movzwl	-22(%ebp), %edx
 8650 612d 01D0     		addl	%edx, %eax
 8651 612f 8945FC   		movl	%eax, -4(%ebp)
4627:str_merge.c   ****                         curr_type = NO_TRANSLATE_FLAG;
 8653              	LM1056:
 8654 6132 66C745E4 		movw	$1, -28(%ebp)
 8654      0100
 8655              	L512:
4628:str_merge.c   ****                     }
4629:str_merge.c   ****                 }
4630:str_merge.c   ****                 map_count++;
 8657              	LM1057:
 8658 6138 8D45F0   		leal	-16(%ebp), %eax
 8659 613b FF00     		incl	(%eax)
 8660              	L508:
4631:str_merge.c   ****             }
4632:str_merge.c   ****         }
4633:str_merge.c   **** 
4634:str_merge.c   ****         if(ispop[i])
 8662              	LM1058:
 8663 613d 8B45EC   		movl	-20(%ebp), %eax
 8664 6140 034510   		addl	16(%ebp), %eax
 8665 6143 803800   		cmpb	$0, (%eax)
 8666 6146 741A     		je	L502
4635:str_merge.c   ****         {
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 243


4636:str_merge.c   ****             if(curr_type == TRANSLATE_FLAG)
 8668              	LM1059:
 8669 6148 66837DE4 		cmpw	$2, -28(%ebp)
 8669      02
 8670 614d 750A     		jne	L516
4637:str_merge.c   ****             {
4638:str_merge.c   ****                 curr_trans++;
 8672              	LM1060:
 8673 614f 8B45E8   		movl	-24(%ebp), %eax
 8674 6152 40       		incl	%eax
 8675 6153 668945E8 		movw	%ax, -24(%ebp)
 8676 6157 EB09     		jmp	L502
 8677              	L516:
4639:str_merge.c   ****             }
4640:str_merge.c   ****             else
4641:str_merge.c   ****             {
4642:str_merge.c   ****                 curr_no_trans++;
 8679              	LM1061:
 8680 6159 0FB745E6 		movzwl	-26(%ebp), %eax
 8681 615d 40       		incl	%eax
 8682 615e 668945E6 		movw	%ax, -26(%ebp)
 8684              	LM1062:
 8685              	L502:
 8686 6162 8D45EC   		leal	-20(%ebp), %eax
 8687 6165 FF00     		incl	(%eax)
 8688 6167 E99CFEFF 		jmp	L500
 8688      FF
 8689              	L501:
4643:str_merge.c   ****             }
4644:str_merge.c   ****         }
4645:str_merge.c   ****     }
4646:str_merge.c   **** 
4647:str_merge.c   ****     if(ispop[i - 1])
 8691              	LM1063:
 8692 616c 8B45EC   		movl	-20(%ebp), %eax
 8693 616f 034510   		addl	16(%ebp), %eax
 8694 6172 48       		decl	%eax
 8695 6173 803800   		cmpb	$0, (%eax)
 8696 6176 7457     		je	L518
4648:str_merge.c   ****     {
4649:str_merge.c   ****         fprintf(map, "\t{%d, %d, %d},\n", minId, i - 1, mapIndex);
 8698              	LM1064:
 8699 6178 8B45FC   		movl	-4(%ebp), %eax
 8700 617b 89442410 		movl	%eax, 16(%esp)
 8701 617f 8B45EC   		movl	-20(%ebp), %eax
 8702 6182 48       		decl	%eax
 8703 6183 8944240C 		movl	%eax, 12(%esp)
 8704 6187 8B45F4   		movl	-12(%ebp), %eax
 8705 618a 89442408 		movl	%eax, 8(%esp)
 8706 618e C7442404 		movl	$LC119, 4(%esp)
 8706      795F0000 
 8707 6196 8B4508   		movl	8(%ebp), %eax
 8708 6199 890424   		movl	%eax, (%esp)
 8709 619c E8000000 		call	_fprintf
 8709      00
4650:str_merge.c   **** 	fprintf(mapMeta, "\t{%d, %d, %d},\n", minId, i - 1, mapIndex);
 8711              	LM1065:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 244


 8712 61a1 8B45FC   		movl	-4(%ebp), %eax
 8713 61a4 89442410 		movl	%eax, 16(%esp)
 8714 61a8 8B45EC   		movl	-20(%ebp), %eax
 8715 61ab 48       		decl	%eax
 8716 61ac 8944240C 		movl	%eax, 12(%esp)
 8717 61b0 8B45F4   		movl	-12(%ebp), %eax
 8718 61b3 89442408 		movl	%eax, 8(%esp)
 8719 61b7 C7442404 		movl	$LC119, 4(%esp)
 8719      795F0000 
 8720 61bf 8B450C   		movl	12(%ebp), %eax
 8721 61c2 890424   		movl	%eax, (%esp)
 8722 61c5 E8000000 		call	_fprintf
 8722      00
4651:str_merge.c   ****         map_count++;
 8724              	LM1066:
 8725 61ca 8D45F0   		leal	-16(%ebp), %eax
 8726 61cd FF00     		incl	(%eax)
 8727              	L518:
4652:str_merge.c   ****     }
4653:str_merge.c   **** 
4654:str_merge.c   ****     return map_count;
 8729              	LM1067:
 8730 61cf 8B45F0   		movl	-16(%ebp), %eax
 8731 61d2 8945E0   		movl	%eax, -32(%ebp)
4655:str_merge.c   **** }
 8733              	LM1068:
 8734              	L497:
 8735              	LBE52:
 8736 61d5 8B45E0   		movl	-32(%ebp), %eax
 8737 61d8 C9       		leave
 8738 61d9 C3       		ret
 8750              	Lscope34:
 8752 61da 8DB60000 		.align 32
 8752      0000
 8753              	LC120:
 8754 61e0 636F6E73 		.ascii "const CUSTOM_STRMAP_SEARCH StrMapSearch[] = {\12\0"
 8754      74204355 
 8754      53544F4D 
 8754      5F535452 
 8754      4D41505F 
 8755              	LC121:
 8756 620f 54595045 		.ascii "TYPE: SEARCH_MAP\12\0"
 8756      3A205345 
 8756      41524348 
 8756      5F4D4150 
 8756      0A00
 8761              	_generate_strmap_search:
4656:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4657:str_merge.c   **** 
4658:str_merge.c   **** 
4659:str_merge.c   **** static int generate_strmap_search(FILE *res, FILE *resMeta)
4660:str_merge.c   **** {
 8763              	LM1069:
 8764 6221 55       		pushl	%ebp
 8765 6222 89E5     		movl	%esp, %ebp
 8766 6224 83EC28   		subl	$40, %esp
4661:str_merge.c   ****     /*----------------------------------------------------------------*/
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 245


4662:str_merge.c   ****     /* Local Variables                                                */
4663:str_merge.c   ****     /*----------------------------------------------------------------*/
4664:str_merge.c   ****     int ret = -1;
 8768              	LM1070:
 8769              	LBB53:
 8770 6227 C745FCFF 		movl	$-1, -4(%ebp)
 8770      FFFFFF
4665:str_merge.c   ****     
4666:str_merge.c   ****     /*----------------------------------------------------------------*/
4667:str_merge.c   ****     /* Code Body                                                      */
4668:str_merge.c   ****     /*----------------------------------------------------------------*/
4669:str_merge.c   ****     if(res == 0)
 8772              	LM1071:
 8773 622e 837D0800 		cmpl	$0, 8(%ebp)
 8774 6232 750C     		jne	L520
4670:str_merge.c   ****     {
4671:str_merge.c   ****         return -1; /* invalid input */
 8776              	LM1072:
 8777 6234 C745F8FF 		movl	$-1, -8(%ebp)
 8777      FFFFFF
 8778 623b E9B80000 		jmp	L519
 8778      00
 8779              	L520:
4672:str_merge.c   ****     }
4673:str_merge.c   **** 
4674:str_merge.c   ****     fprintf(res, "const CUSTOM_STRMAP_SEARCH StrMapSearch[] = {\n");
 8781              	LM1073:
 8782 6240 C7442404 		movl	$LC120, 4(%esp)
 8782      E0610000 
 8783 6248 8B4508   		movl	8(%ebp), %eax
 8784 624b 890424   		movl	%eax, (%esp)
 8785 624e E8000000 		call	_fprintf
 8785      00
4675:str_merge.c   ****     fprintf(resMeta, "########################################################\n");
 8787              	LM1074:
 8788 6253 C7442404 		movl	$LC84, 4(%esp)
 8788      A0460000 
 8789 625b 8B450C   		movl	12(%ebp), %eax
 8790 625e 890424   		movl	%eax, (%esp)
 8791 6261 E8000000 		call	_fprintf
 8791      00
4676:str_merge.c   ****     fprintf(resMeta, "TYPE: SEARCH_MAP\n");
 8793              	LM1075:
 8794 6266 C7442404 		movl	$LC121, 4(%esp)
 8794      0F620000 
 8795 626e 8B450C   		movl	12(%ebp), %eax
 8796 6271 890424   		movl	%eax, (%esp)
 8797 6274 E8000000 		call	_fprintf
 8797      00
4677:str_merge.c   ****     fprintf(resMeta, "DATA:\n");
 8799              	LM1076:
 8800 6279 C7442404 		movl	$LC99, 4(%esp)
 8800      1A490000 
 8801 6281 8B450C   		movl	12(%ebp), %eax
 8802 6284 890424   		movl	%eax, (%esp)
 8803 6287 E8000000 		call	_fprintf
 8803      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 246


4678:str_merge.c   ****     fprintf(resMeta, "const CUSTOM_STRMAP_SEARCH StrMapSearch[] = {\n");
 8805              	LM1077:
 8806 628c C7442404 		movl	$LC120, 4(%esp)
 8806      E0610000 
 8807 6294 8B450C   		movl	12(%ebp), %eax
 8808 6297 890424   		movl	%eax, (%esp)
 8809 629a E8000000 		call	_fprintf
 8809      00
4679:str_merge.c   **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
4680:str_merge.c   ****     ret = generate_map(res, StrID, CurrMaxStringId);
4681:str_merge.c   **** #else
4682:str_merge.c   ****     ret = generate_map2(res, resMeta, StrIsPopulate, &fixed_id, MAX_STRING_MAP_SIZE);
 8811              	LM1078:
 8812 629f C7442410 		movl	$65535, 16(%esp)
 8812      FFFF0000 
 8813 62a7 C744240C 		movl	$_fixed_id, 12(%esp)
 8813      00000000 
 8814 62af C7442408 		movl	$_StrIsPopulate, 8(%esp)
 8814      00000000 
 8815 62b7 8B450C   		movl	12(%ebp), %eax
 8816 62ba 89442404 		movl	%eax, 4(%esp)
 8817 62be 8B4508   		movl	8(%ebp), %eax
 8818 62c1 890424   		movl	%eax, (%esp)
 8819 62c4 E8C0FCFF 		call	_generate_map2
 8819      FF
 8820 62c9 8945FC   		movl	%eax, -4(%ebp)
4683:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4684:str_merge.c   ****     fprintf(res, "};\n");
 8822              	LM1079:
 8823 62cc C7442404 		movl	$LC92, 4(%esp)
 8823      6B470000 
 8824 62d4 8B4508   		movl	8(%ebp), %eax
 8825 62d7 890424   		movl	%eax, (%esp)
 8826 62da E8000000 		call	_fprintf
 8826      00
4685:str_merge.c   ****     fprintf(resMeta, "};\n");
 8828              	LM1080:
 8829 62df C7442404 		movl	$LC92, 4(%esp)
 8829      6B470000 
 8830 62e7 8B450C   		movl	12(%ebp), %eax
 8831 62ea 890424   		movl	%eax, (%esp)
 8832 62ed E8000000 		call	_fprintf
 8832      00
4686:str_merge.c   **** 
4687:str_merge.c   **** 
4688:str_merge.c   ****     return ret;
 8834              	LM1081:
 8835 62f2 8B45FC   		movl	-4(%ebp), %eax
 8836 62f5 8945F8   		movl	%eax, -8(%ebp)
4689:str_merge.c   **** }
 8838              	LM1082:
 8839              	L519:
 8840              	LBE53:
 8841 62f8 8B45F8   		movl	-8(%ebp), %eax
 8842 62fb C9       		leave
 8843 62fc C3       		ret
 8847              	Lscope35:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 247


 8849              	LC122:
 8850 62fd 00       		.ascii "\0"
 8851 62fe 00000000 		.space 127
 8851      00000000 
 8851      00000000 
 8851      00000000 
 8851      00000000 
 8852 637d 8D7600   		.align 32
 8853              	LC123:
 8854 6380 636F6E73 		.ascii "const StringResList mtk_gStringList[] = {\12\0"
 8854      74205374 
 8854      72696E67 
 8854      5265734C 
 8854      69737420 
 8855 63ab 90909090 		.align 32
 8855      90909090 
 8855      90909090 
 8855      90909090 
 8855      90909090 
 8856              	LC124:
 8857 63c0 7B284355 		.ascii "{(CUSTOM_STRING*)StrRes_%d, %d, (void*)StrMap_%d, %d, (CUSTOM_STRMAP_SEARCH *)StrMapSearch
 8857      53544F4D 
 8857      5F535452 
 8857      494E472A 
 8857      29537472 
 8858 6430 90909090 		.align 32
 8858      90909090 
 8858      90909090 
 8858      90909090 
 8859              	LC125:
 8860 6440 7B284355 		.ascii "{(CUSTOM_STRING*)StrRes_Dup, %d, (void*)NULL, %d, (CUSTOM_STRMAP_SEARCH *)NULL, %d, (MMI_B
 8860      53544F4D 
 8860      5F535452 
 8860      494E472A 
 8860      29537472 
 8861 64a3 90909090 		.align 32
 8861      90909090 
 8861      90909090 
 8861      90909090 
 8861      90909090 
 8862              	LC126:
 8863 64c0 7B284355 		.ascii "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0},\12\0"
 8863      53544F4D 
 8863      5F535452 
 8863      494E472A 
 8863      294E554C 
 8864 6510 90909090 		.align 32
 8864      90909090 
 8864      90909090 
 8864      90909090 
 8865              	LC127:
 8866 6520 7B284355 		.ascii "{(CUSTOM_STRING*)StrRes_Fixed, %d, (void*)StrMap_Fixed, %d, (CUSTOM_STRMAP_SEARCH *)StrMap
 8866      53544F4D 
 8866      5F535452 
 8866      494E472A 
 8866      29537472 
 8878              	_generate_language_list_array:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 248


4690:str_merge.c   **** 
4691:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4692:str_merge.c   **** static MMI_BOOL generate_language_list_array(FILE *res, StrRes *strres, DupStrRes *strres_dup, int 
4693:str_merge.c   **** #else
4694:str_merge.c   **** static MMI_BOOL generate_language_list_array(FILE *res, StrRes *strres, int num_map_search, U32 *re
4695:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4696:str_merge.c   **** {
 8880              	LM1083:
 8881 6596 55       		pushl	%ebp
 8882 6597 89E5     		movl	%esp, %ebp
 8883 6599 57       		pushl	%edi
 8884 659a 81EC4401 		subl	$324, %esp
 8884      0000
4697:str_merge.c   ****     FILE *pFile = 0;
 8886              	LM1084:
 8887              	LBB54:
 8888 65a0 C745F400 		movl	$0, -12(%ebp)
 8888      000000
4698:str_merge.c   ****     int i = 0;
 8890              	LM1085:
 8891 65a7 C745F000 		movl	$0, -16(%ebp)
 8891      000000
4699:str_merge.c   ****     char strResZiSymbol[STR_RESOURCE_MAX_SYMBOL_LEN] = "";
 8893              	LM1086:
 8894 65ae 0FB605FD 		movzbl	LC122, %eax
 8894      620000
 8895 65b5 888568FF 		movb	%al, -152(%ebp)
 8895      FFFF
 8896 65bb 8DBD69FF 		leal	-151(%ebp), %edi
 8896      FFFF
 8897 65c1 FC       		cld
 8898 65c2 B97F0000 		movl	$127, %ecx
 8898      00
 8899 65c7 B000     		movb	$0, %al
 8900 65c9 F3       		rep
 8901 65ca AA       		stosb
4700:str_merge.c   ****     char strMapZiSymbol[STR_RESOURCE_MAX_SYMBOL_LEN] = "";
 8903              	LM1087:
 8904 65cb 0FB605FD 		movzbl	LC122, %eax
 8904      620000
 8905 65d2 8885E8FE 		movb	%al, -280(%ebp)
 8905      FFFF
 8906 65d8 8DBDE9FE 		leal	-279(%ebp), %edi
 8906      FFFF
 8907 65de FC       		cld
 8908 65df B97F0000 		movl	$127, %ecx
 8908      00
 8909 65e4 B000     		movb	$0, %al
 8910 65e6 F3       		rep
 8911 65e7 AA       		stosb
4701:str_merge.c   ****     char * statementStr = NULL ;
 8913              	LM1088:
 8914 65e8 C785E4FE 		movl	$0, -284(%ebp)
 8914      FFFF0000 
 8914      0000
4702:str_merge.c   ****    
4703:str_merge.c   ****     if(res == 0)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 249


 8916              	LM1089:
 8917 65f2 837D0800 		cmpl	$0, 8(%ebp)
 8918 65f6 750F     		jne	L522
4704:str_merge.c   ****     {
4705:str_merge.c   ****         return MMI_FALSE;
 8920              	LM1090:
 8921 65f8 C785DCFE 		movl	$0, -292(%ebp)
 8921      FFFF0000 
 8921      0000
 8922 6602 E9AE0100 		jmp	L521
 8922      00
 8923              	L522:
4706:str_merge.c   ****     }
4707:str_merge.c   **** 
4708:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4709:str_merge.c   ****     InitStrDeCompressionBufferCreator();
4710:str_merge.c   ****     launchStrDeCompressionBufferCreator(strres, strres_dup, res_size, map_size);
4711:str_merge.c   ****     statementStr = StrDeCompressBufGetDefinitionStatements(MMIRESORUCE_CAT_STR_COMPRESS_RESERVED_ZI
4712:str_merge.c   ****     fprintf(res, "%s\n", statementStr);
4713:str_merge.c   ****     statementStr = StrDeCompressBufGetDeclartionStatements();
4714:str_merge.c   ****     fprintf(res, "%s\n", statementStr);
4715:str_merge.c   **** #endif// __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4716:str_merge.c   **** 
4717:str_merge.c   ****     fprintf(res, "const StringResList mtk_gStringList[] = {\n");
 8925              	LM1091:
 8926 6607 C7442404 		movl	$LC123, 4(%esp)
 8926      80630000 
 8927 660f 8B4508   		movl	8(%ebp), %eax
 8928 6612 890424   		movl	%eax, (%esp)
 8929 6615 E8000000 		call	_fprintf
 8929      00
4718:str_merge.c   ****     for (i = 0; i < mtk_gMaxDeployedLangs; i++)
 8931              	LM1092:
 8932 661a C745F000 		movl	$0, -16(%ebp)
 8932      000000
 8933              	L523:
 8934 6621 0FB70500 		movzwl	_mtk_gMaxDeployedLangs, %eax
 8934      000000
 8935 6628 3945F0   		cmpl	%eax, -16(%ebp)
 8936 662b 7C05     		jl	L526
 8937 662d E9B60000 		jmp	L524
 8937      00
 8938              	L526:
4719:str_merge.c   ****     {
4720:str_merge.c   ****         int old_i = i;
 8940              	LM1093:
 8941              	LBB55:
 8942 6632 8B45F0   		movl	-16(%ebp), %eax
 8943 6635 8985E0FE 		movl	%eax, -288(%ebp)
 8943      FFFF
4721:str_merge.c   **** 
4722:str_merge.c   ****         if (mtk_gLanguageFlag[i] == 0)
 8945              	LM1094:
 8946 663b 8B45F0   		movl	-16(%ebp), %eax
 8947 663e 8D148500 		leal	0(,%eax,4), %edx
 8947      000000
 8948 6645 A1B80000 		movl	_mtk_gLanguageFlag, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 250


 8948      00
 8949 664a 833C1000 		cmpl	$0, (%eax,%edx)
 8950 664e 7507     		jne	L527
4723:str_merge.c   ****         {
4724:str_merge.c   ****             i = 0;
 8952              	LM1095:
 8953 6650 C745F000 		movl	$0, -16(%ebp)
 8953      000000
 8954              	L527:
4725:str_merge.c   ****         }
4726:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4727:str_merge.c   ****         if (mmi_res_zip_language[i] == 1)
4728:str_merge.c   ****         {
4729:str_merge.c   ****             if(pFile = fopen(ZIP_OUTPUT_FILE, "a"))
4730:str_merge.c   ****             {
4731:str_merge.c   ****                 fprintf(pFile, "StrRes_%d,%d,%d,%d,Yes\n", old_i + 1, res_size[i], reszip_size[i], 
4732:str_merge.c   ****                 fprintf(pFile, "StrMap_%d,%d,%d,%d,Yes\n", old_i + 1, map_size[i], mapzip_size[i], 
4733:str_merge.c   ****                 fprintf(pFile, "Language_%d_Total,%d,%d,%d,Yes\n", old_i + 1, res_size[i] + map_siz
4734:str_merge.c   ****                 fclose(pFile);
4735:str_merge.c   ****             }
4736:str_merge.c   ****             StrDeCompressBufGetStrResSymbol(old_i, strResZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
4737:str_merge.c   ****             StrDeCompressBufGetStrMapSymbol(old_i, strMapZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
4738:str_merge.c   **** 
4739:str_merge.c   ****             fprintf(res, "{%s, %d, %s, %d, (CUSTOM_STRMAP_SEARCH *)StrMapSearch, %d, %d, (U8*)StrRe
4740:str_merge.c   ****                 strResZiSymbol, strres[i].MaxNum + 1,strMapZiSymbol, strres[i].MaxID + 1, num_map_s
4741:str_merge.c   ****         }
4742:str_merge.c   ****         else
4743:str_merge.c   ****         {
4744:str_merge.c   ****             fprintf(res, "{(CUSTOM_STRING*)StrRes_%d, %d, (void*)StrMap_%d, %d, (CUSTOM_STRMAP_SEAR
4745:str_merge.c   ****                     old_i + 1, strres[i].MaxNum + 1, old_i + 1, strres[i].MaxID + 1, num_map_search
4746:str_merge.c   ****         }
4747:str_merge.c   **** #else
4748:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)StrRes_%d, %d, (void*)StrMap_%d, %d, (CUSTOM_STRMAP_SEARCH *
 8956              	LM1096:
 8957 6657 8B45F0   		movl	-16(%ebp), %eax
 8958 665a 8D148500 		leal	0(,%eax,4), %edx
 8958      000000
 8959 6661 A1C80000 		movl	_is16bit, %eax
 8959      00
 8960 6666 8B0410   		movl	(%eax,%edx), %eax
 8961 6669 8944241C 		movl	%eax, 28(%esp)
 8962 666d 8B4514   		movl	20(%ebp), %eax
 8963 6670 89442418 		movl	%eax, 24(%esp)
 8964 6674 8B55F0   		movl	-16(%ebp), %edx
 8965 6677 89D0     		movl	%edx, %eax
 8966 6679 01C0     		addl	%eax, %eax
 8967 667b 01D0     		addl	%edx, %eax
 8968 667d 8D14C500 		leal	0(,%eax,8), %edx
 8968      000000
 8969 6684 8B450C   		movl	12(%ebp), %eax
 8970 6687 8B441008 		movl	8(%eax,%edx), %eax
 8971 668b 40       		incl	%eax
 8972 668c 89442414 		movl	%eax, 20(%esp)
 8973 6690 8B85E0FE 		movl	-288(%ebp), %eax
 8973      FFFF
 8974 6696 40       		incl	%eax
 8975 6697 89442410 		movl	%eax, 16(%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 251


 8976 669b 8B55F0   		movl	-16(%ebp), %edx
 8977 669e 89D0     		movl	%edx, %eax
 8978 66a0 01C0     		addl	%eax, %eax
 8979 66a2 01D0     		addl	%edx, %eax
 8980 66a4 8D14C500 		leal	0(,%eax,8), %edx
 8980      000000
 8981 66ab 8B450C   		movl	12(%ebp), %eax
 8982 66ae 8B44100C 		movl	12(%eax,%edx), %eax
 8983 66b2 40       		incl	%eax
 8984 66b3 8944240C 		movl	%eax, 12(%esp)
 8985 66b7 8B85E0FE 		movl	-288(%ebp), %eax
 8985      FFFF
 8986 66bd 40       		incl	%eax
 8987 66be 89442408 		movl	%eax, 8(%esp)
 8988 66c2 C7442404 		movl	$LC124, 4(%esp)
 8988      C0630000 
 8989 66ca 8B4508   		movl	8(%ebp), %eax
 8990 66cd 890424   		movl	%eax, (%esp)
 8991 66d0 E8000000 		call	_fprintf
 8991      00
4749:str_merge.c   ****                 old_i + 1, strres[i].MaxNum + 1, old_i + 1, strres[i].MaxID + 1, num_map_search, is
4750:str_merge.c   **** #endif
4751:str_merge.c   **** 
4752:str_merge.c   ****         i = old_i;
 8993              	LM1097:
 8994 66d5 8B85E0FE 		movl	-288(%ebp), %eax
 8994      FFFF
 8995 66db 8945F0   		movl	%eax, -16(%ebp)
 8997              	LM1098:
 8998 66de 8D45F0   		leal	-16(%ebp), %eax
 8999              	LBE55:
 9000 66e1 FF00     		incl	(%eax)
 9001 66e3 E939FFFF 		jmp	L523
 9001      FF
 9002              	L524:
4753:str_merge.c   ****     }
4754:str_merge.c   **** 
4755:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4756:str_merge.c   **** 
4757:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4758:str_merge.c   **** 
4759:str_merge.c   ****     if (strres_dup->MaxNum > 0)
4760:str_merge.c   ****     {
4761:str_merge.c   ****         if (mmi_res_zip_language[MAX_LANGUAGES] == 1)
4762:str_merge.c   ****         {            
4763:str_merge.c   ****             if(pFile = fopen(ZIP_OUTPUT_FILE, "a"))
4764:str_merge.c   ****             {
4765:str_merge.c   ****                 fprintf(pFile, "StrRes_Dup,%d,%d,%d,Yes\n", res_size[511], reszip_size[511], res_si
4766:str_merge.c   ****                 fclose(pFile);
4767:str_merge.c   ****             }
4768:str_merge.c   ****                         
4769:str_merge.c   ****             StrDeCompressBufGetDupStrResSymbol(strResZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
4770:str_merge.c   **** 
4771:str_merge.c   ****             fprintf(res, "{%s, %d, (void*)NULL, %d, (CUSTOM_STRMAP_SEARCH *)NULL, %d, 0, (U8*)StrRe
4772:str_merge.c   ****                 strResZiSymbol, strres_dup->MaxNum, (U16)((max_total_len >> 16) & 0xFFFF), (U16)(ma
4773:str_merge.c   ****         }
4774:str_merge.c   ****         else
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 252


4775:str_merge.c   ****         {
4776:str_merge.c   ****             fprintf(res, "{(CUSTOM_STRING*)StrRes_Dup, %d, (void*)NULL, %d, (CUSTOM_STRMAP_SEARCH *
4777:str_merge.c   ****                     strres_dup->MaxNum, (U16)((max_total_len >> 16) & 0xFFFF), (U16)(max_total_len 
4778:str_merge.c   ****         }            
4779:str_merge.c   ****     }
4780:str_merge.c   ****     else
4781:str_merge.c   ****     {
4782:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0,
4783:str_merge.c   ****     }
4784:str_merge.c   **** 
4785:str_merge.c   ****     /* fixed string information */
4786:str_merge.c   ****     if(fixed_id.id_count > 0)
4787:str_merge.c   ****     {
4788:str_merge.c   **** 
4789:str_merge.c   ****         StrDeCompressBufGetFixedStrResSymbol(strResZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
4790:str_merge.c   ****         StrDeCompressBufGetFixedStrMapSymbol(strMapZiSymbol, STR_RESOURCE_MAX_SYMBOL_LEN);
4791:str_merge.c   ****         fprintf(res, "{%s, %d, %s, %d, (CUSTOM_STRMAP_SEARCH *)StrMapSearch, %d, %d, (U8*)StrRes_zi
4792:str_merge.c   ****             strResZiSymbol,fixed_result.nTotalStrRes,strMapZiSymbol, fixed_id.id_count, num_map_sea
4793:str_merge.c   ****     }
4794:str_merge.c   ****     else
4795:str_merge.c   ****     {
4796:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0,
4797:str_merge.c   ****     }
4798:str_merge.c   **** #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
4799:str_merge.c   ****     /* duplicate string information */
4800:str_merge.c   ****     if (strres_dup->MaxNum > 0)
 9004              	LM1099:
 9005 66e8 8B4510   		movl	16(%ebp), %eax
 9006 66eb 83780400 		cmpl	$0, 4(%eax)
 9007 66ef 7E34     		jle	L528
4801:str_merge.c   ****     {
4802:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)StrRes_Dup, %d, (void*)NULL, %d, (CUSTOM_STRMAP_SEARCH *)NUL
 9009              	LM1100:
 9010 66f1 0FB74518 		movzwl	24(%ebp), %eax
 9011 66f5 89442410 		movl	%eax, 16(%esp)
 9012 66f9 8B4518   		movl	24(%ebp), %eax
 9013 66fc C1F810   		sarl	$16, %eax
 9014 66ff 0FB7C0   		movzwl	%ax, %eax
 9015 6702 8944240C 		movl	%eax, 12(%esp)
 9016 6706 8B4510   		movl	16(%ebp), %eax
 9017 6709 8B4004   		movl	4(%eax), %eax
 9018 670c 89442408 		movl	%eax, 8(%esp)
 9019 6710 C7442404 		movl	$LC125, 4(%esp)
 9019      40640000 
 9020 6718 8B4508   		movl	8(%ebp), %eax
 9021 671b 890424   		movl	%eax, (%esp)
 9022 671e E8000000 		call	_fprintf
 9022      00
 9023 6723 EB13     		jmp	L529
 9024              	L528:
4803:str_merge.c   ****     }
4804:str_merge.c   ****     else
4805:str_merge.c   ****     {
4806:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0}
 9026              	LM1101:
 9027 6725 C7442404 		movl	$LC126, 4(%esp)
 9027      C0640000 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 253


 9028 672d 8B4508   		movl	8(%ebp), %eax
 9029 6730 890424   		movl	%eax, (%esp)
 9030 6733 E8000000 		call	_fprintf
 9030      00
 9031              	L529:
4807:str_merge.c   ****     }
4808:str_merge.c   **** 
4809:str_merge.c   ****     /* fixed string id information */
4810:str_merge.c   ****     if(fixed_id.id_count > 0)
 9033              	LM1102:
 9034 6738 66833D00 		cmpw	$0, _fixed_id
 9034      00000000 
 9035 6740 7443     		je	L530
4811:str_merge.c   ****     {
4812:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)StrRes_Fixed, %d, (void*)StrMap_Fixed, %d, (CUSTOM_STRMAP_SE
 9037              	LM1103:
 9038 6742 833D0400 		cmpl	$0, _fixed_result+4
 9038      000000
 9039 6749 0F95C0   		setne	%al
 9040 674c 0FB6C0   		movzbl	%al, %eax
 9041 674f 89442414 		movl	%eax, 20(%esp)
 9042 6753 8B4514   		movl	20(%ebp), %eax
 9043 6756 89442410 		movl	%eax, 16(%esp)
 9044 675a 0FB70500 		movzwl	_fixed_id, %eax
 9044      000000
 9045 6761 8944240C 		movl	%eax, 12(%esp)
 9046 6765 0FB70500 		movzwl	_fixed_result, %eax
 9046      000000
 9047 676c 89442408 		movl	%eax, 8(%esp)
 9048 6770 C7442404 		movl	$LC127, 4(%esp)
 9048      20650000 
 9049 6778 8B4508   		movl	8(%ebp), %eax
 9050 677b 890424   		movl	%eax, (%esp)
 9051 677e E8000000 		call	_fprintf
 9051      00
 9052 6783 EB13     		jmp	L531
 9053              	L530:
4813:str_merge.c   ****         fixed_result.nTotalStrRes, fixed_id.id_count, num_map_search, fixed_result.is16bit ? 1 : 0)
4814:str_merge.c   ****     }
4815:str_merge.c   ****     else
4816:str_merge.c   ****     {
4817:str_merge.c   ****         fprintf(res, "{(CUSTOM_STRING*)NULL, 0, (void*)NULL, 0, (CUSTOM_STRMAP_SEARCH *)NULL, 0, 0}
 9055              	LM1104:
 9056 6785 C7442404 		movl	$LC126, 4(%esp)
 9056      C0640000 
 9057 678d 8B4508   		movl	8(%ebp), %eax
 9058 6790 890424   		movl	%eax, (%esp)
 9059 6793 E8000000 		call	_fprintf
 9059      00
 9060              	L531:
4818:str_merge.c   ****     }
4819:str_merge.c   **** #endif /* #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
4820:str_merge.c   ****     
4821:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
4822:str_merge.c   **** 
4823:str_merge.c   ****     fprintf(res, "};\n");
 9062              	LM1105:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 254


 9063 6798 C7442404 		movl	$LC92, 4(%esp)
 9063      6B470000 
 9064 67a0 8B4508   		movl	8(%ebp), %eax
 9065 67a3 890424   		movl	%eax, (%esp)
 9066 67a6 E8000000 		call	_fprintf
 9066      00
4824:str_merge.c   **** 
4825:str_merge.c   **** #ifdef __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4826:str_merge.c   ****     DenitStrDeCompressionBufferCreator();
4827:str_merge.c   **** #endif// __MMI_RESOURCE_STR_ZLIB_COMPRESS__
4828:str_merge.c   **** 
4829:str_merge.c   ****     return MMI_TRUE;
 9068              	LM1106:
 9069 67ab C785DCFE 		movl	$1, -292(%ebp)
 9069      FFFF0100 
 9069      0000
4830:str_merge.c   **** }
 9071              	LM1107:
 9072              	L521:
 9073              	LBE54:
 9074 67b5 8B85DCFE 		movl	-292(%ebp), %eax
 9074      FFFF
 9075 67bb 81C44401 		addl	$324, %esp
 9075      0000
 9076 67c1 5F       		popl	%edi
 9077 67c2 5D       		popl	%ebp
 9078 67c3 C3       		ret
 9089              	Lscope36:
 9091 67c4 90909090 		.align 32
 9091      90909090 
 9091      90909090 
 9091      90909090 
 9091      90909090 
 9092              	LC128:
 9093 67e0 63726561 		.ascii "create hash table fixed->enum_id_tb failed.\12\0"
 9093      74652068 
 9093      61736820 
 9093      7461626C 
 9093      65206669 
 9094 680d 90909090 		.align 32
 9094      90909090 
 9094      90909090 
 9094      90909090 
 9094      909090
 9095              	LC129:
 9096 6820 63726561 		.ascii "create hash table fixed->str_id_tb failed.\12\0"
 9096      74652068 
 9096      61736820 
 9096      7461626C 
 9096      65206669 
 9101              	_init_fixed_id:
4831:str_merge.c   **** 
4832:str_merge.c   **** 
4833:str_merge.c   **** #ifndef __MMI_RESOURCE_ENFB_SUPPORT__
4834:str_merge.c   **** /*****************************************************************************
4835:str_merge.c   ****  * FUNCTION
4836:str_merge.c   ****  *  init_fixed_id
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 255


4837:str_merge.c   ****  * DESCRIPTION
4838:str_merge.c   ****  *  initialize fixed id
4839:str_merge.c   ****  * PARAMETERS
4840:str_merge.c   ****  *  fixed           :[IN/OUT] fixed id will be initialized
4841:str_merge.c   ****  *  table_size    :[IN] hash table size
4842:str_merge.c   ****  * RETURNS
4843:str_merge.c   ****  *   0 if initialize success
4844:str_merge.c   ****  *****************************************************************************/
4845:str_merge.c   **** int init_fixed_id(FixedID *fixed, int table_size)
4846:str_merge.c   **** {
 9103              	LM1108:
 9104 684c 55       		pushl	%ebp
 9105 684d 89E5     		movl	%esp, %ebp
 9106 684f 53       		pushl	%ebx
 9107 6850 83EC14   		subl	$20, %esp
4847:str_merge.c   ****     /*----------------------------------------------------------------*/
4848:str_merge.c   ****     /* Local Variables                                                */
4849:str_merge.c   ****     /*----------------------------------------------------------------*/
4850:str_merge.c   ****     int i = 0;
 9109              	LM1109:
 9110              	LBB56:
 9111 6853 C745F800 		movl	$0, -8(%ebp)
 9111      000000
4851:str_merge.c   ****     
4852:str_merge.c   ****     /*----------------------------------------------------------------*/
4853:str_merge.c   ****     /* Code Body                                                      */
4854:str_merge.c   ****     /*----------------------------------------------------------------*/
4855:str_merge.c   ****     if(fixed == 0)
 9113              	LM1110:
 9114 685a 837D0800 		cmpl	$0, 8(%ebp)
 9115 685e 750C     		jne	L533
4856:str_merge.c   ****     {
4857:str_merge.c   ****         return -1; /* invalid input */
 9117              	LM1111:
 9118 6860 C745F4FF 		movl	$-1, -12(%ebp)
 9118      FFFFFF
 9119 6867 E9E40000 		jmp	L532
 9119      00
 9120              	L533:
4858:str_merge.c   ****     }
4859:str_merge.c   **** 
4860:str_merge.c   ****     memset(fixed, 0, sizeof(FixedID));
 9122              	LM1112:
 9123 686c C7442408 		movl	$16, 8(%esp)
 9123      10000000 
 9124 6874 C7442404 		movl	$0, 4(%esp)
 9124      00000000 
 9125 687c 8B4508   		movl	8(%ebp), %eax
 9126 687f 890424   		movl	%eax, (%esp)
 9127 6882 E8000000 		call	_memset
 9127      00
4861:str_merge.c   **** 
4862:str_merge.c   ****     fixed->fixed_id_flag = (U8*)malloc(sizeof(U8) * MAX_STRING_MAP_SIZE);
 9129              	LM1113:
 9130 6887 8B5D08   		movl	8(%ebp), %ebx
 9131 688a C70424FF 		movl	$65535, (%esp)
 9131      FF0000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 256


 9132 6891 E8000000 		call	_malloc
 9132      00
 9133 6896 894304   		movl	%eax, 4(%ebx)
4863:str_merge.c   ****     if(fixed->fixed_id_flag == 0)
 9135              	LM1114:
 9136 6899 8B4508   		movl	8(%ebp), %eax
 9137 689c 83780400 		cmpl	$0, 4(%eax)
 9138 68a0 750C     		jne	L534
4864:str_merge.c   ****     {
4865:str_merge.c   ****         return -2; /* malloc failed */
 9140              	LM1115:
 9141 68a2 C745F4FE 		movl	$-2, -12(%ebp)
 9141      FFFFFF
 9142 68a9 E9A20000 		jmp	L532
 9142      00
 9143              	L534:
4866:str_merge.c   ****     }
4867:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
 9145              	LM1116:
 9146 68ae C745F800 		movl	$0, -8(%ebp)
 9146      000000
 9147              	L535:
 9148 68b5 817DF8FE 		cmpl	$65534, -8(%ebp)
 9148      FF0000
 9149 68bc 7E02     		jle	L538
 9150 68be EB13     		jmp	L536
 9151              	L538:
4868:str_merge.c   ****         fixed->fixed_id_flag[i] = NO_TRANSLATE_FLAG;
 9153              	LM1117:
 9154 68c0 8B5508   		movl	8(%ebp), %edx
 9155 68c3 8B45F8   		movl	-8(%ebp), %eax
 9156 68c6 034204   		addl	4(%edx), %eax
 9157 68c9 C60001   		movb	$1, (%eax)
 9159              	LM1118:
 9160 68cc 8D45F8   		leal	-8(%ebp), %eax
 9161 68cf FF00     		incl	(%eax)
 9162 68d1 EBE2     		jmp	L535
 9163              	L536:
4869:str_merge.c   **** 
4870:str_merge.c   ****     fixed->enum_id_tb = CreateHashTable(table_size);
 9165              	LM1119:
 9166 68d3 8B5D08   		movl	8(%ebp), %ebx
 9167 68d6 8B450C   		movl	12(%ebp), %eax
 9168 68d9 890424   		movl	%eax, (%esp)
 9169 68dc E86F97FF 		call	_CreateHashTable
 9169      FF
 9170 68e1 894308   		movl	%eax, 8(%ebx)
4871:str_merge.c   ****     if(fixed->enum_id_tb == 0)
 9172              	LM1120:
 9173 68e4 8B4508   		movl	8(%ebp), %eax
 9174 68e7 83780800 		cmpl	$0, 8(%eax)
 9175 68eb 7521     		jne	L539
4872:str_merge.c   ****     {
4873:str_merge.c   ****         fprintf(stderr, "create hash table fixed->enum_id_tb failed.\n");
 9177              	LM1121:
 9178 68ed C7442404 		movl	$LC128, 4(%esp)
 9178      E0670000 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 257


 9179 68f5 A1000000 		movl	__imp___iob, %eax
 9179      00
 9180 68fa 83C040   		addl	$64, %eax
 9181 68fd 890424   		movl	%eax, (%esp)
 9182 6900 E8000000 		call	_fprintf
 9182      00
4874:str_merge.c   ****         return -3;
 9184              	LM1122:
 9185 6905 C745F4FD 		movl	$-3, -12(%ebp)
 9185      FFFFFF
 9186 690c EB42     		jmp	L532
 9187              	L539:
4875:str_merge.c   ****     }
4876:str_merge.c   **** 
4877:str_merge.c   ****     fixed->str_id_tb = CreateHashTable(table_size);
 9189              	LM1123:
 9190 690e 8B5D08   		movl	8(%ebp), %ebx
 9191 6911 8B450C   		movl	12(%ebp), %eax
 9192 6914 890424   		movl	%eax, (%esp)
 9193 6917 E83497FF 		call	_CreateHashTable
 9193      FF
 9194 691c 89430C   		movl	%eax, 12(%ebx)
4878:str_merge.c   ****     if(fixed->str_id_tb == 0)
 9196              	LM1124:
 9197 691f 8B4508   		movl	8(%ebp), %eax
 9198 6922 83780C00 		cmpl	$0, 12(%eax)
 9199 6926 7521     		jne	L540
4879:str_merge.c   ****     {
4880:str_merge.c   ****         fprintf(stderr, "create hash table fixed->str_id_tb failed.\n");
 9201              	LM1125:
 9202 6928 C7442404 		movl	$LC129, 4(%esp)
 9202      20680000 
 9203 6930 A1000000 		movl	__imp___iob, %eax
 9203      00
 9204 6935 83C040   		addl	$64, %eax
 9205 6938 890424   		movl	%eax, (%esp)
 9206 693b E8000000 		call	_fprintf
 9206      00
4881:str_merge.c   ****         return -3;
 9208              	LM1126:
 9209 6940 C745F4FD 		movl	$-3, -12(%ebp)
 9209      FFFFFF
 9210 6947 EB07     		jmp	L532
 9211              	L540:
4882:str_merge.c   ****     }
4883:str_merge.c   **** 
4884:str_merge.c   ****     return 0;
 9213              	LM1127:
 9214 6949 C745F400 		movl	$0, -12(%ebp)
 9214      000000
4885:str_merge.c   **** }
 9216              	LM1128:
 9217              	L532:
 9218              	LBE56:
 9219 6950 8B45F4   		movl	-12(%ebp), %eax
 9220 6953 83C414   		addl	$20, %esp
 9221 6956 5B       		popl	%ebx
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 258


 9222 6957 5D       		popl	%ebp
 9223 6958 C3       		ret
 9227              	Lscope37:
 9233              	_set_fixed_str_flag:
4886:str_merge.c   **** 
4887:str_merge.c   **** 
4888:str_merge.c   **** int set_fixed_str_flag(FixedID *fixed, wchar_t* id)
4889:str_merge.c   **** {
 9235              	LM1129:
 9236 6959 55       		pushl	%ebp
 9237 695a 89E5     		movl	%esp, %ebp
 9238 695c 83EC18   		subl	$24, %esp
4890:str_merge.c   ****     /*----------------------------------------------------------------*/
4891:str_merge.c   ****     /* Local Variables                                                */
4892:str_merge.c   ****     /*----------------------------------------------------------------*/
4893:str_merge.c   ****     StrIDNode *node = 0;
 9240              	LM1130:
 9241              	LBB57:
 9242 695f C745FC00 		movl	$0, -4(%ebp)
 9242      000000
4894:str_merge.c   ****     
4895:str_merge.c   ****     /*----------------------------------------------------------------*/
4896:str_merge.c   ****     /* Code Body                                                      */
4897:str_merge.c   ****     /*----------------------------------------------------------------*/
4898:str_merge.c   ****     if(fixed == 0 || id == 0 || id[0] == '\0')
 9244              	LM1131:
 9245 6966 837D0800 		cmpl	$0, 8(%ebp)
 9246 696a 740F     		je	L543
 9247 696c 837D0C00 		cmpl	$0, 12(%ebp)
 9248 6970 7409     		je	L543
 9249 6972 8B450C   		movl	12(%ebp), %eax
 9250 6975 66833800 		cmpw	$0, (%eax)
 9251 6979 7509     		jne	L542
 9252              	L543:
4899:str_merge.c   ****     {
4900:str_merge.c   ****         return -1; /* invalid input */
 9254              	LM1132:
 9255 697b C745F8FF 		movl	$-1, -8(%ebp)
 9255      FFFFFF
 9256 6982 EB57     		jmp	L541
 9257              	L542:
4901:str_merge.c   ****     }
4902:str_merge.c   **** 
4903:str_merge.c   ****     node = hash_search(fixed->enum_id_tb, id);
 9259              	LM1133:
 9260 6984 8B450C   		movl	12(%ebp), %eax
 9261 6987 89442404 		movl	%eax, 4(%esp)
 9262 698b 8B4508   		movl	8(%ebp), %eax
 9263 698e 8B4008   		movl	8(%eax), %eax
 9264 6991 890424   		movl	%eax, (%esp)
 9265 6994 E82399FF 		call	_hash_search
 9265      FF
 9266 6999 8945FC   		movl	%eax, -4(%ebp)
4904:str_merge.c   ****     if(node != 0)
 9268              	LM1134:
 9269 699c 837DFC00 		cmpl	$0, -4(%ebp)
 9270 69a0 7432     		je	L544
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 259


4905:str_merge.c   ****     {
4906:str_merge.c   ****     	if(fixed->fixed_id_flag[node->id] != TRANSLATE_FLAG)
 9272              	LM1135:
 9273 69a2 8B4D08   		movl	8(%ebp), %ecx
 9274 69a5 8B45FC   		movl	-4(%ebp), %eax
 9275 69a8 0FB75004 		movzwl	4(%eax), %edx
 9276 69ac 8B4104   		movl	4(%ecx), %eax
 9277 69af 803C0202 		cmpb	$2, (%edx,%eax)
 9278 69b3 741F     		je	L544
4907:str_merge.c   ****         {
4908:str_merge.c   ****             ++CurrMaxTransStrId;
 9280              	LM1136:
 9281 69b5 0FB70500 		movzwl	_CurrMaxTransStrId, %eax
 9281      000000
 9282 69bc 40       		incl	%eax
 9283 69bd 66A30000 		movw	%ax, _CurrMaxTransStrId
 9283      0000
4909:str_merge.c   ****             fixed->fixed_id_flag[node->id] = TRANSLATE_FLAG;
 9285              	LM1137:
 9286 69c3 8B4D08   		movl	8(%ebp), %ecx
 9287 69c6 8B45FC   		movl	-4(%ebp), %eax
 9288 69c9 0FB75004 		movzwl	4(%eax), %edx
 9289 69cd 8B4104   		movl	4(%ecx), %eax
 9290 69d0 C6040202 		movb	$2, (%edx,%eax)
 9291              	L544:
4910:str_merge.c   ****         }
4911:str_merge.c   ****     }
4912:str_merge.c   **** 
4913:str_merge.c   ****     return 0;
 9293              	LM1138:
 9294 69d4 C745F800 		movl	$0, -8(%ebp)
 9294      000000
4914:str_merge.c   **** }
 9296              	LM1139:
 9297              	L541:
 9298              	LBE57:
 9299 69db 8B45F8   		movl	-8(%ebp), %eax
 9300 69de C9       		leave
 9301 69df C3       		ret
 9305              	Lscope38:
 9312              	_generate_enum_hash:
4915:str_merge.c   **** 
4916:str_merge.c   **** 
4917:str_merge.c   **** int generate_enum_hash(StrHashTable *table, U8 *isPop, wchar_t *str[])
4918:str_merge.c   **** {
 9314              	LM1140:
 9315 69e0 55       		pushl	%ebp
 9316 69e1 89E5     		movl	%esp, %ebp
 9317 69e3 83EC48   		subl	$72, %esp
4919:str_merge.c   ****     /*----------------------------------------------------------------*/
4920:str_merge.c   ****     /* Local Variables                                                */
4921:str_merge.c   ****     /*----------------------------------------------------------------*/
4922:str_merge.c   ****     int i = 0, ret = 0;
 9319              	LM1141:
 9320              	LBB58:
 9321 69e6 C745F400 		movl	$0, -12(%ebp)
 9321      000000
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 260


 9322 69ed C745F000 		movl	$0, -16(%ebp)
 9322      000000
4923:str_merge.c   ****     StrIDNode node;
4924:str_merge.c   **** 
4925:str_merge.c   ****     /*----------------------------------------------------------------*/
4926:str_merge.c   ****     /* Code Body                                                      */
4927:str_merge.c   ****     /*----------------------------------------------------------------*/
4928:str_merge.c   ****     if(table == 0 || isPop == 0 || str == 0)
 9324              	LM1142:
 9325 69f4 837D0800 		cmpl	$0, 8(%ebp)
 9326 69f8 740C     		je	L548
 9327 69fa 837D0C00 		cmpl	$0, 12(%ebp)
 9328 69fe 7406     		je	L548
 9329 6a00 837D1000 		cmpl	$0, 16(%ebp)
 9330 6a04 7509     		jne	L547
 9331              	L548:
4929:str_merge.c   ****     {
4930:str_merge.c   ****         return -1; /* invalid input */
 9333              	LM1143:
 9334 6a06 C745D4FF 		movl	$-1, -44(%ebp)
 9334      FFFFFF
 9335 6a0d EB70     		jmp	L546
 9336              	L547:
4931:str_merge.c   ****     }
4932:str_merge.c   **** 
4933:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
 9338              	LM1144:
 9339 6a0f C745F400 		movl	$0, -12(%ebp)
 9339      000000
 9340              	L549:
 9341 6a16 817DF4FE 		cmpl	$65534, -12(%ebp)
 9341      FF0000
 9342 6a1d 7E02     		jle	L552
 9343 6a1f EB57     		jmp	L550
 9344              	L552:
4934:str_merge.c   ****     {
4935:str_merge.c   ****         if(isPop[i])
 9346              	LM1145:
 9347 6a21 8B45F4   		movl	-12(%ebp), %eax
 9348 6a24 03450C   		addl	12(%ebp), %eax
 9349 6a27 803800   		cmpb	$0, (%eax)
 9350 6a2a 7445     		je	L551
4936:str_merge.c   ****         {
4937:str_merge.c   ****             node.id = i;
 9352              	LM1146:
 9353 6a2c 8B45F4   		movl	-12(%ebp), %eax
 9354 6a2f 668945DC 		movw	%ax, -36(%ebp)
4938:str_merge.c   ****             node.str = str[i];
 9356              	LM1147:
 9357 6a33 8B45F4   		movl	-12(%ebp), %eax
 9358 6a36 8D148500 		leal	0(,%eax,4), %edx
 9358      000000
 9359 6a3d 8B4510   		movl	16(%ebp), %eax
 9360 6a40 8B0410   		movl	(%eax,%edx), %eax
 9361 6a43 8945D8   		movl	%eax, -40(%ebp)
4939:str_merge.c   ****             node.next = 0;
 9363              	LM1148:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 261


 9364 6a46 C745E000 		movl	$0, -32(%ebp)
 9364      000000
4940:str_merge.c   ****             
4941:str_merge.c   ****             ret = hash_add(table, &node);
 9366              	LM1149:
 9367 6a4d 8D45D8   		leal	-40(%ebp), %eax
 9368 6a50 89442404 		movl	%eax, 4(%esp)
 9369 6a54 8B4508   		movl	8(%ebp), %eax
 9370 6a57 890424   		movl	%eax, (%esp)
 9371 6a5a E8E496FF 		call	_hash_add
 9371      FF
 9372 6a5f 8945F0   		movl	%eax, -16(%ebp)
4942:str_merge.c   ****             if(ret < 0)
 9374              	LM1150:
 9375 6a62 837DF000 		cmpl	$0, -16(%ebp)
 9376 6a66 7909     		jns	L551
4943:str_merge.c   ****             {
4944:str_merge.c   ****                 return -2; /* hash add failed */
 9378              	LM1151:
 9379 6a68 C745D4FE 		movl	$-2, -44(%ebp)
 9379      FFFFFF
 9380 6a6f EB0E     		jmp	L546
 9382              	LM1152:
 9383              	L551:
 9384 6a71 8D45F4   		leal	-12(%ebp), %eax
 9385 6a74 FF00     		incl	(%eax)
 9386 6a76 EB9E     		jmp	L549
 9387              	L550:
4945:str_merge.c   ****             }
4946:str_merge.c   ****         }
4947:str_merge.c   ****     }
4948:str_merge.c   **** 
4949:str_merge.c   ****     return 1;
 9389              	LM1153:
 9390 6a78 C745D401 		movl	$1, -44(%ebp)
 9390      000000
4950:str_merge.c   **** }
 9392              	LM1154:
 9393              	L546:
 9394              	LBE58:
 9395 6a7f 8B45D4   		movl	-44(%ebp), %eax
 9396 6a82 C9       		leave
 9397 6a83 C3       		ret
 9403              	Lscope39:
 9407              	.globl _get_fixed_string_total_len
 9409              	_get_fixed_string_total_len:
4951:str_merge.c   **** 
4952:str_merge.c   **** 
4953:str_merge.c   **** /*****************************************************************************
4954:str_merge.c   ****  * FUNCTION
4955:str_merge.c   ****  *  get_fixed_string_total_len
4956:str_merge.c   ****  * DESCRIPTION
4957:str_merge.c   ****  *  get the total length of fixed string
4958:str_merge.c   ****  * PARAMETERS
4959:str_merge.c   ****  *  void
4960:str_merge.c   ****  * RETURNS
4961:str_merge.c   ****  *   length of all the fixed string
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 262


4962:str_merge.c   ****  *****************************************************************************/
4963:str_merge.c   **** int get_fixed_string_total_len(FixedID *fixed)
4964:str_merge.c   **** {
 9411              	LM1155:
 9412 6a84 55       		pushl	%ebp
 9413 6a85 89E5     		movl	%esp, %ebp
 9414 6a87 83EC18   		subl	$24, %esp
4965:str_merge.c   ****     /*----------------------------------------------------------------*/
4966:str_merge.c   ****     /* Local Variables                                                */
4967:str_merge.c   ****     /*----------------------------------------------------------------*/
4968:str_merge.c   ****     int i = 0, len = 0;
 9416              	LM1156:
 9417              	LBB59:
 9418 6a8a C745FC00 		movl	$0, -4(%ebp)
 9418      000000
 9419 6a91 C745F800 		movl	$0, -8(%ebp)
 9419      000000
4969:str_merge.c   ****     
4970:str_merge.c   ****     /*----------------------------------------------------------------*/
4971:str_merge.c   ****     /* Code Body                                                      */
4972:str_merge.c   ****     /*----------------------------------------------------------------*/
4973:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
 9421              	LM1157:
 9422 6a98 C745FC00 		movl	$0, -4(%ebp)
 9422      000000
 9423              	L556:
 9424 6a9f 817DFCFE 		cmpl	$65534, -4(%ebp)
 9424      FF0000
 9425 6aa6 7E02     		jle	L559
 9426 6aa8 EB5C     		jmp	L557
 9427              	L559:
4974:str_merge.c   ****     {
4975:str_merge.c   ****         if(StrIsPopulate[i] && fixed->fixed_id_flag[i] == NO_TRANSLATE_FLAG)
 9429              	LM1158:
 9430 6aaa 8B45FC   		movl	-4(%ebp), %eax
 9431 6aad 05000000 		addl	$_StrIsPopulate, %eax
 9431      00
 9432 6ab2 803800   		cmpb	$0, (%eax)
 9433 6ab5 7448     		je	L558
 9434 6ab7 8B4508   		movl	8(%ebp), %eax
 9435 6aba 8B55FC   		movl	-4(%ebp), %edx
 9436 6abd 8B4004   		movl	4(%eax), %eax
 9437 6ac0 01D0     		addl	%edx, %eax
 9438 6ac2 803801   		cmpb	$1, (%eax)
 9439 6ac5 7538     		jne	L558
4976:str_merge.c   ****         {
4977:str_merge.c   ****             if(Str[i][0] != '\0')
 9441              	LM1159:
 9442 6ac7 8B45FC   		movl	-4(%ebp), %eax
 9443 6aca 8B048500 		movl	_Str(,%eax,4), %eax
 9443      000000
 9444 6ad1 803800   		cmpb	$0, (%eax)
 9445 6ad4 7429     		je	L558
4978:str_merge.c   ****             {
4979:str_merge.c   ****                 int l = wcslen((wchar_t*)Str[i]);
 9447              	LM1160:
 9448              	LBB60:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 263


 9449 6ad6 8B45FC   		movl	-4(%ebp), %eax
 9450 6ad9 8B048500 		movl	_Str(,%eax,4), %eax
 9450      000000
 9451 6ae0 890424   		movl	%eax, (%esp)
 9452 6ae3 E8000000 		call	_wcslen
 9452      00
 9453 6ae8 8945F4   		movl	%eax, -12(%ebp)
4980:str_merge.c   ****                 if(l > 0)
 9455              	LM1161:
 9456 6aeb 837DF400 		cmpl	$0, -12(%ebp)
 9457 6aef 7E0E     		jle	L558
4981:str_merge.c   ****                 {
4982:str_merge.c   ****                     len += (l + 1)*2;
 9459              	LM1162:
 9460 6af1 8B45F4   		movl	-12(%ebp), %eax
 9461 6af4 01C0     		addl	%eax, %eax
 9462 6af6 0345F8   		addl	-8(%ebp), %eax
 9463 6af9 83C002   		addl	$2, %eax
 9464 6afc 8945F8   		movl	%eax, -8(%ebp)
 9466              	LM1163:
 9467              	L558:
 9468 6aff 8D45FC   		leal	-4(%ebp), %eax
 9469              	LBE60:
 9470 6b02 FF00     		incl	(%eax)
 9471 6b04 EB99     		jmp	L556
 9472              	L557:
4983:str_merge.c   ****                 }
4984:str_merge.c   ****             }
4985:str_merge.c   ****         }
4986:str_merge.c   ****     }
4987:str_merge.c   **** 
4988:str_merge.c   ****     return len;
 9474              	LM1164:
 9475 6b06 8B45F8   		movl	-8(%ebp), %eax
4989:str_merge.c   **** }
 9477              	LM1165:
 9478 6b09 C9       		leave
 9479 6b0a C3       		ret
 9480              	LBE59:
 9488              	Lscope40:
 9490 6b0b 90909090 		.align 32
 9490      90909090 
 9490      90909090 
 9490      90909090 
 9490      90909090 
 9491              	LC130:
 9492 6b20 2A2A2A2A 		.ascii "********start run generate_fixed_str1************\12\0"
 9492      2A2A2A2A 
 9492      73746172 
 9492      74207275 
 9492      6E206765 
 9493 6b53 8DB60000 		.align 32
 9493      00008DBC 
 9493      27000000 
 9493      00
 9494              	LC131:
 9495 6b60 2A2A2A2A 		.ascii "********start run generate_fixed_str2************\12\0"
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 264


 9495      2A2A2A2A 
 9495      73746172 
 9495      74207275 
 9495      6E206765 
 9496 6b93 8DB60000 		.align 32
 9496      00008DBC 
 9496      27000000 
 9496      00
 9497              	LC132:
 9498 6ba0 2E2E5C2E 		.ascii "..\\..\\Customer\\ResGenerator\\debug\\no_translate_string.txt\0"
 9498      2E5C4375 
 9498      73746F6D 
 9498      65725C52 
 9498      65734765 
 9499 6bda 8DB60000 		.align 32
 9499      0000
 9500              	LC133:
 9501 6be0 6F70656E 		.ascii "open ResGenerator\\debug\\fixed_string.txt failed!\0"
 9501      20526573 
 9501      47656E65 
 9501      7261746F 
 9501      725C6465 
 9502 6c11 EB0D9090 		.align 32
 9502      90909090 
 9502      90909090 
 9502      909090
 9503              	LC134:
 9504 6c20 4552524F 		.ascii "ERROR:open ResGenerator\\debug\\fixed_string.txt failed!!\12\0"
 9504      523A6F70 
 9504      656E2052 
 9504      65734765 
 9504      6E657261 
 9505 6c59 8DB42600 		.align 32
 9505      000000
 9506              	LC135:
 9507 6c60 454E554D 		.ascii "ENUM_ID\11ID_VALUE\11ID_STR\11STR LENGTH\11duplicate ID\12\0"
 9507      5F494409 
 9507      49445F56 
 9507      414C5545 
 9507      0949445F 
 9508 6c91 EB0D9090 		.align 32
 9508      90909090 
 9508      90909090 
 9508      909090
 9509              	LC136:
 9510 6ca0 5F5F616C 		.ascii "__align(4) const CUSTOM_STRING StrRes_Fixed[] = {\12\0"
 9510      69676E28 
 9510      34292063 
 9510      6F6E7374 
 9510      20435553 
 9511              	LC137:
 9512 6cd3 4C414E47 		.ascii "LANG: FIXED\12\0"
 9512      3A204649 
 9512      5845440A 
 9512      00
 9513              		.align 32
 9514              	LC138:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 265


 9515 6ce0 44415441 		.ascii "DATA:\12__align(4) const CUSTOM_STRING StrRes_Fixed[] = {\12\0"
 9515      3A0A5F5F 
 9515      616C6967 
 9515      6E283429 
 9515      20636F6E 
 9516 6d19 8DB42600 		.align 32
 9516      000000
 9517              	LC139:
 9518 6d20 636F6E73 		.ascii "const CUSTOM_STRING_MAP_16 StrMap_Fixed[] = {\12\0"
 9518      74204355 
 9518      53544F4D 
 9518      5F535452 
 9518      494E475F 
 9519 6d4f 90909090 		.align 32
 9519      90909090 
 9519      90909090 
 9519      90909090 
 9519      90
 9520              	LC140:
 9521 6d60 636F6E73 		.ascii "const CUSTOM_STRING_MAP StrMap_Fixed[] = {\12\0"
 9521      74204355 
 9521      53544F4D 
 9521      5F535452 
 9521      494E475F 
 9522              	LC141:
 9523 6d8c 7D3B0A0A 		.ascii "};\12\12\0"
 9523      00
 9524 6d91 EB0D9090 		.align 32
 9524      90909090 
 9524      90909090 
 9524      909090
 9525              	LC142:
 9526 6da0 65787465 		.ascii "extern const CUSTOM_STRING_MAP_16 StrMap_Fixed[];\12\0"
 9526      726E2063 
 9526      6F6E7374 
 9526      20435553 
 9526      544F4D5F 
 9527 6dd3 8DB60000 		.align 32
 9527      00008DBC 
 9527      27000000 
 9527      00
 9528              	LC143:
 9529 6de0 65787465 		.ascii "extern const CUSTOM_STRING_MAP StrMap_Fixed[];\12\0"
 9529      726E2063 
 9529      6F6E7374 
 9529      20435553 
 9529      544F4D5F 
 9537              	_generate_fixed_str:
4990:str_merge.c   **** 
4991:str_merge.c   **** 
4992:str_merge.c   **** /*****************************************************************************
4993:str_merge.c   ****  * FUNCTION
4994:str_merge.c   ****  *  generate_fixed_str
4995:str_merge.c   ****  * DESCRIPTION
4996:str_merge.c   ****  *  fixed string id populate function
4997:str_merge.c   ****  * PARAMETERS
4998:str_merge.c   ****  *  res      :[IN] CustStrRes.c file handle
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 266


4999:str_merge.c   ****  *  map    :[IN] CustStrMap.c file handle
5000:str_merge.c   ****  *  fixed    :[IN] fixed string id information
5001:str_merge.c   ****  * RETURNS
5002:str_merge.c   ****  *  Return 1 on success, return -1 if input is invalid, return-2 if malloc faileds
5003:str_merge.c   ****  *****************************************************************************/
5004:str_merge.c   **** static int generate_fixed_str(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta ,FixedID *fixed)
5005:str_merge.c   **** {
 9539              	LM1166:
 9540 6e10 55       		pushl	%ebp
 9541 6e11 89E5     		movl	%esp, %ebp
 9542 6e13 83EC68   		subl	$104, %esp
5006:str_merge.c   ****     /*----------------------------------------------------------------*/
5007:str_merge.c   ****     /* Local Variables                                                */
5008:str_merge.c   ****     /*----------------------------------------------------------------*/
5009:str_merge.c   ****     U16 did = 0;
 9544              	LM1167:
 9545              	LBB61:
 9546 6e16 66C745F6 		movw	$0, -10(%ebp)
 9546      0000
5010:str_merge.c   ****     int i = 0, total_len = 0;
 9548              	LM1168:
 9549 6e1c C745F000 		movl	$0, -16(%ebp)
 9549      000000
 9550 6e23 C745EC00 		movl	$0, -20(%ebp)
 9550      000000
5011:str_merge.c   ****     FILE *log = 0;
 9552              	LM1169:
 9553 6e2a C745E800 		movl	$0, -24(%ebp)
 9553      000000
5012:str_merge.c   ****     int str_count = 0; /* total string count */
 9555              	LM1170:
 9556 6e31 C745E400 		movl	$0, -28(%ebp)
 9556      000000
5013:str_merge.c   ****     int *offset = 0; /* offset array for each ID */
 9558              	LM1171:
 9559 6e38 C745E000 		movl	$0, -32(%ebp)
 9559      000000
5014:str_merge.c   ****     int curr_pos = 2; /* current max offset value */
 9561              	LM1172:
 9562 6e3f C745DC02 		movl	$2, -36(%ebp)
 9562      000000
5015:str_merge.c   ****     StrIDNode *node = 0, tmp;
 9564              	LM1173:
 9565 6e46 C745D800 		movl	$0, -40(%ebp)
 9565      000000
5016:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5017:str_merge.c   ****     U8 *data = 0, *p = 0;
5018:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5019:str_merge.c   **** 
5020:str_merge.c   ****     /*----------------------------------------------------------------*/
5021:str_merge.c   ****     /* Code Body                                                      */
5022:str_merge.c   ****     /*----------------------------------------------------------------*/
5023:str_merge.c   ****     fprintf(stderr, "********start run generate_fixed_str1************\n");
 9567              	LM1174:
 9568 6e4d C7442404 		movl	$LC130, 4(%esp)
 9568      206B0000 
 9569 6e55 A1000000 		movl	__imp___iob, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 267


 9569      00
 9570 6e5a 83C040   		addl	$64, %eax
 9571 6e5d 890424   		movl	%eax, (%esp)
 9572 6e60 E8000000 		call	_fprintf
 9572      00
5024:str_merge.c   ****     if(res == 0 || map == 0 || resMeta==0 || fixed == 0 || mapMeta ==0 || fixed->enum_id_tb == 0 ||
 9574              	LM1175:
 9575 6e65 837D0800 		cmpl	$0, 8(%ebp)
 9576 6e69 742A     		je	L565
 9577 6e6b 837D0C00 		cmpl	$0, 12(%ebp)
 9578 6e6f 7424     		je	L565
 9579 6e71 837D1000 		cmpl	$0, 16(%ebp)
 9580 6e75 741E     		je	L565
 9581 6e77 837D1800 		cmpl	$0, 24(%ebp)
 9582 6e7b 7418     		je	L565
 9583 6e7d 837D1400 		cmpl	$0, 20(%ebp)
 9584 6e81 7412     		je	L565
 9585 6e83 8B4518   		movl	24(%ebp), %eax
 9586 6e86 83780800 		cmpl	$0, 8(%eax)
 9587 6e8a 7409     		je	L565
 9588 6e8c 8B4518   		movl	24(%ebp), %eax
 9589 6e8f 83780C00 		cmpl	$0, 12(%eax)
 9590 6e93 750C     		jne	L564
 9591              	L565:
5025:str_merge.c   ****     {
5026:str_merge.c   ****         return -1; /* invalid input */
 9593              	LM1176:
 9594 6e95 C745C4FF 		movl	$-1, -60(%ebp)
 9594      FFFFFF
 9595 6e9c E92B0500 		jmp	L563
 9595      00
 9596              	L564:
5027:str_merge.c   ****     }
5028:str_merge.c   ****     fprintf(stderr, "********start run generate_fixed_str2************\n");
 9598              	LM1177:
 9599 6ea1 C7442404 		movl	$LC131, 4(%esp)
 9599      606B0000 
 9600 6ea9 A1000000 		movl	__imp___iob, %eax
 9600      00
 9601 6eae 83C040   		addl	$64, %eax
 9602 6eb1 890424   		movl	%eax, (%esp)
 9603 6eb4 E8000000 		call	_fprintf
 9603      00
5029:str_merge.c   **** 
5030:str_merge.c   ****     /* get the total length of fixed string id */
5031:str_merge.c   ****     total_len = get_fixed_string_total_len(fixed);
 9605              	LM1178:
 9606 6eb9 8B4518   		movl	24(%ebp), %eax
 9607 6ebc 890424   		movl	%eax, (%esp)
 9608 6ebf E8C0FBFF 		call	_get_fixed_string_total_len
 9608      FF
 9609 6ec4 8945EC   		movl	%eax, -20(%ebp)
5032:str_merge.c   ****     if(total_len/2 > 0xFFFF)
 9611              	LM1179:
 9612 6ec7 8B55EC   		movl	-20(%ebp), %edx
 9613 6eca 89D0     		movl	%edx, %eax
 9614 6ecc C1F81F   		sarl	$31, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 268


 9615 6ecf C1E81F   		shrl	$31, %eax
 9616 6ed2 8D0410   		leal	(%eax,%edx), %eax
 9617 6ed5 D1F8     		sarl	%eax
 9618 6ed7 3DFFFF00 		cmpl	$65535, %eax
 9618      00
 9619 6edc 7E0C     		jle	L566
5033:str_merge.c   ****     {
5034:str_merge.c   ****         fixed_result.is16bit = MMI_FALSE;
 9621              	LM1180:
 9622 6ede C7050400 		movl	$0, _fixed_result+4
 9622      00000000 
 9622      0000
 9623 6ee8 EB0A     		jmp	L567
 9624              	L566:
5035:str_merge.c   ****     }
5036:str_merge.c   ****     else
5037:str_merge.c   ****     {
5038:str_merge.c   ****         fixed_result.is16bit = MMI_TRUE;
 9626              	LM1181:
 9627 6eea C7050400 		movl	$1, _fixed_result+4
 9627      00000100 
 9627      0000
 9628              	L567:
5039:str_merge.c   ****     }
5040:str_merge.c   **** 
5041:str_merge.c   ****     /* open log file */
5042:str_merge.c   ****     log = fopen(FIXED_STRING_LOG, "w");
 9630              	LM1182:
 9631 6ef4 C7442404 		movl	$LC26, 4(%esp)
 9631      9F150000 
 9632 6efc C70424A0 		movl	$LC132, (%esp)
 9632      6B0000
 9633 6f03 E8000000 		call	_fopen
 9633      00
 9634 6f08 8945E8   		movl	%eax, -24(%ebp)
5043:str_merge.c   ****     if(log == NULL)
 9636              	LM1183:
 9637 6f0b 837DE800 		cmpl	$0, -24(%ebp)
 9638 6f0f 7536     		jne	L568
5044:str_merge.c   ****     {
5045:str_merge.c   ****         STRMERG_LOG_E("open ResGenerator\\debug\\fixed_string.txt failed!");
 9640              	LM1184:
 9641 6f11 C7442408 		movl	$LC133, 8(%esp)
 9641      E06B0000 
 9642 6f19 C7442404 		movl	$LC3, 4(%esp)
 9642      4B040000 
 9643 6f21 C7042403 		movl	$3, (%esp)
 9643      000000
 9644 6f28 E8000000 		call	_reslog_adaptor_log
 9644      00
5046:str_merge.c   ****         fprintf(stderr, "ERROR:open ResGenerator\\debug\\fixed_string.txt failed!!\n");
 9646              	LM1185:
 9647 6f2d C7442404 		movl	$LC134, 4(%esp)
 9647      206C0000 
 9648 6f35 A1000000 		movl	__imp___iob, %eax
 9648      00
 9649 6f3a 83C040   		addl	$64, %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 269


 9650 6f3d 890424   		movl	%eax, (%esp)
 9651 6f40 E8000000 		call	_fprintf
 9651      00
 9652 6f45 EB13     		jmp	L569
 9653              	L568:
5047:str_merge.c   ****     }
5048:str_merge.c   ****     else
5049:str_merge.c   ****     {
5050:str_merge.c   ****         fprintf(log, "ENUM_ID\tID_VALUE\tID_STR\tSTR LENGTH\tduplicate ID\n");
 9655              	LM1186:
 9656 6f47 C7442404 		movl	$LC135, 4(%esp)
 9656      606C0000 
 9657 6f4f 8B45E8   		movl	-24(%ebp), %eax
 9658 6f52 890424   		movl	%eax, (%esp)
 9659 6f55 E8000000 		call	_fprintf
 9659      00
 9660              	L569:
5051:str_merge.c   ****     }
5052:str_merge.c   ****     
5053:str_merge.c   ****     /* initialize offset */
5054:str_merge.c   ****     offset = (int*)malloc(sizeof(int) * MAX_STRING_MAP_SIZE);
 9662              	LM1187:
 9663 6f5a C70424FC 		movl	$262140, (%esp)
 9663      FF0300
 9664 6f61 E8000000 		call	_malloc
 9664      00
 9665 6f66 8945E0   		movl	%eax, -32(%ebp)
5055:str_merge.c   ****     if(offset == 0)
 9667              	LM1188:
 9668 6f69 837DE000 		cmpl	$0, -32(%ebp)
 9669 6f6d 7517     		jne	L570
5056:str_merge.c   ****     {
5057:str_merge.c   ****         fclose(log);
 9671              	LM1189:
 9672 6f6f 8B45E8   		movl	-24(%ebp), %eax
 9673 6f72 890424   		movl	%eax, (%esp)
 9674 6f75 E8000000 		call	_fclose
 9674      00
5058:str_merge.c   ****         return -2; /* malloc memory failed */
 9676              	LM1190:
 9677 6f7a C745C4FE 		movl	$-2, -60(%ebp)
 9677      FFFFFF
 9678 6f81 E9460400 		jmp	L563
 9678      00
 9679              	L570:
5059:str_merge.c   ****     }
5060:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
 9681              	LM1191:
 9682 6f86 C745F000 		movl	$0, -16(%ebp)
 9682      000000
 9683              	L571:
 9684 6f8d 817DF0FE 		cmpl	$65534, -16(%ebp)
 9684      FF0000
 9685 6f94 7E02     		jle	L574
 9686 6f96 EB1B     		jmp	L572
 9687              	L574:
5061:str_merge.c   ****     {
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 270


5062:str_merge.c   ****         offset[i] = -1;
 9689              	LM1192:
 9690 6f98 8B45F0   		movl	-16(%ebp), %eax
 9691 6f9b 8D148500 		leal	0(,%eax,4), %edx
 9691      000000
 9692 6fa2 8B45E0   		movl	-32(%ebp), %eax
 9693 6fa5 C70410FF 		movl	$-1, (%eax,%edx)
 9693      FFFFFF
 9695              	LM1193:
 9696 6fac 8D45F0   		leal	-16(%ebp), %eax
 9697 6faf FF00     		incl	(%eax)
 9698 6fb1 EBDA     		jmp	L571
 9699              	L572:
5063:str_merge.c   ****     }
5064:str_merge.c   ****     
5065:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5066:str_merge.c   ****     data = (U8*)malloc((total_len + 4) * sizeof(U8));
5067:str_merge.c   ****     if(data == 0)
5068:str_merge.c   ****     {
5069:str_merge.c   ****         fclose(log);
5070:str_merge.c   ****         free(offset);
5071:str_merge.c   ****         return -2; 
5072:str_merge.c   ****     }
5073:str_merge.c   ****     data[0] = '\0';
5074:str_merge.c   ****     data[1] = '\0';
5075:str_merge.c   ****     p = data + 2;
5076:str_merge.c   **** #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5077:str_merge.c   ****     /* write the head of the data and map array */
5078:str_merge.c   ****     fprintf(res, "__align(4) const CUSTOM_STRING StrRes_Fixed[] = {\n");
 9701              	LM1194:
 9702 6fb3 C7442404 		movl	$LC136, 4(%esp)
 9702      A06C0000 
 9703 6fbb 8B4508   		movl	8(%ebp), %eax
 9704 6fbe 890424   		movl	%eax, (%esp)
 9705 6fc1 E8000000 		call	_fprintf
 9705      00
5079:str_merge.c   ****     fprintf(res, "0x00, 0x00,\n");
 9707              	LM1195:
 9708 6fc6 C7442404 		movl	$LC90, 4(%esp)
 9708      57470000 
 9709 6fce 8B4508   		movl	8(%ebp), %eax
 9710 6fd1 890424   		movl	%eax, (%esp)
 9711 6fd4 E8000000 		call	_fprintf
 9711      00
5080:str_merge.c   ****     
5081:str_merge.c   ****     
5082:str_merge.c   ****     /* output language map meta file*/
5083:str_merge.c   ****     fprintf(resMeta, "########################################################\n");
 9713              	LM1196:
 9714 6fd9 C7442404 		movl	$LC84, 4(%esp)
 9714      A0460000 
 9715 6fe1 8B4510   		movl	16(%ebp), %eax
 9716 6fe4 890424   		movl	%eax, (%esp)
 9717 6fe7 E8000000 		call	_fprintf
 9717      00
5084:str_merge.c   ****     fprintf(resMeta, "TYPE: RES\n");    
 9719              	LM1197:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 271


 9720 6fec C7442404 		movl	$LC85, 4(%esp)
 9720      DA460000 
 9721 6ff4 8B4510   		movl	16(%ebp), %eax
 9722 6ff7 890424   		movl	%eax, (%esp)
 9723 6ffa E8000000 		call	_fprintf
 9723      00
5085:str_merge.c   ****     fprintf(resMeta, "LANG: FIXED\n"); 
 9725              	LM1198:
 9726 6fff C7442404 		movl	$LC137, 4(%esp)
 9726      D36C0000 
 9727 7007 8B4510   		movl	16(%ebp), %eax
 9728 700a 890424   		movl	%eax, (%esp)
 9729 700d E8000000 		call	_fprintf
 9729      00
5086:str_merge.c   ****     fprintf(resMeta, "DATA:\n__align(4) const CUSTOM_STRING StrRes_Fixed[] = {\n");
 9731              	LM1199:
 9732 7012 C7442404 		movl	$LC138, 4(%esp)
 9732      E06C0000 
 9733 701a 8B4510   		movl	16(%ebp), %eax
 9734 701d 890424   		movl	%eax, (%esp)
 9735 7020 E8000000 		call	_fprintf
 9735      00
5087:str_merge.c   ****     fprintf(resMeta, "0x00, 0x00,\n");
 9737              	LM1200:
 9738 7025 C7442404 		movl	$LC90, 4(%esp)
 9738      57470000 
 9739 702d 8B4510   		movl	16(%ebp), %eax
 9740 7030 890424   		movl	%eax, (%esp)
 9741 7033 E8000000 		call	_fprintf
 9741      00
5088:str_merge.c   ****     
5089:str_merge.c   ****     fprintf(mapMeta, "########################################################\n");
 9743              	LM1201:
 9744 7038 C7442404 		movl	$LC84, 4(%esp)
 9744      A0460000 
 9745 7040 8B4514   		movl	20(%ebp), %eax
 9746 7043 890424   		movl	%eax, (%esp)
 9747 7046 E8000000 		call	_fprintf
 9747      00
5090:str_merge.c   ****     fprintf(mapMeta, "TYPE: MAP\n");
 9749              	LM1202:
 9750 704b C7442404 		movl	$LC100, 4(%esp)
 9750      21490000 
 9751 7053 8B4514   		movl	20(%ebp), %eax
 9752 7056 890424   		movl	%eax, (%esp)
 9753 7059 E8000000 		call	_fprintf
 9753      00
5091:str_merge.c   ****     fprintf(mapMeta, "LANG: FIXED\n");
 9755              	LM1203:
 9756 705e C7442404 		movl	$LC137, 4(%esp)
 9756      D36C0000 
 9757 7066 8B4514   		movl	20(%ebp), %eax
 9758 7069 890424   		movl	%eax, (%esp)
 9759 706c E8000000 		call	_fprintf
 9759      00
5092:str_merge.c   ****     if(fixed_result.is16bit)
 9761              	LM1204:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 272


 9762 7071 833D0400 		cmpl	$0, _fixed_result+4
 9762      000000
 9763 7078 744E     		je	L575
5093:str_merge.c   ****     {
5094:str_merge.c   ****         fprintf(map, "const CUSTOM_STRING_MAP_16 StrMap_Fixed[] = {\n");
 9765              	LM1205:
 9766 707a C7442404 		movl	$LC139, 4(%esp)
 9766      206D0000 
 9767 7082 8B450C   		movl	12(%ebp), %eax
 9768 7085 890424   		movl	%eax, (%esp)
 9769 7088 E8000000 		call	_fprintf
 9769      00
5095:str_merge.c   ****         fprintf(mapMeta, "BIT_MODE: 16\n");
 9771              	LM1206:
 9772 708d C7442404 		movl	$LC102, 4(%esp)
 9772      77490000 
 9773 7095 8B4514   		movl	20(%ebp), %eax
 9774 7098 890424   		movl	%eax, (%esp)
 9775 709b E8000000 		call	_fprintf
 9775      00
5096:str_merge.c   ****         fprintf(mapMeta, "DATA:\n");
 9777              	LM1207:
 9778 70a0 C7442404 		movl	$LC99, 4(%esp)
 9778      1A490000 
 9779 70a8 8B4514   		movl	20(%ebp), %eax
 9780 70ab 890424   		movl	%eax, (%esp)
 9781 70ae E8000000 		call	_fprintf
 9781      00
5097:str_merge.c   ****         fprintf(mapMeta, "const CUSTOM_STRING_MAP_16 StrMap_Fixed[] = {\n");
 9783              	LM1208:
 9784 70b3 C7442404 		movl	$LC139, 4(%esp)
 9784      206D0000 
 9785 70bb 8B4514   		movl	20(%ebp), %eax
 9786 70be 890424   		movl	%eax, (%esp)
 9787 70c1 E8000000 		call	_fprintf
 9787      00
 9788 70c6 EB4C     		jmp	L576
 9789              	L575:
5098:str_merge.c   ****     }
5099:str_merge.c   ****     else
5100:str_merge.c   ****     {
5101:str_merge.c   ****         fprintf(map, "const CUSTOM_STRING_MAP StrMap_Fixed[] = {\n");
 9791              	LM1209:
 9792 70c8 C7442404 		movl	$LC140, 4(%esp)
 9792      606D0000 
 9793 70d0 8B450C   		movl	12(%ebp), %eax
 9794 70d3 890424   		movl	%eax, (%esp)
 9795 70d6 E8000000 		call	_fprintf
 9795      00
5102:str_merge.c   ****         fprintf(mapMeta, "BIT_MODE: 32\n");
 9797              	LM1210:
 9798 70db C7442404 		movl	$LC104, 4(%esp)
 9798      C9490000 
 9799 70e3 8B4514   		movl	20(%ebp), %eax
 9800 70e6 890424   		movl	%eax, (%esp)
 9801 70e9 E8000000 		call	_fprintf
 9801      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 273


5103:str_merge.c   ****         fprintf(mapMeta, "DATA:\n");
 9803              	LM1211:
 9804 70ee C7442404 		movl	$LC99, 4(%esp)
 9804      1A490000 
 9805 70f6 8B4514   		movl	20(%ebp), %eax
 9806 70f9 890424   		movl	%eax, (%esp)
 9807 70fc E8000000 		call	_fprintf
 9807      00
5104:str_merge.c   ****         fprintf(mapMeta, "const CUSTOM_STRING_MAP StrMap_Fixed[] = {\n");
 9809              	LM1212:
 9810 7101 C7442404 		movl	$LC140, 4(%esp)
 9810      606D0000 
 9811 7109 8B4514   		movl	20(%ebp), %eax
 9812 710c 890424   		movl	%eax, (%esp)
 9813 710f E8000000 		call	_fprintf
 9813      00
 9814              	L576:
5105:str_merge.c   ****     }
5106:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5107:str_merge.c   **** 
5108:str_merge.c   ****     for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
 9816              	LM1213:
 9817 7114 C745F000 		movl	$0, -16(%ebp)
 9817      000000
 9818              	L577:
 9819 711b 817DF0FE 		cmpl	$65534, -16(%ebp)
 9819      FF0000
 9820 7122 7E05     		jle	L580
 9821 7124 E9AF0100 		jmp	L578
 9821      00
 9822              	L580:
5109:str_merge.c   ****     {
5110:str_merge.c   ****         if(StrIsPopulate[i] && fixed->fixed_id_flag[i] == NO_TRANSLATE_FLAG)
 9824              	LM1214:
 9825 7129 8B45F0   		movl	-16(%ebp), %eax
 9826 712c 05000000 		addl	$_StrIsPopulate, %eax
 9826      00
 9827 7131 803800   		cmpb	$0, (%eax)
 9828 7134 0F849401 		je	L579
 9828      0000
 9829 713a 8B4518   		movl	24(%ebp), %eax
 9830 713d 8B55F0   		movl	-16(%ebp), %edx
 9831 7140 8B4004   		movl	4(%eax), %eax
 9832 7143 01D0     		addl	%edx, %eax
 9833 7145 803801   		cmpb	$1, (%eax)
 9834 7148 0F858001 		jne	L579
 9834      0000
5111:str_merge.c   ****         {
5112:str_merge.c   ****             fixed->id_count += 1;
 9836              	LM1215:
 9837 714e 8B5518   		movl	24(%ebp), %edx
 9838 7151 8B4518   		movl	24(%ebp), %eax
 9839 7154 0FB700   		movzwl	(%eax), %eax
 9840 7157 40       		incl	%eax
 9841 7158 668902   		movw	%ax, (%edx)
5113:str_merge.c   ****             node = hash_search(fixed->str_id_tb, Str[i]);
 9843              	LM1216:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 274


 9844 715b 8B45F0   		movl	-16(%ebp), %eax
 9845 715e 8B048500 		movl	_Str(,%eax,4), %eax
 9845      000000
 9846 7165 89442404 		movl	%eax, 4(%esp)
 9847 7169 8B4518   		movl	24(%ebp), %eax
 9848 716c 8B400C   		movl	12(%eax), %eax
 9849 716f 890424   		movl	%eax, (%esp)
 9850 7172 E84591FF 		call	_hash_search
 9850      FF
 9851 7177 8945D8   		movl	%eax, -40(%ebp)
5114:str_merge.c   ****             if(node == 0)
 9853              	LM1217:
 9854 717a 837DD800 		cmpl	$0, -40(%ebp)
 9855 717e 0F85D800 		jne	L582
 9855      0000
5115:str_merge.c   ****             {        
5116:str_merge.c   ****                 if(Str[i][0] != '\0') /* string has default value */
 9857              	LM1218:
 9858 7184 8B45F0   		movl	-16(%ebp), %eax
 9859 7187 8B048500 		movl	_Str(,%eax,4), %eax
 9859      000000
 9860 718e 803800   		cmpb	$0, (%eax)
 9861 7191 0F848D00 		je	L583
 9861      0000
5117:str_merge.c   ****                 {
5118:str_merge.c   ****                     //str_count++;
5119:str_merge.c   ****                     fixed_result.nTotalStrRes += 1;
 9863              	LM1219:
 9864 7197 0FB70500 		movzwl	_fixed_result, %eax
 9864      000000
 9865 719e 40       		incl	%eax
 9866 719f 66A30000 		movw	%ax, _fixed_result
 9866      0000
5120:str_merge.c   **** 
5121:str_merge.c   ****                     /* initialize node */
5122:str_merge.c   ****                     tmp.str = Str[i];
 9868              	LM1220:
 9869 71a5 8B45F0   		movl	-16(%ebp), %eax
 9870 71a8 8B048500 		movl	_Str(,%eax,4), %eax
 9870      000000
 9871 71af 8945C8   		movl	%eax, -56(%ebp)
5123:str_merge.c   ****                     tmp.id = i;
 9873              	LM1221:
 9874 71b2 8B45F0   		movl	-16(%ebp), %eax
 9875 71b5 668945CC 		movw	%ax, -52(%ebp)
5124:str_merge.c   ****                     tmp.next = 0;
 9877              	LM1222:
 9878 71b9 C745D000 		movl	$0, -48(%ebp)
 9878      000000
5125:str_merge.c   **** 
5126:str_merge.c   ****                     /* add new node into hash table */
5127:str_merge.c   ****                     hash_add(fixed->str_id_tb, &tmp);
 9880              	LM1223:
 9881 71c0 8D45C8   		leal	-56(%ebp), %eax
 9882 71c3 89442404 		movl	%eax, 4(%esp)
 9883 71c7 8B4518   		movl	24(%ebp), %eax
 9884 71ca 8B400C   		movl	12(%eax), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 275


 9885 71cd 890424   		movl	%eax, (%esp)
 9886 71d0 E86E8FFF 		call	_hash_add
 9886      FF
5128:str_merge.c   ****                     
5129:str_merge.c   ****                 #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5130:str_merge.c   ****                     curr_pos += write_fixed_str_mem(&p, Str[i], curr_pos, offset, i);
5131:str_merge.c   ****                 #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5132:str_merge.c   ****                     /* write StrRes & StrMap into file */
5133:str_merge.c   ****                     curr_pos += write_fixed_str_offset(res, map, resMeta, mapMeta, Str[i], curr_pos
 9888              	LM1224:
 9889 71d5 8B45F0   		movl	-16(%ebp), %eax
 9890 71d8 8944241C 		movl	%eax, 28(%esp)
 9891 71dc 8B45E0   		movl	-32(%ebp), %eax
 9892 71df 89442418 		movl	%eax, 24(%esp)
 9893 71e3 8B45DC   		movl	-36(%ebp), %eax
 9894 71e6 89442414 		movl	%eax, 20(%esp)
 9895 71ea 8B45F0   		movl	-16(%ebp), %eax
 9896 71ed 8B048500 		movl	_Str(,%eax,4), %eax
 9896      000000
 9897 71f4 89442410 		movl	%eax, 16(%esp)
 9898 71f8 8B4514   		movl	20(%ebp), %eax
 9899 71fb 8944240C 		movl	%eax, 12(%esp)
 9900 71ff 8B4510   		movl	16(%ebp), %eax
 9901 7202 89442408 		movl	%eax, 8(%esp)
 9902 7206 8B450C   		movl	12(%ebp), %eax
 9903 7209 89442404 		movl	%eax, 4(%esp)
 9904 720d 8B4508   		movl	8(%ebp), %eax
 9905 7210 890424   		movl	%eax, (%esp)
 9906 7213 E8F40200 		call	_write_fixed_str_offset
 9906      00
 9907 7218 89C2     		movl	%eax, %edx
 9908 721a 8D45DC   		leal	-36(%ebp), %eax
 9909 721d 0110     		addl	%edx, (%eax)
 9910 721f E9890000 		jmp	L585
 9910      00
 9911              	L583:
5134:str_merge.c   ****                 #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5135:str_merge.c   ****                 }
5136:str_merge.c   ****                 else /* string has not default value */
5137:str_merge.c   ****                 {
5138:str_merge.c   ****                 #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5139:str_merge.c   ****                     offset[i] = 0;
5140:str_merge.c   ****                 #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5141:str_merge.c   ****                     write_fixed_offset(res, map, resMeta, mapMeta, 0, offset, i);
 9913              	LM1225:
 9914 7224 8B45F0   		movl	-16(%ebp), %eax
 9915 7227 89442418 		movl	%eax, 24(%esp)
 9916 722b 8B45E0   		movl	-32(%ebp), %eax
 9917 722e 89442414 		movl	%eax, 20(%esp)
 9918 7232 C7442410 		movl	$0, 16(%esp)
 9918      00000000 
 9919 723a 8B4514   		movl	20(%ebp), %eax
 9920 723d 8944240C 		movl	%eax, 12(%esp)
 9921 7241 8B4510   		movl	16(%ebp), %eax
 9922 7244 89442408 		movl	%eax, 8(%esp)
 9923 7248 8B450C   		movl	12(%ebp), %eax
 9924 724b 89442404 		movl	%eax, 4(%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 276


 9925 724f 8B4508   		movl	8(%ebp), %eax
 9926 7252 890424   		movl	%eax, (%esp)
 9927 7255 E8220300 		call	_write_fixed_offset
 9927      00
 9928 725a EB51     		jmp	L585
 9929              	L582:
5142:str_merge.c   ****                 #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5143:str_merge.c   ****                 }
5144:str_merge.c   ****             }
5145:str_merge.c   ****             else /* duplicate string */
5146:str_merge.c   ****             {
5147:str_merge.c   ****                 did = node->id;
 9931              	LM1226:
 9932 725c 8B45D8   		movl	-40(%ebp), %eax
 9933 725f 0FB74004 		movzwl	4(%eax), %eax
 9934 7263 668945F6 		movw	%ax, -10(%ebp)
5148:str_merge.c   ****             #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5149:str_merge.c   ****                 offset[i] = offset[node->id];
5150:str_merge.c   ****             #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5151:str_merge.c   ****                 /* only need to update StrMap */
5152:str_merge.c   ****                 write_fixed_offset(res, map, resMeta, mapMeta, offset[node->id], offset, i);
 9936              	LM1227:
 9937 7267 8B45F0   		movl	-16(%ebp), %eax
 9938 726a 89442418 		movl	%eax, 24(%esp)
 9939 726e 8B45E0   		movl	-32(%ebp), %eax
 9940 7271 89442414 		movl	%eax, 20(%esp)
 9941 7275 8B45D8   		movl	-40(%ebp), %eax
 9942 7278 0FB74004 		movzwl	4(%eax), %eax
 9943 727c 8D148500 		leal	0(,%eax,4), %edx
 9943      000000
 9944 7283 8B45E0   		movl	-32(%ebp), %eax
 9945 7286 8B0410   		movl	(%eax,%edx), %eax
 9946 7289 89442410 		movl	%eax, 16(%esp)
 9947 728d 8B4514   		movl	20(%ebp), %eax
 9948 7290 8944240C 		movl	%eax, 12(%esp)
 9949 7294 8B4510   		movl	16(%ebp), %eax
 9950 7297 89442408 		movl	%eax, 8(%esp)
 9951 729b 8B450C   		movl	12(%ebp), %eax
 9952 729e 89442404 		movl	%eax, 4(%esp)
 9953 72a2 8B4508   		movl	8(%ebp), %eax
 9954 72a5 890424   		movl	%eax, (%esp)
 9955 72a8 E8CF0200 		call	_write_fixed_offset
 9955      00
 9956              	L585:
5153:str_merge.c   ****             #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5154:str_merge.c   ****             }
5155:str_merge.c   **** 
5156:str_merge.c   ****             /* record log */
5157:str_merge.c   ****             write_fixed_string_log(log, i, did);
 9958              	LM1228:
 9959 72ad 0FB745F6 		movzwl	-10(%ebp), %eax
 9960 72b1 89442408 		movl	%eax, 8(%esp)
 9961 72b5 0FB745F0 		movzwl	-16(%ebp), %eax
 9962 72b9 89442404 		movl	%eax, 4(%esp)
 9963 72bd 8B45E8   		movl	-24(%ebp), %eax
 9964 72c0 890424   		movl	%eax, (%esp)
 9965 72c3 E8820300 		call	_write_fixed_string_log
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 277


 9965      00
5158:str_merge.c   ****             did = 0;
 9967              	LM1229:
 9968 72c8 66C745F6 		movw	$0, -10(%ebp)
 9968      0000
 9970              	LM1230:
 9971              	L579:
 9972 72ce 8D45F0   		leal	-16(%ebp), %eax
 9973 72d1 FF00     		incl	(%eax)
 9974 72d3 E943FEFF 		jmp	L577
 9974      FF
 9975              	L578:
5159:str_merge.c   ****         }
5160:str_merge.c   ****     }
5161:str_merge.c   ****     
5162:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5163:str_merge.c   ****     write_compressed_fixed_data(res, map, data, curr_pos, offset, fixed);
5164:str_merge.c   **** #else /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5165:str_merge.c   ****     /* write the tail of the data and map array */
5166:str_merge.c   ****     fprintf(res, "};\n\n");
 9977              	LM1231:
 9978 72d8 C7442404 		movl	$LC141, 4(%esp)
 9978      8C6D0000 
 9979 72e0 8B4508   		movl	8(%ebp), %eax
 9980 72e3 890424   		movl	%eax, (%esp)
 9981 72e6 E8000000 		call	_fprintf
 9981      00
5167:str_merge.c   ****     fprintf(map, "};\n\n");
 9983              	LM1232:
 9984 72eb C7442404 		movl	$LC141, 4(%esp)
 9984      8C6D0000 
 9985 72f3 8B450C   		movl	12(%ebp), %eax
 9986 72f6 890424   		movl	%eax, (%esp)
 9987 72f9 E8000000 		call	_fprintf
 9987      00
5168:str_merge.c   ****     fprintf(resMeta, "};\n\n");
 9989              	LM1233:
 9990 72fe C7442404 		movl	$LC141, 4(%esp)
 9990      8C6D0000 
 9991 7306 8B4510   		movl	16(%ebp), %eax
 9992 7309 890424   		movl	%eax, (%esp)
 9993 730c E8000000 		call	_fprintf
 9993      00
5169:str_merge.c   ****     fprintf(mapMeta, "};\n\n");
 9995              	LM1234:
 9996 7311 C7442404 		movl	$LC141, 4(%esp)
 9996      8C6D0000 
 9997 7319 8B4514   		movl	20(%ebp), %eax
 9998 731c 890424   		movl	%eax, (%esp)
 9999 731f E8000000 		call	_fprintf
 9999      00
5170:str_merge.c   ****     
5171:str_merge.c   ****     if(fixed_result.is16bit){
 10001              	LM1235:
 10002 7324 833D0400 		cmpl	$0, _fixed_result+4
 10002      000000
 10003 732b 7415     		je	L586
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 278


5172:str_merge.c   ****         fprintf(res, "extern const CUSTOM_STRING_MAP_16 StrMap_Fixed[];\n");
 10005              	LM1236:
 10006 732d C7442404 		movl	$LC142, 4(%esp)
 10006      A06D0000 
 10007 7335 8B4508   		movl	8(%ebp), %eax
 10008 7338 890424   		movl	%eax, (%esp)
 10009 733b E8000000 		call	_fprintf
 10009      00
 10010 7340 EB13     		jmp	L587
 10011              	L586:
5173:str_merge.c   ****     }
5174:str_merge.c   ****     else{
5175:str_merge.c   ****         fprintf(res, "extern const CUSTOM_STRING_MAP StrMap_Fixed[];\n");
 10013              	LM1237:
 10014 7342 C7442404 		movl	$LC143, 4(%esp)
 10014      E06D0000 
 10015 734a 8B4508   		movl	8(%ebp), %eax
 10016 734d 890424   		movl	%eax, (%esp)
 10017 7350 E8000000 		call	_fprintf
 10017      00
 10018              	L587:
5176:str_merge.c   ****     }
5177:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5178:str_merge.c   ****     fprintf(resMeta, "MAXNUM: %d\n", fixed_result.nTotalStrRes -1);
 10020              	LM1238:
 10021 7355 0FB70500 		movzwl	_fixed_result, %eax
 10021      000000
 10022 735c 48       		decl	%eax
 10023 735d 89442408 		movl	%eax, 8(%esp)
 10024 7361 C7442404 		movl	$LC87, 4(%esp)
 10024      F0460000 
 10025 7369 8B4510   		movl	16(%ebp), %eax
 10026 736c 890424   		movl	%eax, (%esp)
 10027 736f E8000000 		call	_fprintf
 10027      00
5179:str_merge.c   ****     fprintf(resMeta, "MAXID: %d\n", fixed_id.id_count -1);
 10029              	LM1239:
 10030 7374 0FB70500 		movzwl	_fixed_id, %eax
 10030      000000
 10031 737b 48       		decl	%eax
 10032 737c 89442408 		movl	%eax, 8(%esp)
 10033 7380 C7442404 		movl	$LC88, 4(%esp)
 10033      FC460000 
 10034 7388 8B4510   		movl	16(%ebp), %eax
 10035 738b 890424   		movl	%eax, (%esp)
 10036 738e E8000000 		call	_fprintf
 10036      00
5180:str_merge.c   **** 
5181:str_merge.c   ****     /* free hash table */
5182:str_merge.c   ****     hash_free(fixed->enum_id_tb);
 10038              	LM1240:
 10039 7393 8B4518   		movl	24(%ebp), %eax
 10040 7396 8B4008   		movl	8(%eax), %eax
 10041 7399 890424   		movl	%eax, (%esp)
 10042 739c E8BE8FFF 		call	_hash_free
 10042      FF
5183:str_merge.c   ****     hash_free(fixed->str_id_tb);
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 279


 10044              	LM1241:
 10045 73a1 8B4518   		movl	24(%ebp), %eax
 10046 73a4 8B400C   		movl	12(%eax), %eax
 10047 73a7 890424   		movl	%eax, (%esp)
 10048 73aa E8B08FFF 		call	_hash_free
 10048      FF
5184:str_merge.c   ****     fclose(log);
 10050              	LM1242:
 10051 73af 8B45E8   		movl	-24(%ebp), %eax
 10052 73b2 890424   		movl	%eax, (%esp)
 10053 73b5 E8000000 		call	_fclose
 10053      00
5185:str_merge.c   ****     free(offset);
 10055              	LM1243:
 10056 73ba 8B45E0   		movl	-32(%ebp), %eax
 10057 73bd 890424   		movl	%eax, (%esp)
 10058 73c0 E8000000 		call	_free
 10058      00
5186:str_merge.c   ****     
5187:str_merge.c   ****     return 1;
 10060              	LM1244:
 10061 73c5 C745C401 		movl	$1, -60(%ebp)
 10061      000000
5188:str_merge.c   **** }
 10063              	LM1245:
 10064              	L563:
 10065              	LBE61:
 10066 73cc 8B45C4   		movl	-60(%ebp), %eax
 10067 73cf C9       		leave
 10068 73d0 C3       		ret
 10080              	Lscope41:
 10092              	_write_fixed_str:
5189:str_merge.c   **** 
5190:str_merge.c   **** 
5191:str_merge.c   **** #if defined(__MMI_RESOURCE_STR_ZLIB_COMPRESS__)
5192:str_merge.c   **** /*****************************************************************************
5193:str_merge.c   ****  * FUNCTION
5194:str_merge.c   ****  *  write_fixed_str_mem
5195:str_merge.c   ****  * DESCRIPTION
5196:str_merge.c   ****  *  write fixed string id's data into memory
5197:str_merge.c   ****  * PARAMETERS
5198:str_merge.c   ****  *  mem    :[IN/OUT] CustStrRes.c file handle
5199:str_merge.c   ****  *  map   :[IN] CustStrMap.c file handle
5200:str_merge.c   ****  *  data  :[IN] string data will be write to CustStrRes.c
5201:str_merge.c   ****  *  len    :[IN] data total length
5202:str_merge.c   ****  *  offs   :[IN]  offset array of all string ids
5203:str_merge.c   ****  *  fixed  :[IN]  the id will be processed
5204:str_merge.c   ****  * RETURNS
5205:str_merge.c   ****  *   return 1 means success, return -1 if input is invalid, return-2 if malloc faileds, return -3 i
5206:str_merge.c   ****  *****************************************************************************/
5207:str_merge.c   **** static int write_fixed_str_mem(U8** mem, U8* s, int pos, int *offs, int id)
5208:str_merge.c   **** {
5209:str_merge.c   ****     int i = 0;
5210:str_merge.c   ****     int len = 0;
5211:str_merge.c   **** 
5212:str_merge.c   ****     if(mem == 0 || s == 0 || pos < 0 || offs == 0 || id < 0 || id >= MAX_STRING_MAP_SIZE)
5213:str_merge.c   ****     {
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 280


5214:str_merge.c   ****         return -1;
5215:str_merge.c   ****     }
5216:str_merge.c   **** 
5217:str_merge.c   ****     /* record offset */
5218:str_merge.c   ****     offs[id] = pos;
5219:str_merge.c   **** 
5220:str_merge.c   ****     /* record data */
5221:str_merge.c   ****     if(s[0] != '\0')
5222:str_merge.c   ****     {
5223:str_merge.c   ****         len = (wcslen((wchar_t*)s) + 1) * 2;
5224:str_merge.c   ****         memcpy(*mem, s, len);
5225:str_merge.c   **** 
5226:str_merge.c   ****         *mem += len;
5227:str_merge.c   ****     }
5228:str_merge.c   **** 
5229:str_merge.c   ****     return len;
5230:str_merge.c   **** }
5231:str_merge.c   **** 
5232:str_merge.c   **** 
5233:str_merge.c   **** /*****************************************************************************
5234:str_merge.c   ****  * FUNCTION
5235:str_merge.c   ****  *  write_fixed_str
5236:str_merge.c   ****  * DESCRIPTION
5237:str_merge.c   ****  *  write compressed data into CustStrRes & CustStrmap.c
5238:str_merge.c   ****  * PARAMETERS
5239:str_merge.c   ****  *  res    :[IN] CustStrRes.c file handle
5240:str_merge.c   ****  *  map   :[IN] CustStrMap.c file handle
5241:str_merge.c   ****  *  data  :[IN] string data will be write to CustStrRes.c
5242:str_merge.c   ****  *  len    :[IN] data total length
5243:str_merge.c   ****  *  offs   :[IN]  offset array of all string ids
5244:str_merge.c   ****  *  fixed  :[IN]  the id will be processed
5245:str_merge.c   ****  * RETURNS
5246:str_merge.c   ****  *   return 1 means success, return -1 if input is invalid, return-2 if malloc faileds, return -3 i
5247:str_merge.c   ****  *****************************************************************************/
5248:str_merge.c   **** static int write_compressed_fixed_data(FILE *res, FILE *map, U8 *data, int len, int *offs, FixedID 
5249:str_merge.c   **** {
5250:str_merge.c   ****     // The dest parameter of compress2 must be ulong type
5251:str_merge.c   ****     unsigned long res_len = 0, map_len = 0;
5252:str_merge.c   ****     U8 *res_buff = 0, *map_buff = 0;
5253:str_merge.c   ****     U8 *p = 0;
5254:str_merge.c   ****     int ret = Z_OK, i = 0, j = 0;
5255:str_merge.c   ****     int map_arr_len = 0;
5256:str_merge.c   ****     U32 *offst = 0;
5257:str_merge.c   **** 
5258:str_merge.c   ****     if(res == 0 || map == 0 || data == 0 || offs == 0 || len <= 0 || fixed == 0)
5259:str_merge.c   ****     {
5260:str_merge.c   ****         return -1; /* invalid input */
5261:str_merge.c   ****     }
5262:str_merge.c   **** 
5263:str_merge.c   ****     /* caculate and malloc StrRes_zip size */
5264:str_merge.c   ****     res_len = compressBound(len);
5265:str_merge.c   ****     res_buff = (U8*) malloc(sizeof(U8) * res_len);
5266:str_merge.c   ****     if(res_buff == 0)
5267:str_merge.c   ****     {
5268:str_merge.c   ****         fprintf(stderr, "ERROR: malloc compress buffer failed, LINE:%d;\tFILE:%s\n", __LINE__, __FI
5269:str_merge.c   ****         return -2; /* memry malloc failed */
5270:str_merge.c   ****     }
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 281


5271:str_merge.c   **** 
5272:str_merge.c   ****     /* caculate string map size  and malloc buffer */
5273:str_merge.c   ****     map_len = compressBound(fixed->id_count * sizeof(U32));
5274:str_merge.c   ****     map_buff = (U8*)malloc(sizeof(U8) * map_len);
5275:str_merge.c   ****     if(fixed_result.is16bit){
5276:str_merge.c   ****         map_arr_len = fixed->id_count * sizeof(U16);
5277:str_merge.c   ****     }
5278:str_merge.c   ****     else{
5279:str_merge.c   ****         map_arr_len = fixed->id_count * sizeof(U32);
5280:str_merge.c   ****     }
5281:str_merge.c   ****     offst = (U32*)malloc(fixed->id_count * sizeof(U32));
5282:str_merge.c   ****     if(map_buff == 0 || offst == 0)
5283:str_merge.c   ****     {
5284:str_merge.c   ****         free(res_buff);
5285:str_merge.c   ****         if(map_buff != 0)
5286:str_merge.c   ****             free(map_buff);
5287:str_merge.c   ****         if(offst != 0)
5288:str_merge.c   ****             free(offst);
5289:str_merge.c   **** 
5290:str_merge.c   ****         fprintf(stderr, "ERROR: malloc compress buffer failed, LINE:%d;\tFILE:%s\n", __LINE__, __FI
5291:str_merge.c   ****         return -2;
5292:str_merge.c   ****     }
5293:str_merge.c   **** 
5294:str_merge.c   ****     /* compress string data */
5295:str_merge.c   ****     STRMERG_LOG_V("StrMap_Fixed compress2 input: res_len=%lu, len =%d, level = %d",res_len, len, Z_
5296:str_merge.c   ****     ret = compress2(res_buff, &res_len, data, len, Z_BEST_COMPRESSION);
5297:str_merge.c   ****     STRMERG_LOG_V("StrMap_Fixed compress2 output: res_len=%lu, len =%lu ",res_len, len);
5298:str_merge.c   **** 
5299:str_merge.c   ****     if(ret != Z_OK)
5300:str_merge.c   ****     {
5301:str_merge.c   ****         free(res_buff);
5302:str_merge.c   ****         free(map_buff);
5303:str_merge.c   ****         free(offst);
5304:str_merge.c   ****         fprintf(stderr, "fatel error: compress failed, LINE:%d;\tFILE:%s\n", __LINE__, __FILE__);
5305:str_merge.c   ****         return -3; /* compress failed */
5306:str_merge.c   ****     }
5307:str_merge.c   ****     // TODO:it seems not good
5308:str_merge.c   ****     fixed_result.nResSize = len;
5309:str_merge.c   ****     fixed_result.nResZipSize = res_len;
5310:str_merge.c   **** 
5311:str_merge.c   ****     /* write CustStrRes.c */
5312:str_merge.c   ****     STRMERG_LOG_V("StrRes_zip_fixed[%lu]: Started res output",res_len);
5313:str_merge.c   ****     fprintf(res, "//__align(4) CUSTOM_STRING StrRes_Fixed[%d];\n", len);
5314:str_merge.c   ****     fprintf(res, "// StrRes_zip_fixed, DATA SIZE = %lu \n", res_len);
5315:str_merge.c   ****     fprintf(res, "__align(4) const CUSTOM_STRING StrRes_zip_fixed[] = {\n");
5316:str_merge.c   ****     for(i = 0; i < res_len; ++i)
5317:str_merge.c   ****     {
5318:str_merge.c   ****         fprintf(res, "0x%02X, ", res_buff[i]);
5319:str_merge.c   ****         if(i % 16 == 0)
5320:str_merge.c   ****         {
5321:str_merge.c   ****             fprintf(res, "\n");
5322:str_merge.c   ****         }
5323:str_merge.c   ****     }
5324:str_merge.c   ****     
5325:str_merge.c   ****     append_cat_padding_bytes(res, res_len);
5326:str_merge.c   ****     
5327:str_merge.c   ****     fprintf(res, "};\n");
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 282


5328:str_merge.c   ****     STRMERG_LOG_V("StrRes_zip_fixed[%lu]: Finished res output",res_len);
5329:str_merge.c   ****     
5330:str_merge.c   ****     fprintf(res, "extern const U8 StrMap_zip_fixed[];\n");
5331:str_merge.c   ****     if(fixed_result.is16bit)
5332:str_merge.c   ****     {
5333:str_merge.c   ****         fprintf(res, "//extern CUSTOM_STRING_MAP_16 StrMap_Fixed[];\n");
5334:str_merge.c   ****     }
5335:str_merge.c   ****     else
5336:str_merge.c   ****     {
5337:str_merge.c   ****         fprintf(res, "//extern CUSTOM_STRING_MAP StrMap_Fixed[];\n");
5338:str_merge.c   ****     }
5339:str_merge.c   ****     
5340:str_merge.c   ****     /* compress string map */
5341:str_merge.c   ****     /* here we need to record log information of offset */
5342:str_merge.c   ****     j = 0;
5343:str_merge.c   ****     if(fixed_result.is16bit)
5344:str_merge.c   ****     {
5345:str_merge.c   ****         U16 *mp = (U16*)offst;
5346:str_merge.c   ****         for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
5347:str_merge.c   ****         {
5348:str_merge.c   ****             if(StrIsPopulate[i] && fixed->fixed_id_flag[i] == NO_TRANSLATE_FLAG)
5349:str_merge.c   ****             {
5350:str_merge.c   ****                 mp[j++] = (U16)offs[i]/2;
5351:str_merge.c   ****             }
5352:str_merge.c   ****         }            
5353:str_merge.c   ****         STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "StrMap_Fixed: Total size of compressing data= %d bytes, 
5354:str_merge.c   **** 
5355:str_merge.c   ****     }
5356:str_merge.c   ****     else
5357:str_merge.c   ****     {
5358:str_merge.c   ****         U32 *mp = (U32*)offst;
5359:str_merge.c   ****         for(i = 0; i < MAX_STRING_MAP_SIZE; ++i)
5360:str_merge.c   ****         {
5361:str_merge.c   ****             if(StrIsPopulate[i] && fixed->fixed_id_flag[i] == NO_TRANSLATE_FLAG)
5362:str_merge.c   ****             {
5363:str_merge.c   ****                 mp[j++] = (U32)offs[i]/2;
5364:str_merge.c   ****             }
5365:str_merge.c   ****         }    
5366:str_merge.c   ****         STRMERG_LOG_D("[MEM] StrMap_Fixed: Total size of compressing data= %d bytes, size calculate
5367:str_merge.c   ****     }
5368:str_merge.c   **** 
5369:str_merge.c   ****     STRMERG_LOG_V("StrMap_Fixed compress2 input: map_len=%lu, map_arr_len =%d, level = %d",map_len,
5370:str_merge.c   ****     ret = compress2(map_buff, &map_len, (U8*)offst, map_arr_len, Z_BEST_COMPRESSION);
5371:str_merge.c   ****     STRMERG_LOG_V("StrMap_Fixed compress2 output: map_len=%lu, map_arr_len =%d",map_len, map_arr_le
5372:str_merge.c   **** 
5373:str_merge.c   ****     if(ret != Z_OK)
5374:str_merge.c   ****     {
5375:str_merge.c   ****         free(res_buff);
5376:str_merge.c   ****         free(map_buff);
5377:str_merge.c   ****         free(offst);
5378:str_merge.c   ****         fprintf(stderr, "fatel error: compress failed, LINE:%d;\tFILE:%s\n", __LINE__, __FILE__);
5379:str_merge.c   ****         return -3; /* compress failed */
5380:str_merge.c   ****     }
5381:str_merge.c   ****     //TODO:it seems not good
5382:str_merge.c   ****     fixed_result.nMapSize = map_arr_len;
5383:str_merge.c   ****     fixed_result.nMapZipSize = map_len;
5384:str_merge.c   ****     
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 283


5385:str_merge.c   ****     /* write CustStrMap.c */
5386:str_merge.c   ****     if(fixed_result.is16bit)
5387:str_merge.c   ****     {
5388:str_merge.c   ****         fprintf(map, "//__align(4) CUSTOM_STRING_MAP_16 StrMap_Fixed[%d];\n", map_arr_len);
5389:str_merge.c   ****     }
5390:str_merge.c   ****     else
5391:str_merge.c   ****     {
5392:str_merge.c   ****         fprintf(map, "//__align(4) CUSTOM_STRING_MAP StrMap_Fixed[%d];\n", map_arr_len);
5393:str_merge.c   ****     }
5394:str_merge.c   **** 
5395:str_merge.c   ****     STRMERG_LOG_V("StrMap_zip_fixed[%lu]: Started fout_res output",map_len);
5396:str_merge.c   ****     fprintf(map, "//StrMap_zip_fixed, DATA SIZE = %lu\n", map_len);
5397:str_merge.c   ****     fprintf(map, "__align(4) const U8 StrMap_zip_fixed[] = {\n");
5398:str_merge.c   ****     
5399:str_merge.c   ****     for(i = 0; i < map_len; ++i)
5400:str_merge.c   ****     {
5401:str_merge.c   ****         if(i % 16 == 0)
5402:str_merge.c   ****         {
5403:str_merge.c   ****             fprintf(map, "\n");
5404:str_merge.c   ****         }
5405:str_merge.c   ****         fprintf(map, "0x%02X, ", map_buff[i]);
5406:str_merge.c   **** 
5407:str_merge.c   ****     }
5408:str_merge.c   ****     
5409:str_merge.c   ****     append_cat_padding_bytes(map, map_len);
5410:str_merge.c   ****     
5411:str_merge.c   ****     fprintf(map, "};\n");
5412:str_merge.c   ****     
5413:str_merge.c   ****     STRMERG_LOG_V("StrMap_zip_fixed[%lu]: Finished fout_res output",map_len);
5414:str_merge.c   ****     
5415:str_merge.c   ****     free(res_buff);
5416:str_merge.c   ****     free(map_buff);
5417:str_merge.c   ****     free(offst);
5418:str_merge.c   **** 
5419:str_merge.c   ****     return 1; /* success */
5420:str_merge.c   **** }
5421:str_merge.c   **** #endif /* __MMI_RESOURCE_STR_ZLIB_COMPRESS__ */
5422:str_merge.c   **** 
5423:str_merge.c   **** 
5424:str_merge.c   **** /*****************************************************************************
5425:str_merge.c   ****  * FUNCTION
5426:str_merge.c   ****  *  write_fixed_str
5427:str_merge.c   ****  * DESCRIPTION
5428:str_merge.c   ****  *  write CustStrRes & CustStrmap.c
5429:str_merge.c   ****  * PARAMETERS
5430:str_merge.c   ****  *  res    :[IN] CustStrRes.c file handle
5431:str_merge.c   ****  *  map   :[IN] CustStrMap.c file handle
5432:str_merge.c   ****  *  s       :[IN] string data will be write to CustStrRes.c
5433:str_merge.c   ****  *  pos    :[IN] offset of duplicate string
5434:str_merge.c   ****  *  offs   :[IN]  offset array of all string ids
5435:str_merge.c   ****  *  id      :[IN]  the id will be processed
5436:str_merge.c   ****  * RETURNS
5437:str_merge.c   ****  *   return -1 if input is invalid, return-2 if malloc faileds, else returen string lenth
5438:str_merge.c   ****  *****************************************************************************/
5439:str_merge.c   **** static int write_fixed_str(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta,  U8 *s, int pos, int
5440:str_merge.c   **** {
 10094              	LM1246:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 284


 10095 73d1 55       		pushl	%ebp
 10096 73d2 89E5     		movl	%esp, %ebp
 10097 73d4 83EC18   		subl	$24, %esp
5441:str_merge.c   ****     /*----------------------------------------------------------------*/
5442:str_merge.c   ****     /* Local Variables                                                */
5443:str_merge.c   ****     /*----------------------------------------------------------------*/
5444:str_merge.c   ****     int i = 0;
 10099              	LM1247:
 10100              	LBB62:
 10101 73d7 C745FC00 		movl	$0, -4(%ebp)
 10101      000000
5445:str_merge.c   ****     int len = 0;
 10103              	LM1248:
 10104 73de C745F800 		movl	$0, -8(%ebp)
 10104      000000
5446:str_merge.c   ****     
5447:str_merge.c   ****     /*----------------------------------------------------------------*/
5448:str_merge.c   ****     /* Code Body                                                      */
5449:str_merge.c   ****     /*----------------------------------------------------------------*/
5450:str_merge.c   ****     if(res == 0 || map == 0)
 10106              	LM1249:
 10107 73e5 837D0800 		cmpl	$0, 8(%ebp)
 10108 73e9 7406     		je	L590
 10109 73eb 837D0C00 		cmpl	$0, 12(%ebp)
 10110 73ef 750C     		jne	L589
 10111              	L590:
5451:str_merge.c   ****     {
5452:str_merge.c   ****         return -1;
 10113              	LM1250:
 10114 73f1 C745F4FF 		movl	$-1, -12(%ebp)
 10114      FFFFFF
 10115 73f8 E90A0100 		jmp	L588
 10115      00
 10116              	L589:
5453:str_merge.c   ****     }
5454:str_merge.c   **** 
5455:str_merge.c   ****     /* write custstrmap.c */
5456:str_merge.c   ****     offs[id] = pos;
 10118              	LM1251:
 10119 73fd 8B4524   		movl	36(%ebp), %eax
 10120 7400 8D0C8500 		leal	0(,%eax,4), %ecx
 10120      000000
 10121 7407 8B5520   		movl	32(%ebp), %edx
 10122 740a 8B451C   		movl	28(%ebp), %eax
 10123 740d 89040A   		movl	%eax, (%edx,%ecx)
5457:str_merge.c   ****     fprintf(map, "\t%ld,\n", pos/2);
 10125              	LM1252:
 10126 7410 8B551C   		movl	28(%ebp), %edx
 10127 7413 89D0     		movl	%edx, %eax
 10128 7415 C1F81F   		sarl	$31, %eax
 10129 7418 C1E81F   		shrl	$31, %eax
 10130 741b 8D0410   		leal	(%eax,%edx), %eax
 10131 741e D1F8     		sarl	%eax
 10132 7420 89442408 		movl	%eax, 8(%esp)
 10133 7424 C7442404 		movl	$LC105, 4(%esp)
 10133      D7490000 
 10134 742c 8B450C   		movl	12(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 285


 10135 742f 890424   		movl	%eax, (%esp)
 10136 7432 E8000000 		call	_fprintf
 10136      00
5458:str_merge.c   ****     fprintf(mapMeta, "\t%ld,\n", pos/2);
 10138              	LM1253:
 10139 7437 8B551C   		movl	28(%ebp), %edx
 10140 743a 89D0     		movl	%edx, %eax
 10141 743c C1F81F   		sarl	$31, %eax
 10142 743f C1E81F   		shrl	$31, %eax
 10143 7442 8D0410   		leal	(%eax,%edx), %eax
 10144 7445 D1F8     		sarl	%eax
 10145 7447 89442408 		movl	%eax, 8(%esp)
 10146 744b C7442404 		movl	$LC105, 4(%esp)
 10146      D7490000 
 10147 7453 8B4514   		movl	20(%ebp), %eax
 10148 7456 890424   		movl	%eax, (%esp)
 10149 7459 E8000000 		call	_fprintf
 10149      00
5459:str_merge.c   **** 
5460:str_merge.c   ****     if(s != 0) /* write_fixed_str_offset case */
 10151              	LM1254:
 10152 745e 837D1800 		cmpl	$0, 24(%ebp)
 10153 7462 0F849900 		je	L591
 10153      0000
5461:str_merge.c   ****     {
5462:str_merge.c   ****         len = wcslen((wchar_t*)s);
 10155              	LM1255:
 10156 7468 8B4518   		movl	24(%ebp), %eax
 10157 746b 890424   		movl	%eax, (%esp)
 10158 746e E8000000 		call	_wcslen
 10158      00
 10159 7473 8945F8   		movl	%eax, -8(%ebp)
5463:str_merge.c   **** 
5464:str_merge.c   ****         for(i = 0; i < len*2; ++i)
 10161              	LM1256:
 10162 7476 C745FC00 		movl	$0, -4(%ebp)
 10162      000000
 10163              	L592:
 10164 747d 8B45F8   		movl	-8(%ebp), %eax
 10165 7480 01C0     		addl	%eax, %eax
 10166 7482 3945FC   		cmpl	%eax, -4(%ebp)
 10167 7485 7C02     		jl	L595
 10168 7487 EB47     		jmp	L593
 10169              	L595:
5465:str_merge.c   ****         {
5466:str_merge.c   ****             fprintf(res, "0x%X, ", s[i]);
 10171              	LM1257:
 10172 7489 8B45FC   		movl	-4(%ebp), %eax
 10173 748c 034518   		addl	24(%ebp), %eax
 10174 748f 0FB600   		movzbl	(%eax), %eax
 10175 7492 89442408 		movl	%eax, 8(%esp)
 10176 7496 C7442404 		movl	$LC91, 4(%esp)
 10176      64470000 
 10177 749e 8B4508   		movl	8(%ebp), %eax
 10178 74a1 890424   		movl	%eax, (%esp)
 10179 74a4 E8000000 		call	_fprintf
 10179      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 286


5467:str_merge.c   ****             fprintf(resMeta, "0x%X, ", s[i]);
 10181              	LM1258:
 10182 74a9 8B45FC   		movl	-4(%ebp), %eax
 10183 74ac 034518   		addl	24(%ebp), %eax
 10184 74af 0FB600   		movzbl	(%eax), %eax
 10185 74b2 89442408 		movl	%eax, 8(%esp)
 10186 74b6 C7442404 		movl	$LC91, 4(%esp)
 10186      64470000 
 10187 74be 8B4510   		movl	16(%ebp), %eax
 10188 74c1 890424   		movl	%eax, (%esp)
 10189 74c4 E8000000 		call	_fprintf
 10189      00
 10191              	LM1259:
 10192 74c9 8D45FC   		leal	-4(%ebp), %eax
 10193 74cc FF00     		incl	(%eax)
 10194 74ce EBAD     		jmp	L592
 10195              	L593:
5468:str_merge.c   ****         }
5469:str_merge.c   ****         fprintf(res, "0x00, 0x00,\n");
 10197              	LM1260:
 10198 74d0 C7442404 		movl	$LC90, 4(%esp)
 10198      57470000 
 10199 74d8 8B4508   		movl	8(%ebp), %eax
 10200 74db 890424   		movl	%eax, (%esp)
 10201 74de E8000000 		call	_fprintf
 10201      00
5470:str_merge.c   ****         fprintf(resMeta, "0x00, 0x00,\n");
 10203              	LM1261:
 10204 74e3 C7442404 		movl	$LC90, 4(%esp)
 10204      57470000 
 10205 74eb 8B4510   		movl	16(%ebp), %eax
 10206 74ee 890424   		movl	%eax, (%esp)
 10207 74f1 E8000000 		call	_fprintf
 10207      00
5471:str_merge.c   **** 
5472:str_merge.c   ****         len = (len + 1)*2;
 10209              	LM1262:
 10210 74f6 8B45F8   		movl	-8(%ebp), %eax
 10211 74f9 01C0     		addl	%eax, %eax
 10212 74fb 83C002   		addl	$2, %eax
 10213 74fe 8945F8   		movl	%eax, -8(%ebp)
 10214              	L591:
5473:str_merge.c   ****     }
5474:str_merge.c   **** 
5475:str_merge.c   ****     return len;
 10216              	LM1263:
 10217 7501 8B45F8   		movl	-8(%ebp), %eax
 10218 7504 8945F4   		movl	%eax, -12(%ebp)
5476:str_merge.c   **** }
 10220              	LM1264:
 10221              	L588:
 10222              	LBE62:
 10223 7507 8B45F4   		movl	-12(%ebp), %eax
 10224 750a C9       		leave
 10225 750b C3       		ret
 10230              	Lscope42:
 10242              	_write_fixed_str_offset:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 287


5477:str_merge.c   **** 
5478:str_merge.c   **** 
5479:str_merge.c   **** /*****************************************************************************
5480:str_merge.c   ****  * FUNCTION
5481:str_merge.c   ****  *  write_fixed_str_offset
5482:str_merge.c   ****  * DESCRIPTION
5483:str_merge.c   ****  *  write CustStrRes & CustStrmap.c, for parameter check
5484:str_merge.c   ****  * PARAMETERS
5485:str_merge.c   ****  *  pease refer write_fixed_str's description
5486:str_merge.c   ****  * RETURNS
5487:str_merge.c   ****  *  return -1 if input is invalid, return-2 if malloc faileds, else return string length
5488:str_merge.c   ****  *****************************************************************************/
5489:str_merge.c   **** static int write_fixed_str_offset(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta,U8 *s, int pos
5490:str_merge.c   **** {
 10244              	LM1265:
 10245 750c 55       		pushl	%ebp
 10246 750d 89E5     		movl	%esp, %ebp
 10247 750f 83EC28   		subl	$40, %esp
5491:str_merge.c   ****     /*----------------------------------------------------------------*/
5492:str_merge.c   ****     /* Local Variables                                                */
5493:str_merge.c   ****     /*----------------------------------------------------------------*/
5494:str_merge.c   ****     if(s == 0 || offs == 0 || id < 0 || id >= MAX_STRING_MAP_SIZE)
 10249              	LM1266:
 10250 7512 837D1800 		cmpl	$0, 24(%ebp)
 10251 7516 7417     		je	L598
 10252 7518 837D2000 		cmpl	$0, 32(%ebp)
 10253 751c 7411     		je	L598
 10254 751e 837D2400 		cmpl	$0, 36(%ebp)
 10255 7522 780B     		js	L598
 10256 7524 817D24FE 		cmpl	$65534, 36(%ebp)
 10256      FF0000
 10257 752b 7F02     		jg	L598
 10258 752d EB09     		jmp	L597
 10259              	L598:
5495:str_merge.c   ****     {
5496:str_merge.c   ****         return -1; /* invalid input */
 10261              	LM1267:
 10262 752f C745FCFF 		movl	$-1, -4(%ebp)
 10262      FFFFFF
 10263 7536 EB3F     		jmp	L596
 10264              	L597:
5497:str_merge.c   ****     }
5498:str_merge.c   **** 
5499:str_merge.c   ****     /*----------------------------------------------------------------*/
5500:str_merge.c   ****     /* Code Body                                                      */
5501:str_merge.c   ****     /*----------------------------------------------------------------*/
5502:str_merge.c   ****     return write_fixed_str(res, map,resMeta, mapMeta, s, pos, offs, id);
 10266              	LM1268:
 10267 7538 8B4524   		movl	36(%ebp), %eax
 10268 753b 8944241C 		movl	%eax, 28(%esp)
 10269 753f 8B4520   		movl	32(%ebp), %eax
 10270 7542 89442418 		movl	%eax, 24(%esp)
 10271 7546 8B451C   		movl	28(%ebp), %eax
 10272 7549 89442414 		movl	%eax, 20(%esp)
 10273 754d 8B4518   		movl	24(%ebp), %eax
 10274 7550 89442410 		movl	%eax, 16(%esp)
 10275 7554 8B4514   		movl	20(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 288


 10276 7557 8944240C 		movl	%eax, 12(%esp)
 10277 755b 8B4510   		movl	16(%ebp), %eax
 10278 755e 89442408 		movl	%eax, 8(%esp)
 10279 7562 8B450C   		movl	12(%ebp), %eax
 10280 7565 89442404 		movl	%eax, 4(%esp)
 10281 7569 8B4508   		movl	8(%ebp), %eax
 10282 756c 890424   		movl	%eax, (%esp)
 10283 756f E85DFEFF 		call	_write_fixed_str
 10283      FF
 10284 7574 8945FC   		movl	%eax, -4(%ebp)
5503:str_merge.c   **** }
 10286              	LM1269:
 10287              	L596:
 10288 7577 8B45FC   		movl	-4(%ebp), %eax
 10289 757a C9       		leave
 10290 757b C3       		ret
 10291              	Lscope43:
 10302              	_write_fixed_offset:
5504:str_merge.c   **** 
5505:str_merge.c   **** 
5506:str_merge.c   **** /*****************************************************************************
5507:str_merge.c   ****  * FUNCTION
5508:str_merge.c   ****  *  write_fixed_offset
5509:str_merge.c   ****  * DESCRIPTION
5510:str_merge.c   ****  *  write CustStrmap.c, for parameter check
5511:str_merge.c   ****  * PARAMETERS
5512:str_merge.c   ****  *  pease refer write_fixed_str's description
5513:str_merge.c   ****  * RETURNS
5514:str_merge.c   ****  *  return -1 if input is invalid, return-2 if malloc faileds, else return string length
5515:str_merge.c   ****  *****************************************************************************/
5516:str_merge.c   **** static int write_fixed_offset(FILE *res, FILE *map, FILE *resMeta, FILE *mapMeta,int pos, int *offs
5517:str_merge.c   **** {
 10304              	LM1270:
 10305 757c 55       		pushl	%ebp
 10306 757d 89E5     		movl	%esp, %ebp
 10307 757f 83EC28   		subl	$40, %esp
5518:str_merge.c   ****     /*----------------------------------------------------------------*/
5519:str_merge.c   ****     /* Local Variables                                                */
5520:str_merge.c   ****     /*----------------------------------------------------------------*/
5521:str_merge.c   ****     if(pos < 0 || offs == 0 || id < 0 || id >= MAX_STRING_MAP_SIZE)
 10309              	LM1271:
 10310 7582 837D1800 		cmpl	$0, 24(%ebp)
 10311 7586 7817     		js	L601
 10312 7588 837D1C00 		cmpl	$0, 28(%ebp)
 10313 758c 7411     		je	L601
 10314 758e 837D2000 		cmpl	$0, 32(%ebp)
 10315 7592 780B     		js	L601
 10316 7594 817D20FE 		cmpl	$65534, 32(%ebp)
 10316      FF0000
 10317 759b 7F02     		jg	L601
 10318 759d EB09     		jmp	L600
 10319              	L601:
5522:str_merge.c   ****     {
5523:str_merge.c   ****         return -1; /* invalid input */
 10321              	LM1272:
 10322 759f C745FCFF 		movl	$-1, -4(%ebp)
 10322      FFFFFF
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 289


 10323 75a6 EB40     		jmp	L599
 10324              	L600:
5524:str_merge.c   ****     }
5525:str_merge.c   **** 
5526:str_merge.c   ****     /*----------------------------------------------------------------*/
5527:str_merge.c   ****     /* Code Body                                                      */
5528:str_merge.c   ****     /*----------------------------------------------------------------*/
5529:str_merge.c   ****     return write_fixed_str(res, map, resMeta, mapMeta, 0, pos, offs, id);
 10326              	LM1273:
 10327 75a8 8B4520   		movl	32(%ebp), %eax
 10328 75ab 8944241C 		movl	%eax, 28(%esp)
 10329 75af 8B451C   		movl	28(%ebp), %eax
 10330 75b2 89442418 		movl	%eax, 24(%esp)
 10331 75b6 8B4518   		movl	24(%ebp), %eax
 10332 75b9 89442414 		movl	%eax, 20(%esp)
 10333 75bd C7442410 		movl	$0, 16(%esp)
 10333      00000000 
 10334 75c5 8B4514   		movl	20(%ebp), %eax
 10335 75c8 8944240C 		movl	%eax, 12(%esp)
 10336 75cc 8B4510   		movl	16(%ebp), %eax
 10337 75cf 89442408 		movl	%eax, 8(%esp)
 10338 75d3 8B450C   		movl	12(%ebp), %eax
 10339 75d6 89442404 		movl	%eax, 4(%esp)
 10340 75da 8B4508   		movl	8(%ebp), %eax
 10341 75dd 890424   		movl	%eax, (%esp)
 10342 75e0 E8ECFDFF 		call	_write_fixed_str
 10342      FF
 10343 75e5 8945FC   		movl	%eax, -4(%ebp)
5530:str_merge.c   **** }
 10345              	LM1274:
 10346              	L599:
 10347 75e8 8B45FC   		movl	-4(%ebp), %eax
 10348 75eb C9       		leave
 10349 75ec C3       		ret
 10350              	Lscope44:
 10355              	.globl _ucs2toasc
 10357              	_ucs2toasc:
5531:str_merge.c   **** 
5532:str_merge.c   **** /*****************************************************************************
5533:str_merge.c   ****  * FUNCTION
5534:str_merge.c   ****  *  ucs2toasc
5535:str_merge.c   ****  * DESCRIPTION
5536:str_merge.c   ****  *  simple ucs2 to asc
5537:str_merge.c   ****  * PARAMETERS
5538:str_merge.c   ****  *  
5539:str_merge.c   ****  * RETURNS
5540:str_merge.c   ****  *  
5541:str_merge.c   ****  *****************************************************************************/
5542:str_merge.c   **** int ucs2toasc(U8* pOutBuff, U8 *pInBuff)
5543:str_merge.c   **** {
 10359              	LM1275:
 10360 75ed 55       		pushl	%ebp
 10361 75ee 89E5     		movl	%esp, %ebp
 10362 75f0 83EC04   		subl	$4, %esp
5544:str_merge.c   ****     int count = 0;
 10364              	LM1276:
 10365              	LBB63:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 290


 10366 75f3 C745FC00 		movl	$0, -4(%ebp)
 10366      000000
5545:str_merge.c   **** 
5546:str_merge.c   ****     if(pInBuff != 0)
 10368              	LM1277:
 10369 75fa 837D0C00 		cmpl	$0, 12(%ebp)
 10370 75fe 742E     		je	L603
5547:str_merge.c   ****     {
5548:str_merge.c   ****         while(!(*pInBuff == 0 && *(pInBuff + 1) == 0))
 10372              	LM1278:
 10373              	L604:
 10374 7600 8B450C   		movl	12(%ebp), %eax
 10375 7603 803800   		cmpb	$0, (%eax)
 10376 7606 750B     		jne	L606
 10377 7608 8B450C   		movl	12(%ebp), %eax
 10378 760b 40       		incl	%eax
 10379 760c 803800   		cmpb	$0, (%eax)
 10380 760f 7502     		jne	L606
 10381 7611 EB1B     		jmp	L603
 10382              	L606:
5549:str_merge.c   ****         {
5550:str_merge.c   ****             *pOutBuff = *pInBuff;
 10384              	LM1279:
 10385 7613 8B5508   		movl	8(%ebp), %edx
 10386 7616 8B450C   		movl	12(%ebp), %eax
 10387 7619 0FB600   		movzbl	(%eax), %eax
 10388 761c 8802     		movb	%al, (%edx)
5551:str_merge.c   ****             pOutBuff += 1;
 10390              	LM1280:
 10391 761e FF4508   		incl	8(%ebp)
5552:str_merge.c   ****             pInBuff += 2;
 10393              	LM1281:
 10394 7621 8D450C   		leal	12(%ebp), %eax
 10395 7624 830002   		addl	$2, (%eax)
5553:str_merge.c   ****             count++;
 10397              	LM1282:
 10398 7627 8D45FC   		leal	-4(%ebp), %eax
 10399 762a FF00     		incl	(%eax)
 10400 762c EBD2     		jmp	L604
 10401              	L603:
5554:str_merge.c   ****         }
5555:str_merge.c   ****     }
5556:str_merge.c   **** 
5557:str_merge.c   ****     *pOutBuff = '\0';
 10403              	LM1283:
 10404 762e 8B4508   		movl	8(%ebp), %eax
 10405 7631 C60000   		movb	$0, (%eax)
5558:str_merge.c   **** 
5559:str_merge.c   ****     return count;
 10407              	LM1284:
 10408 7634 8B45FC   		movl	-4(%ebp), %eax
5560:str_merge.c   **** }
 10410              	LM1285:
 10411 7637 C9       		leave
 10412 7638 C3       		ret
 10413              	LBE63:
 10417              	Lscope45:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 291


 10419              	LC144:
 10420 7639 00       		.ascii "\0"
 10421              	LC145:
 10422 763a 25730925 		.ascii "%s\11%d\11%s\11%d\11%s\12\0"
 10422      64092573 
 10422      09256409 
 10422      25730A00 
 10428              	_write_fixed_string_log:
5561:str_merge.c   **** 
5562:str_merge.c   **** /*****************************************************************************
5563:str_merge.c   ****  * FUNCTION
5564:str_merge.c   ****  *  write_fixed_string_log
5565:str_merge.c   ****  * DESCRIPTION
5566:str_merge.c   ****  *  write fixed string id's log into fixed_string.txt
5567:str_merge.c   ****  * PARAMETERS
5568:str_merge.c   ****  *  pease refer write_fixed_str's description
5569:str_merge.c   ****  * RETURNS
5570:str_merge.c   ****  *  return -1 if input is invalid, return-2 if malloc faileds, else return string length
5571:str_merge.c   ****  *****************************************************************************/
5572:str_merge.c   **** /* id_enum | id_value | data | len | duplicate id */
5573:str_merge.c   **** static MMI_BOOL write_fixed_string_log(FILE *log, U16 id, U16 dup_id)
5574:str_merge.c   **** {
 10430              	LM1286:
 10431 764a 55       		pushl	%ebp
 10432 764b 89E5     		movl	%esp, %ebp
 10433 764d 81EC5806 		subl	$1624, %esp
 10433      0000
 10434 7653 8B450C   		movl	12(%ebp), %eax
 10435 7656 8B5510   		movl	16(%ebp), %edx
 10436 7659 668945F6 		movw	%ax, -10(%ebp)
 10437 765d 668955F4 		movw	%dx, -12(%ebp)
5575:str_merge.c   ****     char *id_enum = "", *did_enum = "", *id_str = "";
 10439              	LM1287:
 10440              	LBB64:
 10441 7661 C745F039 		movl	$LC144, -16(%ebp)
 10441      760000
 10442 7668 C745EC39 		movl	$LC144, -20(%ebp)
 10442      760000
 10443 766f C745E839 		movl	$LC144, -24(%ebp)
 10443      760000
5576:str_merge.c   ****     int len = 0;
 10445              	LM1288:
 10446 7676 C745E400 		movl	$0, -28(%ebp)
 10446      000000
5577:str_merge.c   ****     U8 enum_buff[MAX_LENGTH]; /* ascii data out buffer */
5578:str_merge.c   ****     U8 str_buff[MAX_LENGTH]; /* default string data bffer */
5579:str_merge.c   ****     U8 denum_buff[MAX_LENGTH]; /* duplicate id enum */
5580:str_merge.c   ****     enum_buff[0] = '\0';
 10448              	LM1289:
 10449 767d C685D8FD 		movb	$0, -552(%ebp)
 10449      FFFF00
5581:str_merge.c   ****     str_buff[0] = '\0';
 10451              	LM1290:
 10452 7684 C685D8FB 		movb	$0, -1064(%ebp)
 10452      FFFF00
5582:str_merge.c   ****     denum_buff[0] = '\0';
 10454              	LM1291:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 292


 10455 768b C685D8F9 		movb	$0, -1576(%ebp)
 10455      FFFF00
5583:str_merge.c   ****     
5584:str_merge.c   ****     if(log == 0 || id <= 0 || id > MAX_STRING_MAP_SIZE)
 10457              	LM1292:
 10458 7692 837D0800 		cmpl	$0, 8(%ebp)
 10459 7696 7407     		je	L609
 10460 7698 66837DF6 		cmpw	$0, -10(%ebp)
 10460      00
 10461 769d 750F     		jne	L608
 10462              	L609:
5585:str_merge.c   ****     {
5586:str_merge.c   ****         return MMI_FALSE;
 10464              	LM1293:
 10465 769f C785D4F9 		movl	$0, -1580(%ebp)
 10465      FFFF0000 
 10465      0000
 10466 76a9 E9CE0000 		jmp	L607
 10466      00
 10467              	L608:
5587:str_merge.c   ****     }
5588:str_merge.c   **** 
5589:str_merge.c   ****     ucs2toasc(enum_buff, StrEnum[id]);
 10469              	LM1294:
 10470 76ae 0FB745F6 		movzwl	-10(%ebp), %eax
 10471 76b2 8B048500 		movl	_StrEnum(,%eax,4), %eax
 10471      000000
 10472 76b9 89442404 		movl	%eax, 4(%esp)
 10473 76bd 8D85D8FD 		leal	-552(%ebp), %eax
 10473      FFFF
 10474 76c3 890424   		movl	%eax, (%esp)
 10475 76c6 E822FFFF 		call	_ucs2toasc
 10475      FF
5590:str_merge.c   ****     ucs2toasc(str_buff, Str[id]);
 10477              	LM1295:
 10478 76cb 0FB745F6 		movzwl	-10(%ebp), %eax
 10479 76cf 8B048500 		movl	_Str(,%eax,4), %eax
 10479      000000
 10480 76d6 89442404 		movl	%eax, 4(%esp)
 10481 76da 8D85D8FB 		leal	-1064(%ebp), %eax
 10481      FFFF
 10482 76e0 890424   		movl	%eax, (%esp)
 10483 76e3 E805FFFF 		call	_ucs2toasc
 10483      FF
5591:str_merge.c   ****     
5592:str_merge.c   ****     if(str_buff[0] != '\0')
 10485              	LM1296:
 10486 76e8 80BDD8FB 		cmpb	$0, -1064(%ebp)
 10486      FFFF00
 10487 76ef 7416     		je	L610
5593:str_merge.c   ****         len = (strlen(str_buff) + 1) * 2;
 10489              	LM1297:
 10490 76f1 8D85D8FB 		leal	-1064(%ebp), %eax
 10490      FFFF
 10491 76f7 890424   		movl	%eax, (%esp)
 10492 76fa E8000000 		call	_strlen
 10492      00
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 293


 10493 76ff 01C0     		addl	%eax, %eax
 10494 7701 83C002   		addl	$2, %eax
 10495 7704 8945E4   		movl	%eax, -28(%ebp)
 10496              	L610:
5594:str_merge.c   ****     
5595:str_merge.c   ****     if(dup_id != 0 && dup_id < MAX_STRING_MAP_SIZE)
 10498              	LM1298:
 10499 7707 66837DF4 		cmpw	$0, -12(%ebp)
 10499      00
 10500 770c 7424     		je	L611
 10501 770e 66837DF4 		cmpw	$-1, -12(%ebp)
 10501      FF
 10502 7713 741D     		je	L611
5596:str_merge.c   ****     {
5597:str_merge.c   ****         ucs2toasc(denum_buff, StrEnum[dup_id]);
 10504              	LM1299:
 10505 7715 0FB745F4 		movzwl	-12(%ebp), %eax
 10506 7719 8B048500 		movl	_StrEnum(,%eax,4), %eax
 10506      000000
 10507 7720 89442404 		movl	%eax, 4(%esp)
 10508 7724 8D85D8F9 		leal	-1576(%ebp), %eax
 10508      FFFF
 10509 772a 890424   		movl	%eax, (%esp)
 10510 772d E8BBFEFF 		call	_ucs2toasc
 10510      FF
 10511              	L611:
5598:str_merge.c   ****     }
5599:str_merge.c   **** 
5600:str_merge.c   ****     fprintf(log, "%s\t%d\t%s\t%d\t%s\n", enum_buff, id, str_buff, len, denum_buff);
 10513              	LM1300:
 10514 7732 8D85D8F9 		leal	-1576(%ebp), %eax
 10514      FFFF
 10515 7738 89442418 		movl	%eax, 24(%esp)
 10516 773c 8B45E4   		movl	-28(%ebp), %eax
 10517 773f 89442414 		movl	%eax, 20(%esp)
 10518 7743 8D85D8FB 		leal	-1064(%ebp), %eax
 10518      FFFF
 10519 7749 89442410 		movl	%eax, 16(%esp)
 10520 774d 0FB745F6 		movzwl	-10(%ebp), %eax
 10521 7751 8944240C 		movl	%eax, 12(%esp)
 10522 7755 8D85D8FD 		leal	-552(%ebp), %eax
 10522      FFFF
 10523 775b 89442408 		movl	%eax, 8(%esp)
 10524 775f C7442404 		movl	$LC145, 4(%esp)
 10524      3A760000 
 10525 7767 8B4508   		movl	8(%ebp), %eax
 10526 776a 890424   		movl	%eax, (%esp)
 10527 776d E8000000 		call	_fprintf
 10527      00
5601:str_merge.c   **** 
5602:str_merge.c   ****     return MMI_TRUE;
 10529              	LM1301:
 10530 7772 C785D4F9 		movl	$1, -1580(%ebp)
 10530      FFFF0100 
 10530      0000
5603:str_merge.c   **** }
 10532              	LM1302:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 294


 10533              	L607:
 10534              	LBE64:
 10535 777c 8B85D4F9 		movl	-1580(%ebp), %eax
 10535      FFFF
 10536 7782 C9       		leave
 10537 7783 C3       		ret
 10549              	Lscope46:
 10551 7784 90909090 		.align 32
 10551      90909090 
 10551      90909090 
 10551      90909090 
 10551      90909090 
 10552              	LC146:
 10553 77a0 5B4D454D 		.ascii "[MEM]Create list of size %d in CreateRefList()\0"
 10553      5D437265 
 10553      61746520 
 10553      6C697374 
 10553      206F6620 
 10554              	LC147:
 10555 77cf 43616E27 		.ascii "Can't create list of size %d\0"
 10555      74206372 
 10555      65617465 
 10555      206C6973 
 10555      74206F66 
 10559              	_CreateRefList:
5604:str_merge.c   **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
5605:str_merge.c   **** 
5606:str_merge.c   **** #ifdef MEM_REF_LIST_OPT
5607:str_merge.c   **** /* Create RefList */
5608:str_merge.c   **** static RefList* CreateRefList(int listSize)
5609:str_merge.c   **** {
 10561              	LM1303:
 10562 77ec 55       		pushl	%ebp
 10563 77ed 89E5     		movl	%esp, %ebp
 10564 77ef 53       		pushl	%ebx
 10565 77f0 83EC14   		subl	$20, %esp
5610:str_merge.c   ****     STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Create list of size %d in CreateRefList()",listSize);
 10567              	LM1304:
 10568              	LBB65:
 10569 77f3 8B4508   		movl	8(%ebp), %eax
 10570 77f6 8944240C 		movl	%eax, 12(%esp)
 10571 77fa C7442408 		movl	$LC146, 8(%esp)
 10571      A0770000 
 10572 7802 C7442404 		movl	$LC3, 4(%esp)
 10572      4B040000 
 10573 780a C7042401 		movl	$1, (%esp)
 10573      000000
 10574 7811 E8000000 		call	_reslog_adaptor_log
 10574      00
5611:str_merge.c   ****     RefList* newList = (RefList*) malloc( sizeof(RefList) );
 10576              	LM1305:
 10577 7816 C7042410 		movl	$16, (%esp)
 10577      000000
 10578 781d E8000000 		call	_malloc
 10578      00
 10579 7822 8945F8   		movl	%eax, -8(%ebp)
5612:str_merge.c   ****     memset(newList,0,sizeof(RefList));
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 295


 10581              	LM1306:
 10582 7825 C7442408 		movl	$16, 8(%esp)
 10582      10000000 
 10583 782d C7442404 		movl	$0, 4(%esp)
 10583      00000000 
 10584 7835 8B45F8   		movl	-8(%ebp), %eax
 10585 7838 890424   		movl	%eax, (%esp)
 10586 783b E8000000 		call	_memset
 10586      00
5613:str_merge.c   ****     newList->ListItems = (RefListItem**) malloc( sizeof(RefListItem*) * listSize);
 10588              	LM1307:
 10589 7840 8B5DF8   		movl	-8(%ebp), %ebx
 10590 7843 8B4508   		movl	8(%ebp), %eax
 10591 7846 C1E002   		sall	$2, %eax
 10592 7849 890424   		movl	%eax, (%esp)
 10593 784c E8000000 		call	_malloc
 10593      00
 10594 7851 8903     		movl	%eax, (%ebx)
5614:str_merge.c   ****     if(newList->ListItems == NULL)
 10596              	LM1308:
 10597 7853 8B45F8   		movl	-8(%ebp), %eax
 10598 7856 833800   		cmpl	$0, (%eax)
 10599 7859 7523     		jne	L613
5615:str_merge.c   ****     {
5616:str_merge.c   ****         STRMERG_LOG_E("Can't create list of size %d", listSize); 
 10601              	LM1309:
 10602 785b 8B4508   		movl	8(%ebp), %eax
 10603 785e 8944240C 		movl	%eax, 12(%esp)
 10604 7862 C7442408 		movl	$LC147, 8(%esp)
 10604      CF770000 
 10605 786a C7442404 		movl	$LC3, 4(%esp)
 10605      4B040000 
 10606 7872 C7042403 		movl	$3, (%esp)
 10606      000000
 10607 7879 E8000000 		call	_reslog_adaptor_log
 10607      00
 10608              	L613:
5617:str_merge.c   ****     }
5618:str_merge.c   ****   
5619:str_merge.c   ****     memset(newList->ListItems,0,sizeof(RefListItem*) * listSize);
 10610              	LM1310:
 10611 787e 8B4508   		movl	8(%ebp), %eax
 10612 7881 C1E002   		sall	$2, %eax
 10613 7884 89442408 		movl	%eax, 8(%esp)
 10614 7888 C7442404 		movl	$0, 4(%esp)
 10614      00000000 
 10615 7890 8B45F8   		movl	-8(%ebp), %eax
 10616 7893 8B00     		movl	(%eax), %eax
 10617 7895 890424   		movl	%eax, (%esp)
 10618 7898 E8000000 		call	_memset
 10618      00
5620:str_merge.c   ****     newList->ListLength = 0;
 10620              	LM1311:
 10621 789d 8B45F8   		movl	-8(%ebp), %eax
 10622 78a0 C7400400 		movl	$0, 4(%eax)
 10622      000000
5621:str_merge.c   ****     newList->Size = listSize;
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 296


 10624              	LM1312:
 10625 78a7 8B55F8   		movl	-8(%ebp), %edx
 10626 78aa 8B4508   		movl	8(%ebp), %eax
 10627 78ad 894208   		movl	%eax, 8(%edx)
5622:str_merge.c   ****     newList->AllocatedSize =0;
 10629              	LM1313:
 10630 78b0 8B45F8   		movl	-8(%ebp), %eax
 10631 78b3 C7400C00 		movl	$0, 12(%eax)
 10631      000000
5623:str_merge.c   ****     return newList;
 10633              	LM1314:
 10634 78ba 8B45F8   		movl	-8(%ebp), %eax
5624:str_merge.c   **** }
 10636              	LM1315:
 10637 78bd 83C414   		addl	$20, %esp
 10638 78c0 5B       		popl	%ebx
 10639 78c1 5D       		popl	%ebp
 10640 78c2 C3       		ret
 10641              	LBE65:
 10645              	Lscope47:
 10647 78c3 90909090 		.align 32
 10647      90909090 
 10647      90909090 
 10647      90909090 
 10647      90909090 
 10648              	LC148:
 10649 78e0 5B4D454D 		.ascii "[MEM]Free list of size %d, %d items in CreateRefList()\0"
 10649      5D467265 
 10649      65206C69 
 10649      7374206F 
 10649      66207369 
 10650 7917 89F68DBC 		.align 32
 10650      27000000 
 10650      00
 10651              	LC149:
 10652 7920 5B4D454D 		.ascii "[MEM]DeleteRefList Finished ... %d items have been free\0"
 10652      5D44656C 
 10652      65746552 
 10652      65664C69 
 10652      73742046 
 10656              	_DeleteRefList:
5625:str_merge.c   **** 
5626:str_merge.c   **** /* Delete RefList */
5627:str_merge.c   **** static void DeleteRefList(RefList * list)
5628:str_merge.c   **** {
 10658              	LM1316:
 10659 7958 55       		pushl	%ebp
 10660 7959 89E5     		movl	%esp, %ebp
 10661 795b 83EC28   		subl	$40, %esp
5629:str_merge.c   ****   STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "Free list of size %d, %d items in CreateRefList()", list->List
 10663              	LM1317:
 10664              	LBB66:
 10665 795e 8B4508   		movl	8(%ebp), %eax
 10666 7961 8B4008   		movl	8(%eax), %eax
 10667 7964 89442410 		movl	%eax, 16(%esp)
 10668 7968 8B4508   		movl	8(%ebp), %eax
 10669 796b 8B4004   		movl	4(%eax), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 297


 10670 796e 8944240C 		movl	%eax, 12(%esp)
 10671 7972 C7442408 		movl	$LC148, 8(%esp)
 10671      E0780000 
 10672 797a C7442404 		movl	$LC3, 4(%esp)
 10672      4B040000 
 10673 7982 C7042401 		movl	$1, (%esp)
 10673      000000
 10674 7989 E8000000 		call	_reslog_adaptor_log
 10674      00
5630:str_merge.c   ****   int i=0;
 10676              	LM1318:
 10677 798e C745FC00 		movl	$0, -4(%ebp)
 10677      000000
5631:str_merge.c   ****   RefListItem * item = NULL;
 10679              	LM1319:
 10680 7995 C745F800 		movl	$0, -8(%ebp)
 10680      000000
5632:str_merge.c   ****   for(i=0;i< list->ListLength;i++)
 10682              	LM1320:
 10683 799c C745FC00 		movl	$0, -4(%ebp)
 10683      000000
 10684              	L615:
 10685 79a3 8B5508   		movl	8(%ebp), %edx
 10686 79a6 8B45FC   		movl	-4(%ebp), %eax
 10687 79a9 3B4204   		cmpl	4(%edx), %eax
 10688 79ac 7C02     		jl	L618
 10689 79ae EB42     		jmp	L616
 10690              	L618:
5633:str_merge.c   ****   {
5634:str_merge.c   ****     item = *(list->ListItems+i);
 10692              	LM1321:
 10693 79b0 8B4D08   		movl	8(%ebp), %ecx
 10694 79b3 8B45FC   		movl	-4(%ebp), %eax
 10695 79b6 8D148500 		leal	0(,%eax,4), %edx
 10695      000000
 10696 79bd 8B01     		movl	(%ecx), %eax
 10697 79bf 8B0410   		movl	(%eax,%edx), %eax
 10698 79c2 8945F8   		movl	%eax, -8(%ebp)
5635:str_merge.c   ****     if(item!=NULL)
 10700              	LM1322:
 10701 79c5 837DF800 		cmpl	$0, -8(%ebp)
 10702 79c9 7420     		je	L617
5636:str_merge.c   ****     {
5637:str_merge.c   ****       if(item->ItemData !=NULL){
 10704              	LM1323:
 10705 79cb 8B45F8   		movl	-8(%ebp), %eax
 10706 79ce 833800   		cmpl	$0, (%eax)
 10707 79d1 740D     		je	L620
5638:str_merge.c   ****         free(item->ItemData);
 10709              	LM1324:
 10710 79d3 8B45F8   		movl	-8(%ebp), %eax
 10711 79d6 8B00     		movl	(%eax), %eax
 10712 79d8 890424   		movl	%eax, (%esp)
 10713 79db E8000000 		call	_free
 10713      00
 10714              	L620:
5639:str_merge.c   ****       }
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 298


5640:str_merge.c   ****       free(item);
 10716              	LM1325:
 10717 79e0 8B45F8   		movl	-8(%ebp), %eax
 10718 79e3 890424   		movl	%eax, (%esp)
 10719 79e6 E8000000 		call	_free
 10719      00
 10721              	LM1326:
 10722              	L617:
 10723 79eb 8D45FC   		leal	-4(%ebp), %eax
 10724 79ee FF00     		incl	(%eax)
 10725 79f0 EBB1     		jmp	L615
 10726              	L616:
5641:str_merge.c   ****     }
5642:str_merge.c   ****   }
5643:str_merge.c   ****   free(list);
 10728              	LM1327:
 10729 79f2 8B4508   		movl	8(%ebp), %eax
 10730 79f5 890424   		movl	%eax, (%esp)
 10731 79f8 E8000000 		call	_free
 10731      00
5644:str_merge.c   ****   STRMERG_LOG_V(STRMERG_SUB_TAG_MEM "DeleteRefList Finished ... %d items have been free",i);
 10733              	LM1328:
 10734 79fd 8B45FC   		movl	-4(%ebp), %eax
 10735 7a00 8944240C 		movl	%eax, 12(%esp)
 10736 7a04 C7442408 		movl	$LC149, 8(%esp)
 10736      20790000 
 10737 7a0c C7442404 		movl	$LC3, 4(%esp)
 10737      4B040000 
 10738 7a14 C7042401 		movl	$1, (%esp)
 10738      000000
 10739 7a1b E8000000 		call	_reslog_adaptor_log
 10739      00
5645:str_merge.c   **** }
 10741              	LM1329:
 10742 7a20 C9       		leave
 10743 7a21 C3       		ret
 10744              	LBE66:
 10749              	Lscope48:
 10751              	LC150:
 10752 7a22 43616E27 		.ascii "Can't allocate item for %s\0"
 10752      7420616C 
 10752      6C6F6361 
 10752      74652069 
 10752      74656D20 
 10753 7a3d 8D7600   		.align 32
 10754              	LC151:
 10755 7a40 43616E27 		.ascii "Can't allocate item ItemData for %s\0"
 10755      7420616C 
 10755      6C6F6361 
 10755      74652069 
 10755      74656D20 
 10759              	_CreateListItemFromStr:
5646:str_merge.c   **** 
5647:str_merge.c   **** 
5648:str_merge.c   **** /* Create a ref item object with a string line */
5649:str_merge.c   **** static RefListItem* CreateListItemFromStr(wchar_t * str)
5650:str_merge.c   **** {
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 299


 10761              	LM1330:
 10762 7a64 55       		pushl	%ebp
 10763 7a65 89E5     		movl	%esp, %ebp
 10764 7a67 53       		pushl	%ebx
 10765 7a68 83EC24   		subl	$36, %esp
5651:str_merge.c   ****     RefListItem* newItem = NULL;
 10767              	LM1331:
 10768              	LBB67:
 10769 7a6b C745F800 		movl	$0, -8(%ebp)
 10769      000000
5652:str_merge.c   ****     newItem = malloc(sizeof(RefListItem));
 10771              	LM1332:
 10772 7a72 C7042408 		movl	$8, (%esp)
 10772      000000
 10773 7a79 E8000000 		call	_malloc
 10773      00
 10774 7a7e 8945F8   		movl	%eax, -8(%ebp)
5653:str_merge.c   ****     /* Allocate list item */
5654:str_merge.c   ****     if(newItem == NULL)
 10776              	LM1333:
 10777 7a81 837DF800 		cmpl	$0, -8(%ebp)
 10778 7a85 753A     		jne	L622
5655:str_merge.c   ****     {
5656:str_merge.c   ****         STRMERG_LOG_E("Can't allocate item for %s",str);
 10780              	LM1334:
 10781 7a87 8B4508   		movl	8(%ebp), %eax
 10782 7a8a 8944240C 		movl	%eax, 12(%esp)
 10783 7a8e C7442408 		movl	$LC150, 8(%esp)
 10783      227A0000 
 10784 7a96 C7442404 		movl	$LC3, 4(%esp)
 10784      4B040000 
 10785 7a9e C7042403 		movl	$3, (%esp)
 10785      000000
 10786 7aa5 E8000000 		call	_reslog_adaptor_log
 10786      00
5657:str_merge.c   ****         free(newItem);
 10788              	LM1335:
 10789 7aaa 8B45F8   		movl	-8(%ebp), %eax
 10790 7aad 890424   		movl	%eax, (%esp)
 10791 7ab0 E8000000 		call	_free
 10791      00
5658:str_merge.c   ****         return NULL;
 10793              	LM1336:
 10794 7ab5 C745F400 		movl	$0, -12(%ebp)
 10794      000000
 10795 7abc E9C00000 		jmp	L621
 10795      00
 10796              	L622:
5659:str_merge.c   ****     }
5660:str_merge.c   ****     memset(newItem,sizeof(RefListItem),0);
 10798              	LM1337:
 10799 7ac1 C7442408 		movl	$0, 8(%esp)
 10799      00000000 
 10800 7ac9 C7442404 		movl	$8, 4(%esp)
 10800      08000000 
 10801 7ad1 8B45F8   		movl	-8(%ebp), %eax
 10802 7ad4 890424   		movl	%eax, (%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 300


 10803 7ad7 E8000000 		call	_memset
 10803      00
5661:str_merge.c   ****     newItem->ItemSize = (wcslen(str)+1) * sizeof(wchar_t) ;
 10805              	LM1338:
 10806 7adc 8B5DF8   		movl	-8(%ebp), %ebx
 10807 7adf 8B4508   		movl	8(%ebp), %eax
 10808 7ae2 890424   		movl	%eax, (%esp)
 10809 7ae5 E8000000 		call	_wcslen
 10809      00
 10810 7aea 01C0     		addl	%eax, %eax
 10811 7aec 83C002   		addl	$2, %eax
 10812 7aef 894304   		movl	%eax, 4(%ebx)
5662:str_merge.c   ****     newItem->ItemData = malloc(newItem->ItemSize);
 10814              	LM1339:
 10815 7af2 8B5DF8   		movl	-8(%ebp), %ebx
 10816 7af5 8B45F8   		movl	-8(%ebp), %eax
 10817 7af8 8B4004   		movl	4(%eax), %eax
 10818 7afb 890424   		movl	%eax, (%esp)
 10819 7afe E8000000 		call	_malloc
 10819      00
 10820 7b03 8903     		movl	%eax, (%ebx)
5663:str_merge.c   ****     /* Allocate string data */
5664:str_merge.c   ****     if(newItem->ItemData == NULL)
 10822              	LM1340:
 10823 7b05 8B45F8   		movl	-8(%ebp), %eax
 10824 7b08 833800   		cmpl	$0, (%eax)
 10825 7b0b 753B     		jne	L623
5665:str_merge.c   ****     {
5666:str_merge.c   ****         STRMERG_LOG_E("Can't allocate item ItemData for %s",newItem->ItemData);
 10827              	LM1341:
 10828 7b0d 8B45F8   		movl	-8(%ebp), %eax
 10829 7b10 8B00     		movl	(%eax), %eax
 10830 7b12 8944240C 		movl	%eax, 12(%esp)
 10831 7b16 C7442408 		movl	$LC151, 8(%esp)
 10831      407A0000 
 10832 7b1e C7442404 		movl	$LC3, 4(%esp)
 10832      4B040000 
 10833 7b26 C7042403 		movl	$3, (%esp)
 10833      000000
 10834 7b2d E8000000 		call	_reslog_adaptor_log
 10834      00
5667:str_merge.c   ****         free(newItem->ItemData);
 10836              	LM1342:
 10837 7b32 8B45F8   		movl	-8(%ebp), %eax
 10838 7b35 8B00     		movl	(%eax), %eax
 10839 7b37 890424   		movl	%eax, (%esp)
 10840 7b3a E8000000 		call	_free
 10840      00
5668:str_merge.c   ****         return NULL;
 10842              	LM1343:
 10843 7b3f C745F400 		movl	$0, -12(%ebp)
 10843      000000
 10844 7b46 EB39     		jmp	L621
 10845              	L623:
5669:str_merge.c   ****     }
5670:str_merge.c   ****     memset(newItem->ItemData,newItem->ItemSize,0);
 10847              	LM1344:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 301


 10848 7b48 C7442408 		movl	$0, 8(%esp)
 10848      00000000 
 10849 7b50 8B45F8   		movl	-8(%ebp), %eax
 10850 7b53 8B4004   		movl	4(%eax), %eax
 10851 7b56 89442404 		movl	%eax, 4(%esp)
 10852 7b5a 8B45F8   		movl	-8(%ebp), %eax
 10853 7b5d 8B00     		movl	(%eax), %eax
 10854 7b5f 890424   		movl	%eax, (%esp)
 10855 7b62 E8000000 		call	_memset
 10855      00
5671:str_merge.c   ****     wcscpy(newItem->ItemData,str);
 10857              	LM1345:
 10858 7b67 8B4508   		movl	8(%ebp), %eax
 10859 7b6a 89442404 		movl	%eax, 4(%esp)
 10860 7b6e 8B45F8   		movl	-8(%ebp), %eax
 10861 7b71 8B00     		movl	(%eax), %eax
 10862 7b73 890424   		movl	%eax, (%esp)
 10863 7b76 E8000000 		call	_wcscpy
 10863      00
5672:str_merge.c   ****     return newItem;
 10865              	LM1346:
 10866 7b7b 8B45F8   		movl	-8(%ebp), %eax
 10867 7b7e 8945F4   		movl	%eax, -12(%ebp)
5673:str_merge.c   **** }
 10869              	LM1347:
 10870              	L621:
 10871              	LBE67:
 10872 7b81 8B45F4   		movl	-12(%ebp), %eax
 10873 7b84 83C424   		addl	$36, %esp
 10874 7b87 5B       		popl	%ebx
 10875 7b88 5D       		popl	%ebp
 10876 7b89 C3       		ret
 10880              	Lscope49:
 10882 7b8a 90909090 		.align 32
 10882      90909090 
 10882      90909090 
 10882      90909090 
 10882      90909090 
 10883              	LC152:
 10884 7ba0 4C697374 		.ascii "List can't not be null in AddRefListItem()\0"
 10884      2063616E 
 10884      2774206E 
 10884      6F742062 
 10884      65206E75 
 10885 7bcb 90909090 		.align 32
 10885      90909090 
 10885      90909090 
 10885      90909090 
 10885      90909090 
 10886              	LC153:
 10887 7be0 52657369 		.ascii "Resize list from %d to %d in AddRefListItem()\0"
 10887      7A65206C 
 10887      69737420 
 10887      66726F6D 
 10887      20256420 
 10888 7c0e 90909090 		.align 32
 10888      90909090 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 302


 10888      90909090 
 10888      90909090 
 10888      9090
 10889              	LC154:
 10890 7c20 4F757420 		.ascii "Out of memory. Can't resize list in AddRefListItem().\0"
 10890      6F66206D 
 10890      656D6F72 
 10890      792E2043 
 10890      616E2774 
 10895              	_AddRefListItem:
5674:str_merge.c   **** 
5675:str_merge.c   **** /* Add an item form a ref list */
5676:str_merge.c   **** static int AddRefListItem(RefList * list, RefListItem* item)
5677:str_merge.c   **** {
 10897              	LM1348:
 10898 7c56 55       		pushl	%ebp
 10899 7c57 89E5     		movl	%esp, %ebp
 10900 7c59 83EC38   		subl	$56, %esp
5678:str_merge.c   ****     int newSize = 0;
 10902              	LM1349:
 10903              	LBB68:
 10904 7c5c C745FC00 		movl	$0, -4(%ebp)
 10904      000000
5679:str_merge.c   ****     int indx = 0;
 10906              	LM1350:
 10907 7c63 C745F800 		movl	$0, -8(%ebp)
 10907      000000
5680:str_merge.c   ****     RefListItem* tmpItem = NULL;
 10909              	LM1351:
 10910 7c6a C745F400 		movl	$0, -12(%ebp)
 10910      000000
5681:str_merge.c   ****     RefListItem** tmpItemList = NULL;
 10912              	LM1352:
 10913 7c71 C745F000 		movl	$0, -16(%ebp)
 10913      000000
5682:str_merge.c   ****   
5683:str_merge.c   ****     /* Null pointer check */
5684:str_merge.c   ****     if(list == NULL)
 10915              	LM1353:
 10916 7c78 837D0800 		cmpl	$0, 8(%ebp)
 10917 7c7c 7528     		jne	L625
5685:str_merge.c   ****     {
5686:str_merge.c   ****         STRMERG_LOG_E("List can't not be null in AddRefListItem()");
 10919              	LM1354:
 10920 7c7e C7442408 		movl	$LC152, 8(%esp)
 10920      A07B0000 
 10921 7c86 C7442404 		movl	$LC3, 4(%esp)
 10921      4B040000 
 10922 7c8e C7042403 		movl	$3, (%esp)
 10922      000000
 10923 7c95 E8000000 		call	_reslog_adaptor_log
 10923      00
5687:str_merge.c   ****         return -1;
 10925              	LM1355:
 10926 7c9a C745E8FF 		movl	$-1, -24(%ebp)
 10926      FFFFFF
 10927 7ca1 E9250100 		jmp	L624
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 303


 10927      00
 10928              	L625:
5688:str_merge.c   ****     }
5689:str_merge.c   ****     /* Size check */
5690:str_merge.c   ****     /* If the size is not enough, adjust it. */
5691:str_merge.c   ****     if( (list->ListLength)+1 > list->Size )
 10930              	LM1356:
 10931 7ca6 8B4508   		movl	8(%ebp), %eax
 10932 7ca9 8B5004   		movl	4(%eax), %edx
 10933 7cac 42       		incl	%edx
 10934 7cad 8B4508   		movl	8(%ebp), %eax
 10935 7cb0 3B5008   		cmpl	8(%eax), %edx
 10936 7cb3 0F8EDC00 		jle	L626
 10936      0000
5692:str_merge.c   ****     {
5693:str_merge.c   ****         newSize =  list->Size + REF_LIST_SIZE_INCREMENT;
 10938              	LM1357:
 10939              	LBB69:
 10940 7cb9 8B4508   		movl	8(%ebp), %eax
 10941 7cbc 8B4008   		movl	8(%eax), %eax
 10942 7cbf 05F40100 		addl	$500, %eax
 10942      00
 10943 7cc4 8945FC   		movl	%eax, -4(%ebp)
5694:str_merge.c   ****         STRMERG_LOG_E("Resize list from %d to %d in AddRefListItem()",list->Size, newSize);
 10945              	LM1358:
 10946 7cc7 8B45FC   		movl	-4(%ebp), %eax
 10947 7cca 89442410 		movl	%eax, 16(%esp)
 10948 7cce 8B4508   		movl	8(%ebp), %eax
 10949 7cd1 8B4008   		movl	8(%eax), %eax
 10950 7cd4 8944240C 		movl	%eax, 12(%esp)
 10951 7cd8 C7442408 		movl	$LC153, 8(%esp)
 10951      E07B0000 
 10952 7ce0 C7442404 		movl	$LC3, 4(%esp)
 10952      4B040000 
 10953 7ce8 C7042403 		movl	$3, (%esp)
 10953      000000
 10954 7cef E8000000 		call	_reslog_adaptor_log
 10954      00
5695:str_merge.c   ****         /* Allocated items*/
5696:str_merge.c   ****         RefListItem **newList =  (RefList**)malloc( sizeof(RefListItem*) * newSize);
 10956              	LM1359:
 10957 7cf4 8B45FC   		movl	-4(%ebp), %eax
 10958 7cf7 C1E002   		sall	$2, %eax
 10959 7cfa 890424   		movl	%eax, (%esp)
 10960 7cfd E8000000 		call	_malloc
 10960      00
 10961 7d02 8945EC   		movl	%eax, -20(%ebp)
5697:str_merge.c   ****         if(newList==NULL)
 10963              	LM1360:
 10964 7d05 837DEC00 		cmpl	$0, -20(%ebp)
 10965 7d09 7528     		jne	L627
5698:str_merge.c   ****         {
5699:str_merge.c   ****             STRMERG_LOG_E("Out of memory. Can't resize list in AddRefListItem().");
 10967              	LM1361:
 10968 7d0b C7442408 		movl	$LC154, 8(%esp)
 10968      207C0000 
 10969 7d13 C7442404 		movl	$LC3, 4(%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 304


 10969      4B040000 
 10970 7d1b C7042403 		movl	$3, (%esp)
 10970      000000
 10971 7d22 E8000000 		call	_reslog_adaptor_log
 10971      00
5700:str_merge.c   ****             return -1;
 10973              	LM1362:
 10974 7d27 C745E8FF 		movl	$-1, -24(%ebp)
 10974      FFFFFF
 10975 7d2e E9980000 		jmp	L624
 10975      00
 10976              	L627:
5701:str_merge.c   ****         }
5702:str_merge.c   ****         tmpItemList = list->ListItems;
 10978              	LM1363:
 10979 7d33 8B4508   		movl	8(%ebp), %eax
 10980 7d36 8B00     		movl	(%eax), %eax
 10981 7d38 8945F0   		movl	%eax, -16(%ebp)
5703:str_merge.c   ****         memset(newList, 0, sizeof(RefListItem*) * newSize);
 10983              	LM1364:
 10984 7d3b 8B45FC   		movl	-4(%ebp), %eax
 10985 7d3e C1E002   		sall	$2, %eax
 10986 7d41 89442408 		movl	%eax, 8(%esp)
 10987 7d45 C7442404 		movl	$0, 4(%esp)
 10987      00000000 
 10988 7d4d 8B45EC   		movl	-20(%ebp), %eax
 10989 7d50 890424   		movl	%eax, (%esp)
 10990 7d53 E8000000 		call	_memset
 10990      00
5704:str_merge.c   ****         memcpy(newList ,list->ListItems, sizeof(RefListItem*) * list->Size) ;
 10992              	LM1365:
 10993 7d58 8B4508   		movl	8(%ebp), %eax
 10994 7d5b 8B4008   		movl	8(%eax), %eax
 10995 7d5e C1E002   		sall	$2, %eax
 10996 7d61 89442408 		movl	%eax, 8(%esp)
 10997 7d65 8B4508   		movl	8(%ebp), %eax
 10998 7d68 8B00     		movl	(%eax), %eax
 10999 7d6a 89442404 		movl	%eax, 4(%esp)
 11000 7d6e 8B45EC   		movl	-20(%ebp), %eax
 11001 7d71 890424   		movl	%eax, (%esp)
 11002 7d74 E8000000 		call	_memcpy
 11002      00
5705:str_merge.c   ****         list->Size = newSize;
 11004              	LM1366:
 11005 7d79 8B5508   		movl	8(%ebp), %edx
 11006 7d7c 8B45FC   		movl	-4(%ebp), %eax
 11007 7d7f 894208   		movl	%eax, 8(%edx)
5706:str_merge.c   ****         list->ListItems = newList;
 11009              	LM1367:
 11010 7d82 8B5508   		movl	8(%ebp), %edx
 11011 7d85 8B45EC   		movl	-20(%ebp), %eax
 11012 7d88 8902     		movl	%eax, (%edx)
5707:str_merge.c   ****         /* Release the original items*/
5708:str_merge.c   ****         free(tmpItemList);
 11014              	LM1368:
 11015 7d8a 8B45F0   		movl	-16(%ebp), %eax
 11016 7d8d 890424   		movl	%eax, (%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 305


 11017 7d90 E8000000 		call	_free
 11017      00
 11018              	L626:
5709:str_merge.c   ****     }
5710:str_merge.c   ****     indx = list->ListLength;
 11020              	LM1369:
 11021              	LBE69:
 11022 7d95 8B4508   		movl	8(%ebp), %eax
 11023 7d98 8B4004   		movl	4(%eax), %eax
 11024 7d9b 8945F8   		movl	%eax, -8(%ebp)
5711:str_merge.c   ****     *(list->ListItems + indx) = item;
 11026              	LM1370:
 11027 7d9e 8B5508   		movl	8(%ebp), %edx
 11028 7da1 8B45F8   		movl	-8(%ebp), %eax
 11029 7da4 8D0C8500 		leal	0(,%eax,4), %ecx
 11029      000000
 11030 7dab 8B12     		movl	(%edx), %edx
 11031 7dad 8B450C   		movl	12(%ebp), %eax
 11032 7db0 89040A   		movl	%eax, (%edx,%ecx)
5712:str_merge.c   ****     list->ListLength++;
 11034              	LM1371:
 11035 7db3 8B4508   		movl	8(%ebp), %eax
 11036 7db6 FF4004   		incl	4(%eax)
5713:str_merge.c   ****     list->AllocatedSize += item->ItemSize;
 11038              	LM1372:
 11039 7db9 8B4D08   		movl	8(%ebp), %ecx
 11040 7dbc 8B5508   		movl	8(%ebp), %edx
 11041 7dbf 8B450C   		movl	12(%ebp), %eax
 11042 7dc2 8B4004   		movl	4(%eax), %eax
 11043 7dc5 03420C   		addl	12(%edx), %eax
 11044 7dc8 89410C   		movl	%eax, 12(%ecx)
5714:str_merge.c   **** }
 11046              	LM1373:
 11047              	L624:
 11048              	LBE68:
 11049 7dcb 8B45E8   		movl	-24(%ebp), %eax
 11050 7dce C9       		leave
 11051 7dcf C3       		ret
 11061              	Lscope50:
 11063 7dd0 90909090 		.align 32
 11063      90909090 
 11063      90909090 
 11063      90909090 
 11064              	LC155:
 11065 7de0 5B4D454D 		.ascii "[MEM]GetRefListItem overflow: idx =%d, len = %d\0"
 11065      5D476574 
 11065      5265664C 
 11065      69737449 
 11065      74656D20 
 11066              	LC156:
 11067 7e10 0A455252 		.ascii "\12ERROR, tmp == NULL\0"
 11067      4F522C20 
 11067      746D7020 
 11067      3D3D204E 
 11067      554C4C00 
 11072              	_GetRefListItem:
5715:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 306


5716:str_merge.c   **** /* Get an item from a ref list */
5717:str_merge.c   **** static RefListItem* GetRefListItem(RefList * list, int index)
5718:str_merge.c   **** {
 11074              	LM1374:
 11075 7e24 55       		pushl	%ebp
 11076 7e25 89E5     		movl	%esp, %ebp
 11077 7e27 83EC28   		subl	$40, %esp
5719:str_merge.c   ****     /* size check */
5720:str_merge.c   ****     RefListItem** tmp = NULL;
 11079              	LM1375:
 11080              	LBB70:
 11081 7e2a C745FC00 		movl	$0, -4(%ebp)
 11081      000000
5721:str_merge.c   ****     if(index >= list->ListLength){
 11083              	LM1376:
 11084 7e31 8B5508   		movl	8(%ebp), %edx
 11085 7e34 8B450C   		movl	12(%ebp), %eax
 11086 7e37 3B4204   		cmpl	4(%edx), %eax
 11087 7e3a 7C36     		jl	L629
5722:str_merge.c   ****         STRMERG_LOG_E("[MEM]GetRefListItem overflow: idx =%d, len = %d", index, list->ListLength);
 11089              	LM1377:
 11090 7e3c 8B4508   		movl	8(%ebp), %eax
 11091 7e3f 8B4004   		movl	4(%eax), %eax
 11092 7e42 89442410 		movl	%eax, 16(%esp)
 11093 7e46 8B450C   		movl	12(%ebp), %eax
 11094 7e49 8944240C 		movl	%eax, 12(%esp)
 11095 7e4d C7442408 		movl	$LC155, 8(%esp)
 11095      E07D0000 
 11096 7e55 C7442404 		movl	$LC3, 4(%esp)
 11096      4B040000 
 11097 7e5d C7042403 		movl	$3, (%esp)
 11097      000000
 11098 7e64 E8000000 		call	_reslog_adaptor_log
 11098      00
5723:str_merge.c   ****         return NULL;
 11100              	LM1378:
 11101 7e69 C745F800 		movl	$0, -8(%ebp)
 11101      000000
 11102 7e70 EB41     		jmp	L628
 11103              	L629:
5724:str_merge.c   ****     }
5725:str_merge.c   ****     else
5726:str_merge.c   ****     {
5727:str_merge.c   ****         tmp = list->ListItems + index;
 11105              	LM1379:
 11106 7e72 8B5508   		movl	8(%ebp), %edx
 11107 7e75 8B450C   		movl	12(%ebp), %eax
 11108 7e78 C1E002   		sall	$2, %eax
 11109 7e7b 0302     		addl	(%edx), %eax
 11110 7e7d 8945FC   		movl	%eax, -4(%ebp)
5728:str_merge.c   ****         if(tmp==NULL)
 11112              	LM1380:
 11113 7e80 837DFC00 		cmpl	$0, -4(%ebp)
 11114 7e84 7525     		jne	L631
5729:str_merge.c   ****         {
5730:str_merge.c   ****             STRMERG_LOG_E("\nERROR, tmp == NULL");
 11116              	LM1381:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 307


 11117 7e86 C7442408 		movl	$LC156, 8(%esp)
 11117      107E0000 
 11118 7e8e C7442404 		movl	$LC3, 4(%esp)
 11118      4B040000 
 11119 7e96 C7042403 		movl	$3, (%esp)
 11119      000000
 11120 7e9d E8000000 		call	_reslog_adaptor_log
 11120      00
5731:str_merge.c   ****             return NULL;
 11122              	LM1382:
 11123 7ea2 C745F800 		movl	$0, -8(%ebp)
 11123      000000
 11124 7ea9 EB08     		jmp	L628
 11125              	L631:
5732:str_merge.c   **** 	}
5733:str_merge.c   **** 	return *(tmp);
 11127              	LM1383:
 11128 7eab 8B45FC   		movl	-4(%ebp), %eax
 11129 7eae 8B00     		movl	(%eax), %eax
 11130 7eb0 8945F8   		movl	%eax, -8(%ebp)
5734:str_merge.c   ****     }
5735:str_merge.c   **** }
 11132              	LM1384:
 11133              	L628:
 11134              	LBE70:
 11135 7eb3 8B45F8   		movl	-8(%ebp), %eax
 11136 7eb6 C9       		leave
 11137 7eb7 C3       		ret
 11141              	Lscope51:
 11143              	LC157:
 11144 7eb8 46726565 		.ascii "Free old item%d\0"
 11144      206F6C64 
 11144      20697465 
 11144      6D256400 
 11150              	_SetRefListItem:
5736:str_merge.c   **** 
5737:str_merge.c   **** /* Set a list item, the old item is free by this function automatically */
5738:str_merge.c   **** static int SetRefListItem(RefList * list,int index,RefListItem* item)
5739:str_merge.c   **** {
 11152              	LM1385:
 11153 7ec8 55       		pushl	%ebp
 11154 7ec9 89E5     		movl	%esp, %ebp
 11155 7ecb 83EC18   		subl	$24, %esp
5740:str_merge.c   ****     RefListItem* oldItem = GetRefListItem(list,index);
 11157              	LM1386:
 11158              	LBB71:
 11159 7ece 8B450C   		movl	12(%ebp), %eax
 11160 7ed1 89442404 		movl	%eax, 4(%esp)
 11161 7ed5 8B4508   		movl	8(%ebp), %eax
 11162 7ed8 890424   		movl	%eax, (%esp)
 11163 7edb E844FFFF 		call	_GetRefListItem
 11163      FF
 11164 7ee0 8945FC   		movl	%eax, -4(%ebp)
5741:str_merge.c   ****     if(oldItem!=NULL)
 11166              	LM1387:
 11167 7ee3 837DFC00 		cmpl	$0, -4(%ebp)
 11168 7ee7 7443     		je	L633
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 308


5742:str_merge.c   ****     {
5743:str_merge.c   ****         STRMERG_LOG_V("Free old item%d", index);
 11170              	LM1388:
 11171 7ee9 8B450C   		movl	12(%ebp), %eax
 11172 7eec 8944240C 		movl	%eax, 12(%esp)
 11173 7ef0 C7442408 		movl	$LC157, 8(%esp)
 11173      B87E0000 
 11174 7ef8 C7442404 		movl	$LC3, 4(%esp)
 11174      4B040000 
 11175 7f00 C7042401 		movl	$1, (%esp)
 11175      000000
 11176 7f07 E8000000 		call	_reslog_adaptor_log
 11176      00
5744:str_merge.c   ****         if(oldItem->ItemData != NULL)
 11178              	LM1389:
 11179 7f0c 8B45FC   		movl	-4(%ebp), %eax
 11180 7f0f 833800   		cmpl	$0, (%eax)
 11181 7f12 740D     		je	L634
5745:str_merge.c   ****         {
5746:str_merge.c   ****             free(oldItem->ItemData);
 11183              	LM1390:
 11184 7f14 8B45FC   		movl	-4(%ebp), %eax
 11185 7f17 8B00     		movl	(%eax), %eax
 11186 7f19 890424   		movl	%eax, (%esp)
 11187 7f1c E8000000 		call	_free
 11187      00
 11188              	L634:
5747:str_merge.c   ****         }
5748:str_merge.c   ****         free(oldItem);
 11190              	LM1391:
 11191 7f21 8B45FC   		movl	-4(%ebp), %eax
 11192 7f24 890424   		movl	%eax, (%esp)
 11193 7f27 E8000000 		call	_free
 11193      00
 11194              	L633:
5749:str_merge.c   ****     }
5750:str_merge.c   ****     if( list!=NULL && list->ListItems !=NULL)
 11196              	LM1392:
 11197 7f2c 837D0800 		cmpl	$0, 8(%ebp)
 11198 7f30 741F     		je	L635
 11199 7f32 8B4508   		movl	8(%ebp), %eax
 11200 7f35 833800   		cmpl	$0, (%eax)
 11201 7f38 7417     		je	L635
5751:str_merge.c   ****     {
5752:str_merge.c   ****         *(list->ListItems + index) = item;
 11203              	LM1393:
 11204 7f3a 8B5508   		movl	8(%ebp), %edx
 11205 7f3d 8B450C   		movl	12(%ebp), %eax
 11206 7f40 8D0C8500 		leal	0(,%eax,4), %ecx
 11206      000000
 11207 7f47 8B12     		movl	(%edx), %edx
 11208 7f49 8B4510   		movl	16(%ebp), %eax
 11209 7f4c 89040A   		movl	%eax, (%edx,%ecx)
 11210 7f4f EB09     		jmp	L636
 11211              	L635:
5753:str_merge.c   ****     }
5754:str_merge.c   **** 	else
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 309


5755:str_merge.c   **** 	{
5756:str_merge.c   ****         return -1;
 11213              	LM1394:
 11214 7f51 C745F8FF 		movl	$-1, -8(%ebp)
 11214      FFFFFF
 11215 7f58 EB07     		jmp	L632
 11216              	L636:
5757:str_merge.c   **** 	}
5758:str_merge.c   ****     
5759:str_merge.c   ****     return 0;
 11218              	LM1395:
 11219 7f5a C745F800 		movl	$0, -8(%ebp)
 11219      000000
5760:str_merge.c   **** }
 11221              	LM1396:
 11222              	L632:
 11223              	LBE71:
 11224 7f61 8B45F8   		movl	-8(%ebp), %eax
 11225 7f64 C9       		leave
 11226 7f65 C3       		ret
 11230              	Lscope52:
 11232              	LC158:
 11233 7f66 44554D50 		.ascii "DUMP REF LIST to %s\0"
 11233      20524546 
 11233      204C4953 
 11233      5420746F 
 11233      20257300 
 11234              	LC159:
 11235 7f7a 4F70656E 		.ascii "Open file suceess!!\0"
 11235      2066696C 
 11235      65207375 
 11235      63656573 
 11235      73212100 
 11236              		.align 2
 11237              	LC160:
 11238 7f8e 0D000A00 		.ascii "\15\0\12\0\0\0"
 11238      0000
 11243              	_DumpRefList:
5761:str_merge.c   **** #endif /* MEM_REF_LIST_OPT*/
5762:str_merge.c   **** 
5763:str_merge.c   **** #ifdef STR_MERGE_DEBUG
5764:str_merge.c   **** #ifndef MEM_REF_LIST_OPT
5765:str_merge.c   **** static void DumpRefList(const char* filename, wchar_t *list,const int itemSize, int count)
5766:str_merge.c   **** {
5767:str_merge.c   ****     int i=0;
5768:str_merge.c   ****     wchar_t *tmp = list;	
5769:str_merge.c   ****     FILE * outputfile;
5770:str_merge.c   ****     outputfile = fopen(filename,"w");
5771:str_merge.c   ****     for(i=0;i< count;i++)
5772:str_merge.c   ****     {
5773:str_merge.c   ****         fputws(tmp,outputfile);
5774:str_merge.c   ****         fputws(L"\r\n", outputfile);
5775:str_merge.c   ****         tmp += itemSize;
5776:str_merge.c   ****     }
5777:str_merge.c   ****     fclose(outputfile);
5778:str_merge.c   **** }
5779:str_merge.c   **** 
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 310


5780:str_merge.c   **** 
5781:str_merge.c   **** #else /*MEM_REF_LIST_OPT*/
5782:str_merge.c   **** 
5783:str_merge.c   **** static void DumpRefList(const char* filename, RefList *list)
5784:str_merge.c   **** {
 11245              	LM1397:
 11246 7f94 55       		pushl	%ebp
 11247 7f95 89E5     		movl	%esp, %ebp
 11248 7f97 83EC28   		subl	$40, %esp
5785:str_merge.c   ****     int i = 0;
 11250              	LM1398:
 11251              	LBB72:
 11252 7f9a C745FC00 		movl	$0, -4(%ebp)
 11252      000000
5786:str_merge.c   ****     FILE * outputfile;
5787:str_merge.c   ****     int length =0;
 11254              	LM1399:
 11255 7fa1 C745F400 		movl	$0, -12(%ebp)
 11255      000000
5788:str_merge.c   ****     STRMERG_LOG_V("DUMP REF LIST to %s", filename);
 11257              	LM1400:
 11258 7fa8 8B4508   		movl	8(%ebp), %eax
 11259 7fab 8944240C 		movl	%eax, 12(%esp)
 11260 7faf C7442408 		movl	$LC158, 8(%esp)
 11260      667F0000 
 11261 7fb7 C7442404 		movl	$LC3, 4(%esp)
 11261      4B040000 
 11262 7fbf C7042401 		movl	$1, (%esp)
 11262      000000
 11263 7fc6 E8000000 		call	_reslog_adaptor_log
 11263      00
5789:str_merge.c   ****     outputfile = fopen(filename,"w");
 11265              	LM1401:
 11266 7fcb C7442404 		movl	$LC26, 4(%esp)
 11266      9F150000 
 11267 7fd3 8B4508   		movl	8(%ebp), %eax
 11268 7fd6 890424   		movl	%eax, (%esp)
 11269 7fd9 E8000000 		call	_fopen
 11269      00
 11270 7fde 8945F8   		movl	%eax, -8(%ebp)
5790:str_merge.c   ****     STRMERG_LOG_V("Open file suceess!!");
 11272              	LM1402:
 11273 7fe1 C7442408 		movl	$LC159, 8(%esp)
 11273      7A7F0000 
 11274 7fe9 C7442404 		movl	$LC3, 4(%esp)
 11274      4B040000 
 11275 7ff1 C7042401 		movl	$1, (%esp)
 11275      000000
 11276 7ff8 E8000000 		call	_reslog_adaptor_log
 11276      00
5791:str_merge.c   ****     for(i=0;i< list->ListLength;i++)
 11278              	LM1403:
 11279 7ffd C745FC00 		movl	$0, -4(%ebp)
 11279      000000
 11280              	L638:
 11281 8004 8B550C   		movl	12(%ebp), %edx
 11282 8007 8B45FC   		movl	-4(%ebp), %eax
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 311


 11283 800a 3B4204   		cmpl	4(%edx), %eax
 11284 800d 7C02     		jl	L641
 11285 800f EB62     		jmp	L639
 11286              	L641:
5792:str_merge.c   ****     {
5793:str_merge.c   ****         length= wcslen((*(list->ListItems+i))->ItemData);
 11288              	LM1404:
 11289 8011 8B4D0C   		movl	12(%ebp), %ecx
 11290 8014 8B45FC   		movl	-4(%ebp), %eax
 11291 8017 8D148500 		leal	0(,%eax,4), %edx
 11291      000000
 11292 801e 8B01     		movl	(%ecx), %eax
 11293 8020 8B0410   		movl	(%eax,%edx), %eax
 11294 8023 8B00     		movl	(%eax), %eax
 11295 8025 890424   		movl	%eax, (%esp)
 11296 8028 E8000000 		call	_wcslen
 11296      00
 11297 802d 8945F4   		movl	%eax, -12(%ebp)
5794:str_merge.c   ****         if(length >0 )
 11299              	LM1405:
 11300 8030 837DF400 		cmpl	$0, -12(%ebp)
 11301 8034 7E36     		jle	L640
5795:str_merge.c   ****         {
5796:str_merge.c   ****             fputws((*(list->ListItems+i))->ItemData, outputfile);
 11303              	LM1406:
 11304 8036 8B45F8   		movl	-8(%ebp), %eax
 11305 8039 89442404 		movl	%eax, 4(%esp)
 11306 803d 8B4D0C   		movl	12(%ebp), %ecx
 11307 8040 8B45FC   		movl	-4(%ebp), %eax
 11308 8043 8D148500 		leal	0(,%eax,4), %edx
 11308      000000
 11309 804a 8B01     		movl	(%ecx), %eax
 11310 804c 8B0410   		movl	(%eax,%edx), %eax
 11311 804f 8B00     		movl	(%eax), %eax
 11312 8051 890424   		movl	%eax, (%esp)
 11313 8054 E8000000 		call	_fputws
 11313      00
5797:str_merge.c   ****             fputws(L"\r\n", outputfile);
 11315              	LM1407:
 11316 8059 8B45F8   		movl	-8(%ebp), %eax
 11317 805c 89442404 		movl	%eax, 4(%esp)
 11318 8060 C704248E 		movl	$LC160, (%esp)
 11318      7F0000
 11319 8067 E8000000 		call	_fputws
 11319      00
 11321              	LM1408:
 11322              	L640:
 11323 806c 8D45FC   		leal	-4(%ebp), %eax
 11324 806f FF00     		incl	(%eax)
 11325 8071 EB91     		jmp	L638
 11326              	L639:
5798:str_merge.c   ****         }
5799:str_merge.c   ****     }
5800:str_merge.c   ****     fclose(outputfile);
 11328              	LM1409:
 11329 8073 8B45F8   		movl	-8(%ebp), %eax
 11330 8076 890424   		movl	%eax, (%esp)
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 312


 11331 8079 E8000000 		call	_fclose
 11331      00
5801:str_merge.c   **** }
 11333              	LM1410:
 11334 807e C9       		leave
 11335 807f C3       		ret
 11336              	LBE72:
 11342              	Lscope53:
 11344              		.comm	_fixed_id, 16	 # 16
 11345              		.comm	_fixed_result, 16	 # 8
 11346              	.lcomm _mtk_gLanguageFlag,16
 11347              	.lcomm _is16bit,16
 11348              	.lcomm _StrLine,131072
 11349              	.lcomm _StrSize,131072
 11371              		.text
 11373              	Letext:
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 313


DEFINED SYMBOLS
                            *ABS*:00000000 str_merge.c
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:371    .bss:00000000 _CurrMaxTransStrId
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:373    .bss:00000008 _str_merge_err_code
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:376    .data:00000000 _str_merge_err_msg
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:385    .text:00000000 _str_merge_set_err
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:412    .text:0000002b _str_merge_get_err
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:440    .data:00000194 _DELIMETER
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:448    .data:00000198 _EOS
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:450    .bss:00000018 _StrID
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:451    .bss:00000028 _g_line_buf_length
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:452    .bss:00000038 _g_line_buf_act_length
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:453    .bss:00000048 _ref_all_list
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:454    .bss:00000058 _ref_ssc
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:455    .bss:00000068 _ref_tmp
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:456    .bss:00000078 _nLang
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:457    .bss:00000088 _filter_ref_ssc
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:458    .bss:00000098 _nUsedLang
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:459    .bss:000000a8 _line_offset
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:464    .text:00000050 _CreateHashTable
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:549    .text:000000e1 _DJBHash
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:615    .text:00000143 _hash_add
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:827    .text:000002bc _hash_search
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:926    .text:0000035f _hash_free
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:1017   .text:000003e3 _UCS2ASCII
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:1083   .text:00000455 _GetItem
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:1264   .text:000005b8 _OutputFixColumns
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:1374   .text:000006e8 _GetLineBufLength
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:1478   .text:000007aa _en_language_is_open
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:1553   .text:00000824 _get_language_in_ssc_index
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:1862   .text:00000ac4 _filter_raw_string
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:2099   .text:00000d8d _check_ref_list_item
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:2205   .text:000010ce _load_ref_list_to_mem
                            *COM*:00000010 _fixed_id
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:2493   .text:0000138b _get_ref_count
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:2568   .text:00001402 _get_filter_used_language_count
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:2686   .text:000018b2 _MergeStrRes
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:11349  .bss:000200d8 _StrSize
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:11348  .bss:000000d8 _StrLine
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:3922   .text:000027cd _mask_length
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:3981   .text:00002814 _pow
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:4029   .text:00002848 _fmod
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:4072   .text:0000286d _GetHashValue
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:4161   .text:00002909 _Trans
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:4263   .text:000029ba _UCS2ASCII_CR
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:4359   .text:00002a3d _ifLanguageUsed
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:4434   .text:00002ab0 _GetStrByRef
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:4495   .text:00002b1c _LookupDupStr
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:11346  .bss:000000b8 _mtk_gLanguageFlag
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:4873   .text:00003088 _GetStrResList
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:6277   .text:00004061 _print_language_usage
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:6466   .text:00004207 _GetItemAsc
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:6586   .text:000042ba _append_cat_padding_bytes
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:6606   .text:000042c8 _str_add_pedding_bytes
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:6815   .text:00004cab _GenerateStrResFile
                            *COM*:00000010 _fixed_result
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:11347  .bss:000000c8 _is16bit
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 314


d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:8458   .text:00005f89 _generate_map2
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:8761   .text:00006221 _generate_strmap_search
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:8878   .text:00006596 _generate_language_list_array
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:9101   .text:0000684c _init_fixed_id
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:9233   .text:00006959 _set_fixed_str_flag
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:9312   .text:000069e0 _generate_enum_hash
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:9409   .text:00006a84 _get_fixed_string_total_len
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:9537   .text:00006e10 _generate_fixed_str
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:10092  .text:000073d1 _write_fixed_str
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:10242  .text:0000750c _write_fixed_str_offset
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:10302  .text:0000757c _write_fixed_offset
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:10357  .text:000075ed _ucs2toasc
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:10428  .text:0000764a _write_fixed_string_log
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:10559  .text:000077ec _CreateRefList
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:10656  .text:00007958 _DeleteRefList
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:10759  .text:00007a64 _CreateListItemFromStr
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:10895  .text:00007c56 _AddRefListItem
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:11072  .text:00007e24 _GetRefListItem
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:11150  .text:00007ec8 _SetRefListItem
d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s:11243  .text:00007f94 _DumpRefList

UNDEFINED SYMBOLS
_mtk_gMaxDeployedLangs
_mtk_gLanguageArray
__alloca
__imp___iob
_CurrMaxStringId
_StrEnum
_StrIsPopulate
_Str
_fputws
_memcpy
_fputs
_strncpy
_strstr
_strlen
_fwprintf
__wtoi
_fclose
_fopen
_fprintf
_reslog_adaptor_fatal_error_pending_wlog
_swprintf
_fflush
_reslog_adaptor_wlog
_rewind
_wcstok
_strcmp
_fgetws
_feof
_wcscat
_wcscpy
_exit
_reslog_adaptor_log
_wcsstr
_free
_wcscmp
GAS LISTING d:/MTK/MTK2503/MTK2503/11CW1418SP4_03_CORETEK03AE_11C_V1_GPRS_MMI/plutommi/Customer/ResGenerator/gcctmp/ccA5daaa.s 			page 315


_wcslen
_memset
_malloc
_wcsncpy
